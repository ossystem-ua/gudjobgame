!function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){var i=t("react"),r=t("./components/App");i.render(i.createElement(r,null),document.getElementById("app"))},{"./components/App":21,react:346}],2:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a=t("../constants/WindowConstants"),o=t("../utils/Api"),s={loadPlant:function(t){var e="resources/data/info/plants/"+t+".json";o.LOC(e,function(t,e){var n=JSON.parse(e.text)[0];i.dispatch({action:r.PLANT_CHANGE,data:n})})},loadSupplier:function(t){var e="resources/data/info/suppliers/"+t+".json";o.LOC(e,function(t,e){var n=JSON.parse(e.text)[0];i.dispatch({action:r.SUPPLIER_CHANGE,data:n})})},loadArea:function(t,e){var n="resources/data/info/"+t+"/"+e+".json";o.LOC(n,function(t,e){var n=JSON.parse(e.text)[0];i.dispatch({action:r.AREA_CHANGE,data:n})})},loadOperations:function(t){var e="resources/data/operations/"+t+".json";o.LOC(e,function(t,e){var n=JSON.parse(e.text);i.dispatch({action:a.OPERATIONS_LOAD,data:n})})},loadNotifications:function(){var t="resources/data/notifications.json";o.LOC(t,function(t,e){var n=JSON.parse(e.text);i.dispatch({action:r.NOTIFICATIONS_CHANGE,data:n})})}};e.exports=s},{"../constants/SidebarConstants":66,"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,"../utils/Api":89}],3:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/AppConstants"),a={show:function(t){var e=["auth","panel","game","finish"];-1!=e.indexOf(t)&&i.dispatch({action:r.APP_CHANGE,data:t})},showError404:function(t,e){var n={visible:!0};t&&(n.content=t),e&&(n.ping=e),i.dispatch({action:r.ERROR404_CHANGE,data:n})},hideError404:function(){i.dispatch({action:r.ERROR404_CHANGE,data:{visible:!1}})},finishRound:function(t){this.show("finish"),i.dispatch({action:r.FINISH_UPDATE,data:t})}};e.exports=a},{"../constants/AppConstants":62,"../dispatcher/AppDispatcher":68}],4:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a={change:function(t){i.dispatch({action:r.AREA_CHANGE_TAB,data:t})}};e.exports=a},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68}],5:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("./SnackbarActions"),a=(t("./WindowActions"),t("./AppActions")),o=t("./SocketActions"),s=t("./SidebarActions"),u=(t("./PanelActions"),t("../utils/Api")),c=t("../utils/LocalStorage"),l={changeStep:function(t){i.dispatch({action:"changeStep",data:t})},hideFormAuth:function(){r.hide(),o.connect()},changeFormReg:function(t){i.dispatch({action:"changeFormReg",data:t})},changeLanguages:function(t){i.dispatch({action:"changeLanguages",data:t})},clearFormReg:function(){this.changeFormReg({email:"",nick:"",password:""})},signin:function(t){var e="signin",n=this;u.POST(e,t,function(e){u.setToken(e.data.token),c.set("email",t.email),n.hideFormAuth(),o.connect(),o.emit("joinLobby")})},signup:function(t){var e="signup",n=this;u.POST(e,t,function(t){u.removeRound(),u.setRegister(),u.setToken(t.data.token),n.clearFormReg(),o.connect(),o.emit("startGame")})},checkEmail:function(t,e){var n="check/email";u.POST(n,{email:t},e)},signout:function(){u.removeToken(),l.changeStep("login"),s.hide(),a.show("auth"),o.disconnect()},logout:function(){u.removeRound(),s.hide(),o.emit("leaveGame")},check:function(){var t="authorized";u.isToken()?u.GET(t,this.hideFormAuth):a.show("auth")}};e.exports=l},{"../dispatcher/AppDispatcher":68,"../utils/Api":89,"../utils/LocalStorage":91,"./AppActions":3,"./PanelActions":11,"./SidebarActions":14,"./SnackbarActions":15,"./SocketActions":16,"./WindowActions":19}],6:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/WindowConstants"),a=(t("./ApiActions"),{switchTab:function(t){var e=["info","loans"];t&&-1!=e.indexOf(t)&&i.dispatch({action:r.FINANCE_CHANGE,data:{activeTab:t}})},updateInfo:function(t){i.dispatch({action:r.FINANCE_UPDATE_INFO,data:t})},updateLoans:function(t){i.dispatch({action:r.FINANCE_UPDATE_LOANS,data:t})}});e.exports=a},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,"./ApiActions":2}],7:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("./SocketActions"),a=(t("underscore"),{show:function(){i.dispatch({action:"INFO_CHANGE",data:{visible:!0}})},close:function(){i.dispatch({action:"INFO_CHANGE",data:{visible:!1}})},getData:function(t){r.emit("getHelp",t)},updateData:function(t){t.visible=!0,i.dispatch({action:"INFO_CHANGE",data:t})}});e.exports=a},{"../dispatcher/AppDispatcher":68,"./SocketActions":16,underscore:399}],8:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/GameConstants");e.exports={change:function(t){i.dispatch({action:r.MENU_CHANGE,data:t})},setMoney:function(t){i.dispatch({action:r.MENU_CHANGE,data:{money:t}})},setNotificationsCount:function(t){i.dispatch({action:r.MENU_CHANGE,data:{notificationsCount:t}})},updateGameTime:function(t){i.dispatch({action:r.UPDATE_GAME_TIME,data:{date:t}})}}},{"../constants/GameConstants":63,"../dispatcher/AppDispatcher":68}],9:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a={update:function(t){i.dispatch({action:r.NOTIFICATIONS_UPDATE,data:t})},add:function(t){i.dispatch({action:r.NOTIFICATIONS_ADD,data:t})},addCritical:function(t){i.dispatch({action:r.CRITICAL_NOTIFICATIONS_ADD,data:t}),this.showCritical()},showCritical:function(){i.dispatch({action:r.CRITICAL_CHANGE_VISIBLE,data:!0})},closeCritical:function(){i.dispatch({action:r.CRITICAL_CHANGE_VISIBLE,data:!1})},mark:function(t,e){i.dispatch({action:r.NOTIFICATIONS_MARK,data:{id:t,marker:e}})},filter:function(t){i.dispatch({action:r.NOTIFICATIONS_FILTER,key:t})},remove:function(t){i.dispatch({action:r.NOTIFICATIONS_REMOVE,data:{id:t}})}};e.exports=a},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68}],10:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/WindowConstants"),a=(t("./ApiActions"),{switchTab:function(t){var e=["general","employees","reports","upgrade"];t&&-1!=e.indexOf(t)&&i.dispatch({action:r.OPERATIONS_CHANGE,data:{activeTab:t}})},update:function(t){i.dispatch({action:r.OPERATIONS_UPDATE,data:t})},show:function(t){i.dispatch({action:r.OPERATIONS_CHANGE,data:{activePlant:t}})}});e.exports=a},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,"./ApiActions":2}],11:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/PanelConstants"),a=(t("../constants/SidebarConstants"),t("./ApiActions"),{show:function(){},updateListGame:function(t){i.dispatch({action:r.GAMES_UPDATE,data:t})},updateListActiveGames:function(t){i.dispatch({action:r.ACTIVE_GAMES_UPDATE,data:t})},select:function(t){i.dispatch({action:r.PANEL_CHANGE,data:{type:t}})},openMenu:function(){i.dispatch({action:r.PANEL_CHANGE,data:{menu:"visible"}})},closeMenu:function(){i.dispatch({action:r.PANEL_CHANGE,data:{menu:"hidden"}})}});e.exports=a},{"../constants/PanelConstants":65,"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,"./ApiActions":2}],12:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a={show:function(t){i.dispatch({action:r.SIDEBAR_CHANGE,data:{title:t,type:"plant"}})},update:function(t){i.dispatch({action:r.PLANT_CHANGE,data:t})}};e.exports=a},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68}],13:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/WindowConstants"),a={switchTab:function(t){var e=["general","direct","distributors"];t&&-1!=e.indexOf(t)&&i.dispatch({action:r.SALES_CHANGE,data:{activeTab:t}})},update:function(t){i.dispatch({action:r.SALES_CHANGE,data:t})}};e.exports=a},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68}],14:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a={change:function(t){i.dispatch({action:r.SIDEBAR_CHANGE,data:{type:t,visible:"visible"}})},changeHelp:function(t){i.dispatch({action:r.SIDEBAR_CHANGE,data:{help:t}})},show:function(t){i.dispatch({action:r.SIDEBAR_CHANGE,data:t})},hide:function(){i.dispatch({action:r.SIDEBAR_CHANGE,data:{type:"none",visible:"hidden"}})}};e.exports=a},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68}],15:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r={show:function(t){i.dispatch({action:"snackbarChange",data:{message:t,visible:"visible"}})},hide:function(){i.dispatch({action:"snackbarChange",data:{visible:"hidden"}})}};e.exports=r},{"../dispatcher/AppDispatcher":68}],16:[function(t,e,n){var i,r=t("../utils/Socket");e.exports={connect:function(){i=r.connect(null)},disconnect:function(){i&&i.disconnect()},emit:function(t,e){i&&i.emit(t,e)}}},{"../utils/Socket":92}],17:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/SidebarConstants"),a={show:function(t){i.dispatch({action:r.SIDEBAR_CHANGE,data:{title:t,type:"supplier"}})},update:function(t){i.dispatch({action:r.SUPPLIER_CHANGE,data:t})}};e.exports=a},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68}],18:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("../constants/WindowConstants"),a={show:function(t){i.dispatch({action:r.SUPPLIERS_CHANGE,data:{activeSupplier:t}})},update:function(t){i.dispatch({action:r.SUPPLIERS_UPDATE,data:t})}};e.exports=a},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68}],19:[function(t,e,n){var i=(t("../dispatcher/AppDispatcher"),t("./SidebarActions")),r=t("./OperationsActions"),a=t("./FinanceActions"),o=t("./SupplierWinActions"),s=t("./SalesActions"),u=t("./AreaActions"),c=t("./ApiActions"),l={openWindow:function(t){i.show(t)},openOperations:function(t,e){this.openWindow({title:"Operations",visible:"visible",type:"operations"}),e&&r.switchTab(e),r.show(t)},openSupplier:function(t){this.openWindow({title:"Supplier",visible:"visible",type:"win-supplier"}),o.show(t)},openFinance:function(t){this.openWindow({title:"Finance",visible:"visible",type:"finance"}),t&&a.switchTab(t)},openSales:function(t){this.openWindow({title:"Sales",visible:"visible",type:"sales"}),t&&s.switchTab(t)},"open\u0421ountry":function(t,e){this.openWindow({title:t,visible:"visible",type:"area"}),c.loadArea("country",t),e&&u.change(e)},openWindowFromNotification:function(t,e,n){switch(t){case"operations":this.openOperations(e,n);break;case"sales":this.openSales(n);break;case"finance":this.openFinance(n);break;case"supplier":if(!e)return this.open\u0421ountry("spain","operations");this.openSupplier(e)}},closeWindow:function(){i.hide()}};e.exports=l},{"../dispatcher/AppDispatcher":68,"./ApiActions":2,"./AreaActions":4,"./FinanceActions":6,"./OperationsActions":10,"./SalesActions":13,"./SidebarActions":14,"./SupplierWinActions":18}],20:[function(t,e,n){var i,r,a=t("react"),o=t("../settings.js"),s=t("../actions/AppActions"),u=t("../actions/AuthActions"),c=t("../actions/SnackbarActions"),l=t("../utils/Api"),h=a.createClass({displayName:"Error404",componentDidMount:function(){var t=this,e=o.reconnectionDelay||5e3;r=o.reconnectionAttempts||12,this.props.ping&&(i=setInterval(t.ping,e)),o.debug&&console.log("start ping: "+(this.props.ping?"yes":"no"))},componentWillUnmount:function(){i&&clearInterval(i),o.debug&&console.log("stop ping. Attempt connect "+(o.reconnectionAttempts-r))},ping:function(){var t="ping";return r?(--r,void l.GET(t,function(){s.hideError404(),u.check(),c.show("The connection is restored")})):(i&&clearInterval(i),this.close(),c.show("Failed to restore the connection to the server"))},close:function(){s.hideError404()},render:function(){return a.createElement("div",{className:"err404"},a.createElement("div",{className:"snackbar snackbar-visible"},a.createElement("span",{className:"snackbar-message"},this.props.content),a.createElement("span",{className:"snackbar-action",onClick:this.close},"close")))}});e.exports=h},{"../actions/AppActions":3,"../actions/AuthActions":5,"../actions/SnackbarActions":15,"../settings.js":69,"../utils/Api":89,react:346}],21:[function(t,e,n){var i=t("react"),r=t("./auth/Auth"),a=t("./Map"),o=t("./menu/Menu"),s=(t("./Window"),t("./Sidebar")),u=t("./Snackbar"),c=t("./Finish"),l=t("./Info"),h=t("./CriticalNotification"),p=t("./panel/Panel"),d=t("./404"),f=t("../actions/AuthActions"),m=t("../stores/AppStore"),g=t("../stores/InfoStore"),v=t("../stores/NotificationsStore"),y=t("../stores/404"),_=i.createClass({displayName:"Game",render:function(){return i.createElement("div",null,i.createElement(o,null),i.createElement(a,null),i.createElement(s,null))}}),x=i.createClass({displayName:"App",getInitialState:function(){return{type:m.getStates(),err404:y.getStates(),info:g.getStates(),critical:v.getVisibleCritical()}},updateType:function(){this.setState({type:m.getStates(),err404:this.state.err404})},updateInfo:function(){this.setState({info:g.getStates()})},updateErr404:function(){this.setState({type:"none"==this.state.type?"auth":this.state.type,err404:y.getStates()})},updateCritical:function(){this.setState({critical:v.getVisibleCritical()})},componentDidMount:function(){m.addChangeListener(this.updateType),g.addChangeListener(this.updateInfo),y.addChangeListener(this.updateErr404),v.addChangeListener(this.updateCritical),f.check()},render:function(){return i.createElement("div",null,"auth"==this.state.type&&i.createElement(r,null),"panel"==this.state.type&&i.createElement(p,null),"game"==this.state.type&&i.createElement(_,null),"finish"==this.state.type&&i.createElement(c,null),this.state.info.visible&&i.createElement(l,null),this.state.critical&&i.createElement(h,null),this.state.err404.visible&&i.createElement(d,{ping:this.state.err404.ping,content:this.state.err404.content}),i.createElement(u,null))}});e.exports=x},{"../actions/AuthActions":5,"../stores/404":70,"../stores/AppStore":71,"../stores/InfoStore":77,"../stores/NotificationsStore":80,"./404":20,"./CriticalNotification":22,"./Finish":23,"./Info":24,"./Map":25,"./Sidebar":26,"./Snackbar":27,"./Window":28,"./auth/Auth":29,"./menu/Menu":38,"./panel/Panel":41,react:346}],22:[function(t,e,n){var i=t("react"),r=t("../stores/NotificationsStore"),a=t("./sidebar/notifications/Notification"),o=t("../actions/NotificationsActions"),s=i.createClass({displayName:"CriticalNotification",getInitialState:function(){return{notifications:r.getCritical()}},componentDidMount:function(){r.addChangeListener(this.update)},componentWillUnmount:function(){r.removeChangeListener(this.update)},update:function(){this.setState({notifications:r.getCritical()})},close:function(){o.closeCritical()},render:function(){var t=0;return i.createElement("div",{className:"info-wrapper"},i.createElement("div",{className:"notifications critical"},i.createElement("p",{className:"title"},i.createElement("span",null,"Important info"),i.createElement("button",{className:"btn btn-float close icon-cross",onClick:this.close})),i.createElement("div",{className:"body"},this.state.notifications.map(function(e){return i.createElement(a,{data:e,key:t++,"short":!0})}))))}});e.exports=s},{"../actions/NotificationsActions":9,"../stores/NotificationsStore":80,"./sidebar/notifications/Notification":49,react:346}],23:[function(t,e,n){var i=t("react"),r=(t("../actions/AppActions"),t("../actions/AuthActions")),a=t("../stores/FinishStore"),o=t("material-ui"),s=o.Paper,u=(t("./charts/Line"),"marketShare"),c=i.createClass({displayName:"Finish",getInitialState:function(){return{tab:u,indexes:a.getData()}},componentDidMount:function(){a.addChangeListener(this.updateState)},componentWillUnmount:function(){a.removeChangeListener(this.updateState)},updateState:function(){this.setState({tab:this.state.tab,indexes:a.getData()})},tabTouch:function(t){this.setState({tab:t.target.dataset.tab,indexes:this.state.indexes})},close:function(){r.logout()},render:function(){var t="The end of the round",e="Thank you for participating in the game";return i.createElement("div",{className:"auth-wrapper"},i.createElement(s,{zDepth:3,rounded:!1,className:"auth finish"},i.createElement("p",{className:"logo"},"GudJob"),i.createElement("p",{className:"title"},t),i.createElement("p",{className:"content"},e),i.createElement("button",{className:"btn primary wide",onClick:this.close},"Close")))}});e.exports=c},{"../actions/AppActions":3,"../actions/AuthActions":5,"../stores/FinishStore":75,"./charts/Line":36,"material-ui":104,react:346}],24:[function(t,e,n){var i=t("react"),r=t("../actions/InfoActions"),a=t("../stores/InfoStore"),o=i.createClass({displayName:"Info",getInitialState:function(){return a.getStates()},update:function(){this.setState(a.getStates())},componentDidMount:function(){a.addChangeListener(this.update)},componentWillUnmount:function(){a.removeChangeListener(this.update)},close:function(){r.close()},render:function(){return i.createElement("div",{className:"info-wrapper",onClick:this.close},i.createElement("div",{className:"game-info"},i.createElement("p",{className:"title"},i.createElement("span",null,this.state.title),i.createElement("button",{className:"btn btn-float close icon-cross",onClick:this.close})),i.createElement("div",{className:"info-body"},this.state.info)))}});e.exports=o},{"../actions/InfoActions":7,"../stores/InfoStore":77,react:346}],25:[function(t,e,n){function i(t){if(null!==window.localStorage.getItem(t+"Visible"))return"true"===window.localStorage.getItem(t+"Visible");var e=t+"Visible";return window.localStorage.setItem(e,!0),!0}var r=t("react"),a=t("leaflet"),o=(t("leaflet.markercluster"),t("d3")),s=t("topojson"),u=t("../dispatcher/AppDispatcher"),c=t("../constants/SidebarConstants"),l=(t("../constants/MapConstants"),t("../stores/AppStore")),h=t("../actions/SocketActions"),p=t("../actions/PlantActions"),d=t("../actions/SupplierActions"),f=t("../actions/ApiActions"),m=r.createClass({displayName:"Map",plantsShow:i("plants"),supplierShow:i("suppliers"),countries:null,countryLayer:null,activeCountry:null,regionLayer:null,plantsLayer:null,suppliersLayer:null,active:null,activeType:"",activeName:"",plantIcon:a.icon({iconUrl:"resources/images/plant.png",iconSize:[50,50],iconAnchor:[12,41],popupAnchor:[-3,-76]}),activePlantIcon:a.icon({iconUrl:"resources/images/activeplant.png",iconSize:[50,50],iconAnchor:[12,41],popupAnchor:[-3,-76]}),supplierIcon:a.icon({iconUrl:"resources/images/supplier.png",iconSize:[50,50],iconAnchor:[12,41],popupAnchor:[-3,-76]}),activeSupplierIcon:a.icon({iconUrl:"resources/images/activesupplier.png",iconSize:[50,50],iconAnchor:[12,41],popupAnchor:[-3,-76]}),style:function(t){return{fillColor:"#296291",weight:2,opacity:1,color:"#000",dashArray:"3",fillOpacity:.7}},loadRegions:function(t){var e=this;o.json("resources/data/region/"+t+".json",function(t,n){return t?!1:void(e.regionLayer=a.geoJson(s.feature(n,n.objects.country).features,{style:e.style,onEachFeature:function(t,n){n.bindPopup("<span class='trigger'>"+t.properties.name+"</span>").on({click:e.regionClick})},filter:function(t,e){return"available"==t.properties.status}}).addTo(e.map))})},loadPlants:function(t){var e=this;o.json("resources/data/geo/plants/"+t+".json",function(t,n){if(t)return!1;e.plantsLayer=new a.MarkerClusterGroup;for(var i=0;i<n.length;i++){var r=n[i].coordinates,o=n[i].name,s=n[i].id,u=a.marker([r[1],r[0]],{icon:e.plantIcon,title:o,id:s}).bindPopup("<span class='trigger'>"+o+"</span>",{offset:a.point(10,-29)}).on("click",e.plantClick);e.plantsLayer.addLayer(u)}e.map.addLayer(e.plantsLayer)})},loadSuppliers:function(t){var e=this;o.json("resources/data/geo/suppliers/"+t+".json",function(t,n){if(t)return!1;e.suppliersLayer=new a.MarkerClusterGroup;for(var i=0;i<n.length;i++){var r=n[i].coordinates,o=n[i].name,s=n[i].id,u=a.marker([r[1],r[0]],{icon:e.supplierIcon,title:o,id:s}).bindPopup("<span class='trigger'>"+o+"</span>",{offset:a.point(10,-29)}).on("click",e.supplierClick);e.suppliersLayer.addLayer(u)}e.map.addLayer(e.suppliersLayer)})},removeRegions:function(){this.regionLayer&&this.regionLayer.clearLayers()},removePlants:function(){this.plantsLayer&&this.plantsLayer.clearLayers()},removeSuppliers:function(){this.suppliersLayer&&this.suppliersLayer.clearLayers()},countryClick:function(t){var e=this;e.activeCountry&&e.activeCountry.addTo(e.map),e.activeCountry=e.countryLayer.getLayer(t.target._leaflet_id),e.map.fitBounds(t.target.getBounds()),e.map.removeLayer(e.countryLayer.getLayer(t.target._leaflet_id)),e.removeRegions(),e.removePlants(),e.removeSuppliers();var n=t.target.feature.properties.name.toLowerCase();e.activeType="country",e.activename=n,e.loadRegions(n);var i=a.popup();i.setLatLng(t.latlng).setContent("<span class='trigger'>"+n+"</span>").openOn(e.map),e.changeState({title:n,type:"area",help:"country"}),l.isAuth()&&!window.localStorage.getItem("countryHelp")&&(h.emit("getHelp","country"),window.localStorage.setItem("countryHelp",!0)),f.loadArea("country",n)},regionClick:function(t){var e=this;e.active&&o.select(e.active).classed("active",!1);var n=t.layer||t.target,i=n._container.getElementsByTagName("path")[0];o.select(i).classed("active",!0),e.active=i,e.activeRegion=t.target.feature.properties.name.toLowerCase(),e.map.fitBounds(t.target.getBounds());var r=t.target.feature.properties.name.toLowerCase().replace(/\s/g,"");e.activeType="region",e.activeName=r,e.removePlants(),e.removeSuppliers(),e.plantsShow&&e.loadPlants(r),e.supplierShow&&e.loadSuppliers(r),this.changeState({title:t.target.feature.properties.name,type:"area",help:"region"}),l.isAuth()&&!window.localStorage.getItem("regionHelp")&&(h.emit("getHelp","region"),window.localStorage.setItem("regionHelp",!0)),f.loadArea("regions",r)},plantClick:function(t){var e=this;for(var n in e.plantsLayer._featureGroup._layers)e.plantsLayer._featureGroup._layers.hasOwnProperty(n)&&e.plantsLayer._featureGroup._layers[n].setIcon(e.plantIcon);t.target.setIcon(e.activePlantIcon),l.isAuth()&&!window.localStorage.getItem("plantHelp")&&(h.emit("getHelp","plant"),window.localStorage.setItem("plantHelp",!0)),p.show(t.target.options.title),h.emit("getPlant",t.target.options.id)},supplierClick:function(t){var e=this;for(var n in e.suppliersLayer._featureGroup._layers)e.suppliersLayer._featureGroup._layers.hasOwnProperty(n)&&e.suppliersLayer._featureGroup._layers[n].setIcon(e.supplierIcon);t.target.setIcon(e.activeSupplierIcon),l.isAuth()&&!window.localStorage.getItem("supplierHelp")&&(h.emit("getHelp","supplier"),window.localStorage.setItem("supplierHelp",!0)),d.show(t.target.options.title),h.emit("getSupplier",t.target.options.id)},toGlobal:function(){var t=this;t.activeCountry&&t.activeCountry.addTo(t.map),this.changeState({help:"global"}),t.removeRegions(),t.removePlants(),t.removeSuppliers(),t.map.fitBounds(t.bounds)},changeVisible:function(t){var e=this;void 0!==t.plant&&(e.plantsShow=t.plant),void 0!==t.supplier&&(e.supplierShow=t.supplier),"region"==e.activeType&&(e.plantsShow?(e.removePlants(),e.loadPlants(e.activeName)):e.removePlants(),e.supplierShow?(e.removeSuppliers(),e.loadSuppliers(e.activeName)):e.removeSuppliers())},test:function(){this.changeVisible({plant:!0,supplier:!0})},changeState:function(t){u.dispatch({action:c.SIDEBAR_CHANGE,data:t})},openSidebar:function(){u.dispatch({action:c.SIDEBAR_CHANGE,data:{visible:"visible"}})},componentDidMount:function(){var t=this;document.getElementById("map").addEventListener("click",function(e){"trigger".indexOf(e.target.classList)>-1&&(t.openSidebar(),document.getElementsByClassName("leaflet-popup-close-button")[0].click())});var e=a.latLng(-90,180),n=a.latLng(90,-180);this.bounds=a.latLngBounds(e,n);var i=this.map=a.map(this.getDOMNode(),{minZoom:2,maxZoom:18,maxBounds:this.bounds,zoomControl:!1,layers:[a.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="http://mapbox.com">Mapbox</a>',id:"examples.map-i875mjb7"})],attributionControl:!1}),r=a.Control.extend({options:{position:"bottomright"},onAdd:function(e){var n=a.DomUtil.create("div","map-control visible-control");a.DomEvent.addListener(n,"click",function(t){var e=document.getElementsByClassName("map-control")[0];e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")});var i="true"===window.localStorage.getItem("plantsVisible")?" active":"",r="true"===window.localStorage.getItem("suppliersVisible")?" active":"",o="btn-float action-button btn2 icon-plant"+i,s="btn-float action-button btn3 icon-logistics"+r,u=a.DomUtil.create("button",o,n),c=a.DomUtil.create("button",s,n),l=a.DomUtil.create("button","btn-float action-button icon-global btn1",n),p=a.DomUtil.create("button","btn-float action-button icon-help btn4",n);a.DomUtil.create("button","btn-float main-button icon-setting",n);return a.DomEvent.addListener(u,"click",function(e){e.stopPropagation();var n="true"===window.localStorage.getItem("plantsVisible");e.target.classList.contains("active")?e.target.classList.remove("active"):e.target.classList.add("active"),window.localStorage.setItem("plantsVisible",!n),t.changeVisible({plant:!n})}),a.DomEvent.addListener(c,"click",function(e){e.stopPropagation();var n="true"===window.localStorage.getItem("suppliersVisible");e.target.classList.contains("active")?e.target.classList.remove("active"):e.target.classList.add("active"),window.localStorage.setItem("suppliersVisible",!n),t.changeVisible({supplier:!n})}),a.DomEvent.addListener(p,"click",function(t){h.emit("getHelp","global")}),a.DomEvent.addListener(l,"click",t.toGlobal),n}});i.addControl(new r),o.json("resources/data/geo/world-topo-min.json",function(e,n){countries=a.geoJson(s.feature(n,n.objects.countries).features,{style:t.style,onEachFeature:function(e,n){n.bindPopup("<span class='trigger'>"+e.properties.name+"</span>",{offset:a.point(10,-29)}).on({click:t.countryClick}),n.addTo(i)},filter:function(t,e){return"available"==t.properties.status}});var r=[];for(var o in countries._layers)countries._layers.hasOwnProperty(o)&&r.push(countries._layers[o]);t.countryLayer=a.layerGroup(r)}),i.fitWorld(),l.isAuth()&&!window.localStorage.getItem("globalHelp")&&(h.emit("getHelp","global"),window.localStorage.setItem("globalHelp",!0))},componentWillUnmount:function(){this.map=null},render:function(){return r.createElement("div",{className:"map custom-popup",id:"map"})}});e.exports=m},{"../actions/ApiActions":2,"../actions/PlantActions":12,"../actions/SocketActions":16,"../actions/SupplierActions":17,"../constants/MapConstants":64,"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,"../stores/AppStore":71,d3:98,leaflet:103,"leaflet.markercluster":102,react:346,topojson:398}],26:[function(t,e,n){var i=t("react"),r=t("material-ui"),a=r.Toolbar,o=r.ToolbarGroup,s=t("../actions/SidebarActions"),u=t("../actions/SocketActions"),c=t("../stores/SidebarStore"),l=t("../stores/AppStore"),h=t("./sidebar/Area"),p=t("./sidebar/Plant"),d=t("./sidebar/Supplier"),f=t("./sidebar/Notifications"),m=t("./windows/Sales"),g=t("./windows/Finance"),v=t("./windows/Operations"),y=t("./windows/Supplier"),_=i.createClass({displayName:"Sidebar",getInitialState:function(){return{info:c.getStates(),auth:l.isAuth()}},componentDidMount:function(){c.addChangeListener(this.updateStates)},updateStates:function(){this.setState({info:c.getStates()})},componentWillUnmount:function(){c.removeChangeListener(this.updateStates)},close:function(){s.hide()},showInfo:function(){u.emit("getHelp",this.state.info.help)},render:function(){var t=this.state.info,e="sidebar "+("visible"==t.visible?"opened":"closed")+(t.type?" sidebar-"+t.type:"");return i.createElement("div",{className:e},i.createElement(a,null,i.createElement(o,{key:0,"float":"left"},i.createElement("span",{className:"title"},t.title),this.state.auth&&"notifications"!==t.type?i.createElement("button",{onClick:this.showInfo,className:"btn-help"},"i"):null,i.createElement("button",{className:"btn-close close icon-cross",onClick:this.close}))),i.createElement("div",{className:"body"},"area"==t.type&&i.createElement(h,null),"plant"==t.type&&i.createElement(p,null),"supplier"==t.type&&i.createElement(d,null),"notifications"==t.type&&i.createElement(f,null),"operations"==t.type&&i.createElement(v,null),"sales"==t.type&&i.createElement(m,null),"finance"==t.type&&i.createElement(g,null),"win-supplier"==t.type&&i.createElement(y,null)))}});e.exports=_},{"../actions/SidebarActions":14,"../actions/SocketActions":16,"../stores/AppStore":71,"../stores/SidebarStore":85,"./sidebar/Area":43,"./sidebar/Notifications":45,"./sidebar/Plant":47,"./sidebar/Supplier":48,"./windows/Finance":50,"./windows/Operations":51,"./windows/Sales":52,"./windows/Supplier":53,"material-ui":104,react:346}],27:[function(t,e,n){var i=t("react"),r=t("../stores/SnackbarStore"),a=t("../actions/SnackbarActions"),o=t("../utils/events"),s=i.createClass({displayName:"Snackbar",getInitialState:function(){return r.getStates()},componentDidMount:function(){r.addChangeListener(this.updateSnackbar)},updateSnackbar:function(){this.setState(r.getStates())},componentWillUnmount:function(){r.removeChangeListener(this.updateSnackbar)},close:function(){a.hide()},_checkClickAway:function(t){var e=this.getDOMNode();this.isMounted()&&t.target!=e&&!this._isDescendant(e,t.target)&&this.close()},_bindClickAway:function(){o.on(document,"click",this._checkClickAway)},_unbindClickAway:function(){o.off(document,"click",this._checkClickAway)},_isDescendant:function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1},render:function(){var t="snackbar "+("visible"==this.state.visible?"snackbar-visible":"");return"visible"==this.state.visible?this._bindClickAway():this._unbindClickAway(),i.createElement("div",{className:t},i.createElement("span",{className:"snackbar-message"},this.state.message),i.createElement("span",{className:"snackbar-action",onClick:this.close},this.state.action))}});e.exports=s},{"../actions/SnackbarActions":15,"../stores/SnackbarStore":86,"../utils/events":93,react:346}],28:[function(t,e,n){var i=t("react"),r=t("../actions/WindowActions"),a=t("../stores/WindowStore"),o=t("material-ui"),s=o.Toolbar,u=o.ToolbarGroup,c=t("./windows/Sales"),l=t("./windows/Finance"),h=t("./windows/Operations"),p=t("./windows/Supplier"),d=i.createClass({displayName:"Window",getInitialState:function(){return a.getStates()},componentDidMount:function(){a.addChangeListener(this.updateWindow)},updateWindow:function(){this.setState(a.getStates())},componentWillUnmount:function(){a.removeChangeListener(this.updateWindow)},close:function(){r.closeWindow()},render:function(){var t="window "+("visible"==this.state.visible?"opened":"closed")+(this.state.type?" win-"+this.state.type:"");return i.createElement("div",{className:t},i.createElement(s,null,i.createElement(u,{key:0,"float":"left"},i.createElement("span",{className:"title"},this.state.title),i.createElement("button",{className:"btn-close close icon-cross",onClick:this.close}))),i.createElement("div",{className:"body"},"operations"==this.state.type&&i.createElement(h,null),"sales"==this.state.type&&i.createElement(c,null),"finance"==this.state.type&&i.createElement(l,null),"supplier"==this.state.type&&i.createElement(p,null)))}});e.exports=d},{"../actions/WindowActions":19,"../stores/WindowStore":88,"./windows/Finance":50,"./windows/Operations":51,"./windows/Sales":52,"./windows/Supplier":53,"material-ui":104,react:346}],29:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("../../stores/AuthStore")),a=t("material-ui"),o=(a.Tabs,
a.Tab,a.Paper,t("./Login")),s=t("./StartRegister"),u=t("./CompanyInfo"),c=t("./Congratulations"),l=t("./RegisterMap"),h=i.createClass({displayName:"Auth",getInitialState:function(){return{step:r.getStep()}},componentDidMount:function(){r.addChangeListener(this.updateStep)},componentWillUnmount:function(){r.removeChangeListener(this.updateStep)},updateStep:function(){this.setState({step:r.getStep()})},render:function(){return i.createElement("div",{className:"auth-wrapper"},"login"==this.state.step?i.createElement(o,null):null,"startRegister"==this.state.step?i.createElement(s,null):null,"companyInfo"==this.state.step?i.createElement(u,null):null,"congratulations"==this.state.step?i.createElement(c,null):null,"map"==this.state.step?i.createElement(l,null):null)}});e.exports=h},{"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"./CompanyInfo":30,"./Congratulations":31,"./Login":32,"./RegisterMap":33,"./StartRegister":34,"material-ui":104,react:346}],30:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("../../stores/AuthStore")),a=t("material-ui"),o=(a.TextField,a.Checkbox,a.RaisedButton,a.DropDownMenu),s=a.Paper,u=t("../../actions/AuthActions"),c=t("../../actions/SnackbarActions"),l=i.createClass({displayName:"CompanyInfo",getInitialState:function(){return{terms:!1,accept:!1,gender:"male",title:"Sir",nick:r.getFormReg().nick}},changeTerms:function(){this.setState({terms:!this.state.terms})},changeAccept:function(){this.setState({accept:!this.state.accept})},toCongratulations:function(t){var e=t.target.parentElement,n=e.querySelector("input[data-type=company]").value,i=/[\d\w]{3,10}/i;if(!i.test(n))return c.show("Company name must contain at least 3 symbols");var a=r.getFormReg();a.company=n,a.gender=this.state.gender;var o;o="No title"===this.state.title?this.state.nick:this.state.title,a.title=o,u.signup(a)},toBack:function(){u.changeStep("startRegister")},changeGender:function(t,e,n){this.setState({gender:n.text})},changeTitle:function(t,e,n){this.setState({title:n.text})},render:function(){var t=[{payload:"1",text:"Climatization"},{payload:"2",text:"Automotive"}],e=[{payload:"1",text:"manager"},{payload:"2",text:"marketer"},{payload:"3",text:"financier"}],n=[{payload:"1",text:"male"},{payload:"2",text:"female"}],r={male:[{payload:"1",text:"Sir"},{payload:"2",text:"Boss"},{payload:"3",text:"My Lord"},{payload:"4",text:"Master"},{payload:"5",text:"No title"}],female:[{payload:"1",text:"Madam"},{payload:"2",text:"Boss"},{payload:"3",text:"My Lady"},{payload:"4",text:"Mistress"},{payload:"5",text:"No title"}]},a=r[this.state.gender],u="Excellent. I shall remember that. I remind you that GudJob is still under development. I present my apologies if some areas are not accessible yet. Meanwhile, "+this.state.title+" would you follow me to the next screen?";return i.createElement(s,{zDepth:3,rounded:!1,className:"auth companyinfo"},i.createElement("p",{className:"logo"},"GudJob"),i.createElement("div",{className:"rules"},i.createElement("p",{className:"title"},"Game rules"),i.createElement("p",{className:"subtitle"},"Time"),i.createElement("p",null,"The beginning of each Round of the simulation is announced through our website and game communities on Facebook and LinkedIn."),i.createElement("p",null,"Time within the simulation does not exactly fly as in real life. To make the simulation more dynamic we decided to speed up time: 4 hours are actually equal to 1 month within the game"),i.createElement("p",{className:"subtitle"},"Third Party participation"),i.createElement("p",null,"We expect players to make their own decisions avoiding advice from Third Parties \u2013 in the end the simulation is as dynamic as real world and does not have \u201cbest\u201d solution. So why should you trust anyone instead of relying on your personal expertise and business instincts?"),i.createElement("p",{className:"subtitle"},"Account abuse"),i.createElement("p",null,"We expect players to use no more than one account per Round of simulation. Hence, we are monitoring all in-game contracts and transactions to question their origin and relevancy. Suspicious or groundless transactions may result in players being removed from the Round."),i.createElement("p",{className:"subtitle"},"Provocation"),i.createElement("p",null,"We tolerate the views and decisions of others and expect players to do the same. Public provoking or harassing will result in account being temporarily silenced or blocked."),i.createElement("p",{className:"subtitle"},"Spam"),i.createElement("p",null,"Spam is classified as repetitive content that does not provide value to the discussion or creates nuisance for others. Accounts associated with spam will be temporarily or permanently silenced."),i.createElement("p",{className:"subtitle"},"Commercial activity"),i.createElement("p",null,"GudJob remains completely free for its players and does not offer any merchandise providing in-game advantage. Therefore, we also encourage users to avoid any such exchanges in real life. Moreover, we expect players to obviate advertising projects and companies not connected with GudJob universe within the game.")),i.createElement("div",{className:"form"},i.createElement("p",{className:"title"},"Registration"),i.createElement("p",null,i.createElement("div",{className:"styled-input"},i.createElement("input",{type:"text","data-type":"company",required:!0}),i.createElement("label",null,"Company name"),i.createElement("span",null)," ")),i.createElement(o,{menuItems:t}),i.createElement(o,{menuItems:e}),i.createElement(o,{menuItems:n,onChange:this.changeGender}),i.createElement(o,{menuItems:a,onChange:this.changeTitle}),i.createElement("div",{className:"checkbox-wrapper"},i.createElement("input",{type:"checkbox",className:"checkbox",id:"terms",onChange:this.changeAccept}),i.createElement("label",{htmlFor:"terms"},"I responsibly accept these rules")),this.state.accept?i.createElement("p",null,u):null,i.createElement("button",{className:"btn half",onClick:this.toBack},"Back"),i.createElement("button",{className:"btn primary half right",onClick:this.toCongratulations,disabled:!this.state.accept},"Next")))}});e.exports=l},{"../../actions/AuthActions":5,"../../actions/SnackbarActions":15,"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"material-ui":104,react:346}],31:[function(t,e,n){var i=t("react"),r=t("../../dispatcher/AppDispatcher"),a=t("../../stores/AuthStore"),o=t("../../actions/SocketActions"),s=t("material-ui"),u=(s.TextField,s.Checkbox,s.RaisedButton,s.Paper),c=i.createClass({displayName:"Congratulations",getInitialState:function(){return{gender:a.getGender()}},updateGender:function(){this.setState({gender:a.getGender()})},componentDidMount:function(){a.addChangeListener(this.updateGender)},componentWillUnmount:function(){a.removeChangeListener(this.updateGender)},toMap:function(){r.dispatch({action:"changeStep",data:"map"}),o.emit("createGame")},render:function(){var t;return t="male"===this.state.gender?"son":"daughter",i.createElement(u,{zDepth:3,rounded:!1,className:"auth"},i.createElement("p",{className:"logo"},"GudJob"),i.createElement("p",{className:"title"},"Congratulations"),i.createElement("p",null,"Your family once owned a profitable business in the air conditioning industry. However, the crisis that hit Europe destroyed your company causing significant financial losses and a lot of damage to its image. As a consequence your father retired from business and decided to put his last hopes on you. In the last year of your studies you realized that you were ready to take on new risks. So here you are, who took a courageous loan of 300 000 EUR to make your father\u2019s business shine again. So go ahead and do a good job!"),i.createElement("button",{className:"btn primary wide",onClick:this.toMap},"Next"))}});e.exports=c},{"../../actions/SocketActions":16,"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"material-ui":104,react:346}],32:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("../../stores/AuthStore"),t("../../actions/AuthActions")),a=t("../../actions/SnackbarActions"),o=t("material-ui"),s=(o.TextField,o.Checkbox,o.RaisedButton,o.Paper),u=t("../../utils/LocalStorage"),c=i.createClass({displayName:"Login",enter:function(t){var e=t.target.parentElement.parentElement,n=e.querySelector("input[type=text]").value,i=e.querySelector("input[type=password]").value,o=e.querySelector("input[type=checkbox]").checked,s=/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,u=/[\d\w]{3,10}/i;return s.test(n)?u.test(i)?void r.signin({email:n,password:i,remember:o}):a.show("Error password"):a.show("Error email")},keyup:function(t){(13==t.which||13==t.keyCode)&&this.enter(t)},toRegister:function(){r.changeStep("startRegister")},clearEmail:function(t){this.clearField(t),u.remove("email")},clearField:function(t){var e=t.target.parentElement,n=e.querySelector("input");n.value=""},render:function(){var t=u.get("email")||"",e=""!=t?i.createElement("input",{type:"text",onKeyUp:this.keyup,required:!0,defaultValue:t}):i.createElement("input",{type:"text",onKeyUp:this.keyup,required:!0,autoFocus:!0}),n=""!=t?i.createElement("input",{type:"password",onKeyUp:this.keyup,required:!0,autoFocus:!0}):i.createElement("input",{type:"password",onKeyUp:this.keyup,required:!0});return i.createElement(s,{zDepth:3,rounded:!1,className:"auth login"},i.createElement("p",{className:"logo"},"GudJob"),i.createElement("p",{className:"title"},"Login"),i.createElement("div",{className:"greeting"},i.createElement("p",null,"Welcome to GudJob \u2013 a game that enables you to reach the desired career while having fun!"),i.createElement("p",null,"Throughout the game you will build your own business empire, compete for markets and forge alliances. You will beat the competitors and even remove other players from the game!"),i.createElement("p",null,"Choose the starting role or country that best suits your desired gameplay. Keep low on expenses and go for the safe path? Risk everything with enormous loans and large alliances? Or dive into a marketing war pursuing unforgiving margins? The choice is always yours."),i.createElement("p",null,"Meanwhile, we\u2019ll keep an eye on you ;)"),i.createElement("p",null,"For the finest performers will be recruited by global employers that are starving for talent like You!")),i.createElement("div",{className:"form"},i.createElement("div",{className:"styled-input"},e,i.createElement("label",null,"Email"),i.createElement("span",null),i.createElement("div",{className:"clearField",onClick:""!=t?this.clearEmail:this.clearField},"x")),i.createElement("div",{className:"styled-input"},n,i.createElement("label",null,"Password"),i.createElement("span",null),i.createElement("div",{className:"clearField",onClick:this.clearField},"x")),i.createElement("div",{className:"checkbox-wrapper"},i.createElement("input",{type:"checkbox",className:"checkbox",id:"remember"}),i.createElement("label",{htmlFor:"remember"},"Remember me"),i.createElement("a",{href:"#",className:"right"},"Forgot password?")),i.createElement("button",{className:"btn primary half",onClick:this.enter},"Login"),i.createElement("button",{className:"btn half right",onClick:this.toRegister},"Register"),i.createElement("div",{className:"social-buttons"},i.createElement("a",{className:"soc fb",href:"http://www.facebook.com/gudjobgame"}),i.createElement("a",{className:"soc ln",href:"http://www.linkedin.com/company/gudjob"}),i.createElement("a",{href:"#",className:"right"},"Contact us"),i.createElement("a",{href:"#",className:"right"},"Term of use"))))}});e.exports=c},{"../../actions/AuthActions":5,"../../actions/SnackbarActions":15,"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"../../utils/LocalStorage":91,"material-ui":104,react:346}],33:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("../../stores/AuthStore"),t("material-ui")),a=(r.TextField,r.Checkbox,r.RaisedButton,r.Paper,t("../Map")),o=t("../Sidebar"),s=i.createClass({displayName:"RegisterMap",render:function(){return i.createElement("div",null,i.createElement(a,null),i.createElement("div",{className:"register-label"},"Choose location where you want to start"),i.createElement(o,null))}});e.exports=s},{"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"../Map":25,"../Sidebar":26,"material-ui":104,react:346}],34:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("../../stores/AuthStore")),a=t("underscore"),o=t("material-ui"),s=(o.TextField,o.Checkbox,o.RaisedButton,o.DropDownMenu),u=o.Paper,c=t("../../actions/AuthActions"),l=t("../../actions/SnackbarActions"),h=i.createClass({displayName:"LanguageSelect",getInitialState:function(){return{language:"en",skill:"basic"}},removeHandler:function(){this.props.remove(this.props.id)},langChange:function(t,e,n){this.setState({language:n.payload})},skillChange:function(t,e,n){this.setState({skill:n.payload})},componentDidUpdate:function(t,e){if(e!==this.state){var n=this.state.language,i=this.state.skill,r={};r[n]=i,c.changeLanguages(r),this.props.update(r)}},render:function(){var t=[{payload:"en",text:"English"},{payload:"ru",text:"Russian"}],e=[{payload:"basic",text:"basic"},{payload:"intermediate",text:"intermediate"},{payload:"advanced",text:"advanced"}];return i.createElement("div",{className:"language-select"},i.createElement(s,{menuItems:t,onChange:this.langChange}),i.createElement(s,{menuItems:e,onChange:this.skillChange}),this.props.removable?i.createElement("span",{className:"remove-language",onClick:this.removeHandler},"\xd7"):null)}}),p=i.createClass({displayName:"LanguageList",langItems:[{payload:"en",text:"English"},{payload:"ru",text:"Russian"}],getInitialState:function(){return{languageCount:1,languageSelected:{},languageAvailable:["en","ru"]}},addLanguage:function(){this.setState({languageCount:this.state.languageCount+1})},removeLanguage:function(t){this.setState({languageCount:this.state.languageCount-1})},updateLang:function(t){this.setState({languageSelected:a.extend(this.state.languageSelected,t)})},render:function(){var t=[];for(var e in this.state.languageSelected)this.state.languageSelected.hasOwnProperty()&&t.push(i.createElement(h,{key:n,remove:this.removeLanguage,removable:this.state.languageCount>1,update:this.updateLang,updateLang:this.updateLang}));for(var n=0;n<this.state.languageCount;n++)t.push(i.createElement(h,{key:n,remove:this.removeLanguage,removable:this.state.languageCount>1,update:this.updateLang,updateLang:this.updateLang}));return i.createElement("div",{className:"language-list"},i.createElement("p",{className:"sm-label"},"Language skills",this.state.languageCount<this.state.languageAvailable.length?i.createElement("span",{className:"add-language",onClick:this.addLanguage},"Add language"):null),t)}}),d=i.createClass({displayName:"StartRegister",toLogin:function(){c.clearFormReg(),c.changeStep("login")},toCompanyInfo:function(t){var e=t.target.parentElement,n=e.querySelector("input[data-type=email]").value,i=e.querySelector("input[data-type=nick]").value,r=e.querySelector("input[data-type=password]").value,a=e.querySelector("input[data-type=passwordCnf]").value,o=/^[a-zA-Z][a-zA-Z0-9-_\.]{1,20}$/,s=/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,u=/[\d\w]{3,10}/i;return s.test(n)?o.test(i)?u.test(r)?r!==a?l.show("Error password confirmation"):void c.checkEmail(n,function(){c.changeStep("companyInfo"),c.changeFormReg({email:n,nick:i,password:r})}):l.show("Error password"):l.show("Error nick"):l.show("Error email")},getInitialState:function(){return{auth:r.getFormReg(),languages:[]}},updateState:function(){this.setState(r.getFormReg())},addLanguage:function(){this.setState({language:this.state.language+1})},render:function(){return i.createElement(u,{zDepth:3,rounded:!1,className:"auth startregister"},i.createElement("p",{className:"logo"},"GudJob"),i.createElement("p",{className:"title"},"Registration"),i.createElement("p",null,i.createElement("div",{className:"styled-input"},i.createElement("input",{type:"text",defaultValue:this.state.auth.email,"data-type":"email",required:!0}),i.createElement("label",null,"Email"),i.createElement("span",null)," ")),i.createElement("p",null,i.createElement("div",{className:"styled-input"},i.createElement("input",{type:"text",required:!0,defaultValue:this.state.auth.nick,"data-type":"nick"}),i.createElement("label",null,"Nickname"),i.createElement("span",null)," ")),i.createElement(p,null),i.createElement("p",null,i.createElement("div",{className:"styled-input"},i.createElement("input",{type:"password",defaultValue:this.state.auth.password,"data-type":"password",required:!0}),i.createElement("label",null,"Password"),i.createElement("span",null)," ")),i.createElement("p",null,i.createElement("div",{className:"styled-input"},i.createElement("input",{type:"password",defaultValue:this.state.auth.password,"data-type":"passwordCnf",required:!0}),i.createElement("label",null,"Password confirmation"),i.createElement("span",null)," ")),i.createElement("button",{className:"btn half",onClick:this.toLogin},"Login"),i.createElement("button",{className:"btn primary half right",onClick:this.toCompanyInfo},"Next"))}});e.exports=d},{"../../actions/AuthActions":5,"../../actions/SnackbarActions":15,"../../dispatcher/AppDispatcher":68,"../../stores/AuthStore":73,"material-ui":104,react:346,underscore:399}],35:[function(t,e,n){var i=t("react"),r=t("c3"),a=i.createClass({displayName:"Gauge",getInitialState:function(){return{chart:null}},drawChart:function(){this.state.chart=r.generate({bindto:"#"+(this.props.id?this.props.id:"chart-gauge"),data:{columns:[[this.props.name,this.props.value]],type:"gauge"},gauge:{},color:{pattern:["#FF0000","#F97600","#F6C600","#60B044"],threshold:{values:[30,60,90,100]}},size:{height:180}})},componentDidMount:function(){this.drawChart()},componentWillUpdate:function(t){this.state.chart&&this.state.chart.load({columns:[[t.name,t.value]]})},render:function(){var t=this.props.id?this.props.id:"chart-gauge";return i.createElement("div",{id:t})}});e.exports=a},{c3:96,react:346}],36:[function(t,e,n){var i=t("react"),r=t("c3"),a=i.createClass({displayName:"Line",getInitialState:function(){return{chart:null}},getDefaultProps:function(){return{point:!0,type:""}},drawChart:function(){this.state.chart=r.generate({bindto:"#"+(this.props.id?this.props.id:"chart"),data:{x:this.props.x,y:this.props.y,json:this.props.data,keys:{value:[this.props.x,this.props.y]},type:this.props.type},tooltip:{show:!1},point:{show:this.props.point},padding:{left:55},legend:{show:!1},axis:{x:{label:{text:this.props.x,position:"outer-middle"}},y:{label:{text:this.props.y,position:"outer-middle"}}},grid:{x:{show:!0},y:{show:!0}}})},componentDidMount:function(){this.drawChart()},componentWillUpdate:function(t){this.state.chart&&this.state.chart.load({x:t.x,y:t.y,json:t.data,keys:{value:[t.x,t.y]}})},render:function(){var t=this.props.id?this.props.id:"chart";return i.createElement("div",{className:"chart",id:t})}});e.exports=a},{c3:96,react:346}],37:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"CountNotification",render:function(){var t=this.props.count?this.props.count>=100?"99+":this.props.count:0;return i.createElement("div",null,t)}});e.exports=r},{react:346}],38:[function(t,e,n){var i=t("react"),r=t("../../dispatcher/AppDispatcher"),a=t("underscore"),o=t("./Timer"),s=t("./CountNotification"),u=t("material-ui"),c=u.Toolbar,l=u.ToolbarGroup,h=u.DropDownIcon,p=t("../../stores/MapStore"),d=t("../../stores/SidebarStore"),f=t("../../stores/MenuStore"),m=t("../../actions/WindowActions"),g=(t("../../actions/ApiActions"),t("../../actions/AuthActions")),v=t("../../actions/SidebarActions"),y=t("../../actions/SocketActions"),_=t("../../constants/MapConstants"),x=i.createClass({displayName:"Menu",visibleSidebarNotification:!1,menuMap:[{payload:"global",text:"Global map",iconClassName:"icon-global"},{payload:"operations",text:"Operations",iconClassName:"icon-operations"},{payload:"logistics",text:"Logistics",iconClassName:"icon-logistics",disabled:!0},{payload:"strategy",text:"Strategy",iconClassName:"icon-strategy",disabled:!0}],menuApp:[{payload:"sales",text:"Sales",iconClassName:"icon-sales"},{payload:"finance",text:"Finance",iconClassName:"icon-finance"},{payload:"marketing",text:"Marketing",iconClassName:"icon-marketing",disabled:!0},{payload:"it",text:"It",iconClassName:"icon-it",disabled:!0},{payload:"innovations",text:"Innovations",iconClassName:"icon-innovations",disabled:!0},{payload:"partnerships",text:"Partnerships",iconClassName:"icon-partnerships",disabled:!0},{payload:"finish",text:"Finish the round",iconClassName:"icon-cross",disabled:!0},{payload:"back",text:"User panel",iconClassName:"icon-back"},{payload:"logout",text:"Logout",iconClassName:"icon-logout"}],menuMapClick:function(t,e,n){r.dispatch({action:_.events.changeMapType,data:{mapType:n.payload}})},menuClick:function(t,e,n){return"back"==n.payload?g.logout():"logout"==n.payload?g.signout():"finish"==n.payload?y.emit("finishRound"):void m.openWindow({type:n.payload,title:n.text,visible:"visible",help:n.payload})},showNotification:function(){this.visibleSidebarNotification?v.hide():v.show({visible:"visible",type:"notifications",title:"Notifications"})},updateMenuMap:function(){var t=p.getStates();this.setState(a.extend(this.state,{type:t.mapType}))},updateMenu:function(){var t=f.getStates();this.setState(a.extend(this.state,{date:t.date,money:t.money,notificationsCount:t.notificationsCount}))},updateMenuNotification:function(){var t=d.getStates();this.visibleSidebarNotification="notifications"==t.type&&"visible"==t.visible},getInitialState:function(){var t=p.getStates(),e=f.getStates();return{date:e.date,type:t.mapType,money:e.money,notificationsCount:e.notificationsCount}},componentDidMount:function(){p.addChangeListener(this.updateMenuMap),f.addChangeListener(this.updateMenu),d.addChangeListener(this.updateMenuNotification)},componentWillUnmount:function(){p.removeChangeListener(this.updateMenuMap),f.removeChangeListener(this.updateMenu),d.removeChangeListener(this.updateMenuNotification)},render:function(){var t=this.state.money,e=this.state.date,n="icon-"+this.state.type+" menu-icon-item",r=this.state.notificationsCount>0?i.createElement(s,{count:this.state.notificationsCount}):"";return-5e5>=t?this.menuApp[this.menuApp.length-3].disabled=!1:this.menuApp[this.menuApp.length-3].disabled=!0,i.createElement("div",{className:"app-menu"},i.createElement(c,null,i.createElement(l,{key:0,"float":"left"},i.createElement(h,{iconClassName:"icon-menu menu-icon-item",menuItems:this.menuApp,onChange:this.menuClick}),i.createElement(h,{iconClassName:n,menuItems:this.menuMap,onChange:this.menuMapClick}),i.createElement("span",{className:"icon-notification menu-icon-item",onClick:this.showNotification},r),i.createElement("span",{className:"mui-toolbar-separator"}),i.createElement("span",{className:"toolbar-item money"},Math.floor(t),"\u20ac"),i.createElement("span",{className:"toolbar-item"},i.createElement(o,{date:e})))))}});e.exports=x},{"../../actions/ApiActions":2,"../../actions/AuthActions":5,"../../actions/SidebarActions":14,"../../actions/SocketActions":16,"../../actions/WindowActions":19,"../../constants/MapConstants":64,"../../dispatcher/AppDispatcher":68,"../../stores/MapStore":78,"../../stores/MenuStore":79,"../../stores/SidebarStore":85,"./CountNotification":37,"./Timer":39,"material-ui":104,react:346,underscore:399}],39:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"Timer",render:function(){var t=this.props.date,e=t/360>>0,n=t%360/30>>0,r=t%30+1,a=e+"Y "+n+"M "+r+"D";return i.createElement("div",null,a)}});e.exports=r},{react:346}],40:[function(t,e,n){var i=t("react"),r=(t("../../actions/AuthActions"),t("../../actions/SocketActions")),a=(t("../../actions/AppActions"),t("../../utils/Api"),t("../../stores/GamesStore")),o=i.createClass({displayName:"Games",getInitialState:function(){return a.getStates()},componentDidMount:function(){a.addChangeListener(this.updateGames)},componentWillUnmount:function(){a.removeChangeListener(this.updateGames)},updateGames:function(){this.setState(a.getStates())},continueGame:function(t){r.emit("joinGame",t)},startGame:function(t){r.emit("startGame",t)},render:function(){var t,e=this,n=[],r=this.state.list||{},a=this.state.active||{};for(var o in r)t="",r[o].online&&(t=a[r[o]._id]?i.createElement("button",{className:"btn primary",onClick:function(){e.continueGame(a[r[o]._id])}},"Continue"):i.createElement("button",{className:"btn green",onClick:function(){e.startGame()}},"Start")),n.push(i.createElement("div",{key:o,className:"item"},i.createElement("div",{className:"clearfix"},i.createElement("div",{className:"title"},r[o].title)),i.createElement("div",{className:"body clearfix"},i.createElement("div",{className:"description"},r[o].description)),i.createElement("div",{className:"clearfix"},t)));return i.createElement("div",{className:"pn-games"},n)}});e.exports=o},{"../../actions/AppActions":3,"../../actions/AuthActions":5,"../../actions/SocketActions":16,"../../stores/GamesStore":76,"../../utils/Api":89,react:346}],41:[function(t,e,n){var i=t("react"),r=t("../../actions/AuthActions"),a=t("../../actions/PanelActions"),o=t("../../stores/PanelStore"),s=t("./Games"),u=t("./Profile"),c=i.createClass({displayName:"Panel",getInitialState:function(){return o.getStates()},componentDidMount:function(){o.addChangeListener(this.updatePanel)},componentWillUnmount:function(){o.removeChangeListener(this.updatePanel)},updatePanel:function(){this.setState(o.getStates())},clickMenu:function(t){if(t.target&&"SPAN"==t.target.nodeName){var e=t.target.getAttribute("data-type");if("visible"==this.state.menu&&a.closeMenu(),"logout"==e)return r.signout();e&&a.select(e)}},showMobileMenu:function(){a.openMenu()},render:function(){return i.createElement("div",null,i.createElement("div",{className:"pn-menu",onClick:this.clickMenu},i.createElement("div",{className:"logo"},"GudJob"),i.createElement("span",{"data-type":"games",className:"item icon-global "+("games"==this.state.type?"active":"")},"Games"),i.createElement("span",{"data-type":"profile",className:"item icon-user "+("profile"==this.state.type?"active":"")},"Profile"),i.createElement("span",{"data-type":"logout",className:"item icon-logout"},"Logout"),i.createElement("div",{className:"btn-mobile-menu icon-menu",onClick:this.showMobileMenu})),i.createElement("div",{className:"pn-mobile-menu "+("visible"==this.state.menu?"pn-visible":""),onClick:this.clickMenu},i.createElement("span",{"data-type":"games",className:"item icon-global "+("games"==this.state.type?"active":"")},"Games"),i.createElement("span",{"data-type":"profile",className:"item icon-user "+("profile"==this.state.type?"active":"")},"Profile"),i.createElement("span",{"data-type":"logout",className:"item icon-logout"},"Logout")),i.createElement("div",{className:"pn-wrapper"},"games"==this.state.type?i.createElement(s,null):null,"profile"==this.state.type?i.createElement(u,null):null))}});e.exports=c},{"../../actions/AuthActions":5,"../../actions/PanelActions":11,"../../stores/PanelStore":82,"./Games":40,"./Profile":42,react:346}],42:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"Profile",render:function(){return i.createElement("div",null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")}});e.exports=r},{react:346}],43:[function(t,e,n){var i=t("react"),r=t("../../stores/AreaStore"),a=t("../../actions/AreaActions"),o=t("./Global"),s=t("./Operations"),u=i.createClass({displayName:"Area",getInitialState:function(){return{tab:r.getTab()}},switchTo:function(t){a.change(t.target.dataset.type)},componentDidMount:function(){r.addChangeListener(this.updateSidebar)},componentWillUnmount:function(){r.removeChangeListener(this.updateSidebar)},updateSidebar:function(){this.setState({tab:r.getTab()})},render:function(){return i.createElement("div",{className:"cmp-tabs area"},i.createElement("div",{className:"tabs-header"},i.createElement("span",{"data-type":"global",onClick:this.switchTo,className:"global"==this.state.tab?"active":""},"Global"),i.createElement("span",{"data-type":"operations",onClick:this.switchTo,className:"operations"==this.state.tab?"active":""},"Operations")),"global"==this.state.tab&&i.createElement(o,null),"operations"==this.state.tab&&i.createElement(s,null))}});e.exports=u},{"../../actions/AreaActions":4,"../../stores/AreaStore":72,"./Global":44,"./Operations":46,react:346}],44:[function(t,e,n){var i=t("react"),r=t("../../stores/AreaStore"),a=(t("../../actions/SocketActions"),t("../charts/Line")),o=i.createClass({displayName:"Global",getInitialState:function(){return{info:r.getGlobalInfo(),chart:r.getChart()}},updateGlobal:function(){this.setState({info:r.getGlobalInfo(),chart:r.getChart()})},componentDidMount:function(){r.addChangeListener(this.updateGlobal)},componentWillUnmount:function(){r.removeChangeListener(this.updateGlobal)},render:function(){var t=this.state.info;return i.createElement("div",{className:"area-body"},i.createElement("p",{className:"chart-label"},"Market demand function"),i.createElement(a,{data:this.state.chart,x:"price",y:"demand",type:"spline",point:!1}),i.createElement("div",{className:"item"},i.createElement("label",null,"Infrastructure"),i.createElement("span",null,t.infrastructure)),i.createElement("div",{className:"item"},i.createElement("label",null,"Information transparency"),i.createElement("span",null,t.informationTransparency)),i.createElement("div",{className:"item"},i.createElement("label",null,"Consumption culture"),i.createElement("span",null,t.consumptionCulture)),i.createElement("p",{className:"table-title"},"Salary"),i.createElement("table",{className:"salary-table"},i.createElement("tr",null,i.createElement("td",null),i.createElement("td",null,"low"),i.createElement("td",null,"average"),i.createElement("td",null,"skilled")),i.createElement("tr",null,i.createElement("td",null,"management"),i.createElement("td",null,t.salary.management.low),i.createElement("td",null,t.salary.management.average),i.createElement("td",null,t.salary.management.skilled)),i.createElement("tr",null,i.createElement("td",null,"functional"),i.createElement("td",null,t.salary.functional.low),i.createElement("td",null,t.salary.functional.average),i.createElement("td",null,t.salary.functional.skilled)),i.createElement("tr",null,i.createElement("td",null,"support"),i.createElement("td",null,t.salary.support.low),i.createElement("td",null,t.salary.support.average),i.createElement("td",null,t.salary.support.skilled))),i.createElement("div",{className:"item"},i.createElement("label",null,"Employee expectation"),i.createElement("span",null,t.employeeExp)),i.createElement("div",{className:"item"},i.createElement("label",null,"Average taxes"),i.createElement("span",null,t.averageTax)),i.createElement("div",{className:"item"},i.createElement("label",null,"Counterparties"),i.createElement("span",null,t.counterParties)),i.createElement("div",{className:"item"},i.createElement("label",null,"Companies"),i.createElement("span",null,t.companies)))}});e.exports=o},{"../../actions/SocketActions":16,"../../stores/AreaStore":72,"../charts/Line":36,react:346}],45:[function(t,e,n){var i=t("react"),r=t("./notifications/Notification"),a=t("../../stores/NotificationsStore"),o=t("../../actions/NotificationsActions"),s="all",u=i.createClass({displayName:"Notifications",getInitialState:function(){return{notifications:a.getNotifications()}},componentDidMount:function(){a.addChangeListener(this.updateNotifications),s=a.getKey()},componentWillUnmount:function(){a.removeChangeListener(this.updateNotifications)},updateNotifications:function(){this.setState({notifications:a.getNotifications()})},filter:function(t){var e=t.target.dataset.filter;e!=s&&(s=e,o.filter(e))},render:function(){var t=0;return i.createElement("div",{className:"cmp-tabs notifications"},i.createElement("div",{className:"tabs-header"
},i.createElement("span",{"data-filter":"all",className:"all"==s?"active":"",onClick:this.filter},"All"),i.createElement("span",{"data-filter":"finance",className:"finance"==s?"active":"",onClick:this.filter},"Finance"),i.createElement("span",{"data-filter":"operations",className:"operations"==s?"active":"",onClick:this.filter},"Operations"),i.createElement("span",{"data-filter":"sales",className:"sales"==s?"active":"",onClick:this.filter},"Sales"),i.createElement("span",{"data-filter":"supplier",className:"supplier"==s?"active":"",onClick:this.filter},"Supplier")),i.createElement("div",{className:"tab-container"},this.state.notifications.map(function(e){return i.createElement(r,{data:e,key:t++})})))}});e.exports=u},{"../../actions/NotificationsActions":9,"../../stores/NotificationsStore":80,"./notifications/Notification":49,react:346}],46:[function(t,e,n){var i=t("react"),r=t("../../stores/AreaStore"),a=t("../../stores/SupplierStore"),o=t("../../stores/OperationsStore"),s=t("../../actions/WindowActions"),u=t("../../actions/SupplierActions"),c=t("../../actions/SocketActions"),l=i.createClass({displayName:"List",render:function(){return i.createElement("div",null,this.props.data)}}),h=(i.createClass({displayName:"Plants",render:function(){return i.createElement("div",null,this.props.plants)}}),i.createClass({displayName:"Distributors",render:function(){return i.createElement("div",null,this.props.distributors)}}),i.createClass({displayName:"Operations",getInitialState:function(){return{info:r.getOperationsInfo(),suppliers:r.getSuppliers(),plants:r.getPlants(),activeSuppliers:a.getSuppliers(),activePlants:o.getPlants(),tab:"suppliers"}},componentDidMount:function(){r.addChangeListener(this.updateOperations)},componentWillUnmount:function(){r.removeChangeListener(this.updateOperations)},updateOperations:function(){this.setState({info:r.getOperationsInfo(),suppliers:r.getSuppliers(),plants:r.getPlants(),activeSuppliers:a.getSuppliers(),activePlants:o.getPlants()})},openWinSupplier:function(t){s.openSupplier(t.target.dataset.id)},openSidebarSupplier:function(t){u.show(t.target.dataset.title),c.emit("getSupplier",t.target.dataset.id)},openWinPlant:function(t){s.openOperations(t.target.dataset.id)},openSidebarPlant:function(t){u.show(t.target.dataset.title),c.emit("getPlant",t.target.dataset.id)},switchTo:function(t){this.setState({tab:t.target.dataset.type})},render:function(){var t=this.state.activeSuppliers,e=this.state.activePlants,n=this.state.info,r=n.production,a=n.salesPer,o=n.sales,s=n.margin,u=n.costs,c=0,h=this,p=function(e){if(0==t.length)return!1;for(var n in t)if(t[n].id==e)return!0;return!1},d=function(t){if(0==e.length)return!1;for(var n in e)if(e[n].id==t)return!0;return!1},f=this.state.suppliers.map(function(t){var e=p(t.id),n="supplier-item "+(e?"active":"unactive"),r=e?h.openWinSupplier:h.openSidebarSupplier;return i.createElement("div",{className:n,key:c++,"data-id":t.id,"data-title":t.name,onClick:r},t.name)}),m=this.state.plants.map(function(t){var e=d(t.id),n="supplier-item "+(e?"active":"unactive"),r=e?h.openWinPlant:h.openSidebarPlant;return i.createElement("div",{className:n,key:c++,"data-id":t.id,"data-title":t.name,onClick:r},t.name)});return i.createElement("div",{className:"area-body"},i.createElement("div",{className:"progress"},i.createElement("div",{style:{width:Math.round(100*r)+"%"}}),i.createElement("span",{className:"label"},"Production"),i.createElement("span",{className:"value"},Math.round(100*r)," %")),i.createElement("div",{className:"progress"},i.createElement("div",{style:{width:Math.round(100*a)+"%"}}),i.createElement("span",{className:"label"},"Sales"),i.createElement("span",{className:"value"},Math.round(100*a)," %")),i.createElement("div",{className:"item"},i.createElement("label",null,"Sales"),i.createElement("span",null,o)),i.createElement("div",{className:"item"},i.createElement("label",null,"Margin"),i.createElement("span",null,s)),i.createElement("div",{className:"item"},i.createElement("label",null,"Costs"),i.createElement("span",null,u)),i.createElement("div",{className:"cmp-tabs operations"},i.createElement("div",{className:"tabs-header"},i.createElement("span",{"data-type":"suppliers",onClick:this.switchTo,className:"suppliers"==this.state.tab?"active":""},"Suppliers"),i.createElement("span",{"data-type":"plants",onClick:this.switchTo,className:"plants"==this.state.tab?"active":""},"Plants"),i.createElement("span",{"data-type":"distributors",className:"disable"},"Distributors")),"suppliers"===this.state.tab&&i.createElement(l,{data:f}),"plants"===this.state.tab&&i.createElement(l,{data:m})))}}));e.exports=h},{"../../actions/SocketActions":16,"../../actions/SupplierActions":17,"../../actions/WindowActions":19,"../../stores/AreaStore":72,"../../stores/OperationsStore":81,"../../stores/SupplierStore":87,react:346}],47:[function(t,e,n){var i,r=t("react"),a=t("../../stores/AppStore"),o=t("../../stores/PlantStore"),s=t("../../stores/MenuStore"),u=t("../../actions/WindowActions"),c=t("../../actions/SocketActions"),l=r.createClass({displayName:"Plant",getInitialState:function(){return{data:o.getPlantInfo(),money:s.getStates().money}},componentDidMount:function(){this.updateAction(),s.addChangeListener(this.updateMoney),a.addChangeListener(this.updateAction),o.addChangeListener(this.updatePlant)},componentWillUnmount:function(){s.removeChangeListener(this.updateMoney),o.removeChangeListener(this.updatePlant),a.removeChangeListener(this.updateAction)},openOperations:function(t){var e=t.target.dataset.id;u.openOperations(e)},rentPlant:function(t){var e=t.target.dataset.id;return i?this.signUpInGame(e,"rent"):void c.emit("rentPlant",e)},buyPlant:function(t){var e=t.target.dataset.id;return i?this.signUpInGame(e,"buy"):void c.emit("buyPlant",e)},signUpInGame:function(t,e){c.emit("signUpInGame",{plantID:t,action:e})},updateMoney:function(){this.setState({data:this.state.data,money:s.getStates().money})},updatePlant:function(){this.setState({data:o.getPlantInfo(),money:this.state.money})},updateAction:function(){i="auth"==a.getStates()},render:function(){var t=this.state.data.info,e=this.state.money,n=t.id,a=t.isRent,o=t.cost,s=t.rent,u=t.productionCapacity,c=t.logistic,l=t.staff,h=t.favorableLevel,p=t.owner,d=r.createElement("div",null,r.createElement("button",{"data-id":n,className:"btn primary wide",onClick:this.openOperations},"View plant"),a?r.createElement("button",{"data-id":n,className:e>=o?"btn primary wide":"btn wide disabled",onClick:e>=o?this.buyPlant:function(){return!1}},"Buy plant"):null),f=r.createElement("div",null,r.createElement("button",{"data-id":n,className:e>=s||i?"btn primary half":"btn half disabled",onClick:e>=s||i?this.rentPlant:function(t){t.preventDefault()}},"Rent"),r.createElement("button",{"data-id":n,className:e>=o?"btn primary half right":"btn half right disabled",onClick:e>=o?this.buyPlant:function(){return!1}},"Buy"));return r.createElement("div",{className:"plant"},r.createElement("p",null,r.createElement("label",null,"Cost of acquisition, \u20ac"),r.createElement("span",null,o)),r.createElement("p",null,r.createElement("label",null,"Rent price, \u20ac/m"),r.createElement("span",null,s)),r.createElement("p",null,r.createElement("label",null,"Production capacity"),r.createElement("span",null,u)),r.createElement("p",null,r.createElement("label",null,"Costs of logistics"),r.createElement("span",null,c)),r.createElement("p",null,r.createElement("label",null,"Number of staff"),r.createElement("span",null,l)),r.createElement("p",null,r.createElement("label",null,"Favorable level"),r.createElement("span",null,h+"/100")),p?d:f)}});e.exports=l},{"../../actions/SocketActions":16,"../../actions/WindowActions":19,"../../stores/AppStore":71,"../../stores/MenuStore":79,"../../stores/PlantStore":83,react:346}],48:[function(t,e,n){var i,r,a=t("react"),o=t("../../stores/MenuStore"),s=t("../../stores/SupplierStore"),u=t("../../stores/AppStore"),c=t("../../actions/WindowActions"),l=(t("../../actions/SidebarActions"),t("../../actions/SocketActions")),h=t("../../actions/SnackbarActions"),p=a.createClass({displayName:"Supplier",getInitialState:function(){return{data:s.getSupplierInfo(),money:o.getStates().money}},componentDidMount:function(){this.updateAction(),o.addChangeListener(this.updateMoney),s.addChangeListener(this.updatePlant),u.addChangeListener(this.updateAction)},componentWillUnmount:function(){o.removeChangeListener(this.updateMoney),s.removeChangeListener(this.updatePlant),u.removeChangeListener(this.updateAction)},updateMoney:function(){this.setState({data:this.state.data,money:o.getStates().money})},updatePlant:function(){var t=s.getSupplierInfo();this.setState({data:t,money:this.state.money})},updateAction:function(){console.log(u.getStates()),r="auth"==u.getStates()},openSupplier:function(t){c.openSupplier(t.target.dataset.id)},signContract:function(t){return i?(l.emit("signContract",{supplierID:t.target.dataset.id,period:i}),void(i=null)):h.show("Choose duration of the contract")},onChange:function(t){i=t.target.value},render:function(){console.log(r);var t=this.state.data,e=this.state.money,n=this.state.data.id,i=t.cost,o=t.costPerUnit,s=t.volume,u=t.payment,c=t.additional,l=t.rel,h=t.contract,p=t.willSign,d=t.dayLeft,f=a.createElement("button",{"data-id":n,className:"btn primary wide",onClick:this.openSupplier},"View supplier"),m=a.createElement("div",{className:"label-panel"},"You have already signed the contract. This supplier will be available in "+d+" days"),g=a.createElement("button",{"data-id":n,className:e>=i?"btn primary wide":"btn wide disabled",onClick:e>=i&&this.signContract},"Sign contract");return a.createElement("div",{className:"plant"},a.createElement("p",null,a.createElement("label",null,"Cost sign"),a.createElement("span",null,i)),a.createElement("p",null,a.createElement("label",null,"Cost per unit"),a.createElement("span",null,o)),a.createElement("p",null,a.createElement("label",null,"Max volume"),a.createElement("span",null,s)),a.createElement("p",null,a.createElement("label",null,"Payment term"),a.createElement("span",null,u)),a.createElement("p",null,a.createElement("label",null,"Additional units"),a.createElement("span",null,c)),a.createElement("p",null,a.createElement("label",null,"Reliability"),a.createElement("span",null,l)),t[3]&&!h&&!p&&!r&&a.createElement("div",{className:"radio"},a.createElement("input",{type:"radio",id:"m3",name:"term",onChange:this.onChange,value:"3"}),a.createElement("label",{htmlFor:"m3"},"3 month")),t[6]&&!h&&!p&&!r&&a.createElement("div",{className:"radio"},a.createElement("input",{type:"radio",id:"m6",name:"term",onChange:this.onChange,value:"6"}),a.createElement("label",{htmlFor:"m6"},"6 month")),t[12]&&!h&&!p&&!r&&a.createElement("div",{className:"radio"},a.createElement("input",{type:"radio",id:"m12",name:"term",onChange:this.onChange,value:"12"}),a.createElement("label",{htmlFor:"m12"},"12 month")),t[24]&&!h&&!p&&!r&&a.createElement("div",{className:"radio"},a.createElement("input",{type:"radio",id:"m24",name:"term",onChange:this.onChange,value:"24"}),a.createElement("label",{htmlFor:"m24"},"24 month")),r?null:p?m:h?f:g)}});e.exports=p},{"../../actions/SidebarActions":14,"../../actions/SnackbarActions":15,"../../actions/SocketActions":16,"../../actions/WindowActions":19,"../../stores/AppStore":71,"../../stores/MenuStore":79,"../../stores/SupplierStore":87,react:346}],49:[function(t,e,n){var i=t("react"),r=(t("../../../dispatcher/AppDispatcher"),t("material-ui")),a=(r.FloatingActionButton,r.Toolbar,t("../../../actions/WindowActions")),o=t("../../../actions/SocketActions"),s=i.createClass({displayName:"Notification",getInitialState:function(){return{}},componentDidMount:function(){},componentWillUnmount:function(){},targetAction:function(t){var e=t.target.dataset.type,n=t.target.dataset.id,i=t.target.dataset.tab;a.openWindowFromNotification(e,n,i)},select:function(t){var e=t.currentTarget,n=e.dataset.key;if(t.target.classList.contains("mark")||t.target.classList.contains("target"))return o.emit("markNotification",n);if(t.target.classList.contains("remove"))return o.emit("removeNotification",n);for(var i=document.getElementsByClassName("notification"),r=0;r<i.length;r++)i[r]!=e&&i[r].classList.remove("active");e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")},render:function(){var t=this.props.key,e=this.props.data.read?"notification read":"notification",n=this.props.data.read?"Mark as unread":"Mark as read",r=this.props.data.date,a=r/360>>0,o=r%360/30>>0,s=r%30+1,u=a+"Y "+o+"M "+s+"D";return i.createElement("div",{key:t,className:e,onClick:this.props["short"]?function(t){t.preventDefault()}:this.select,"data-key":this.props.data.key},i.createElement("button",{className:"btn-float label-"+this.props.data.source},i.createElement("span",null,this.props.data.source[0])),i.createElement("div",{className:"info"},i.createElement("span",{className:"title"},this.props.data.title,this.props["short"]?null:i.createElement("span",{className:"date"},u)),i.createElement("span",{className:"text"},this.props.data.text),this.props["short"]?null:i.createElement("div",{className:"links"},i.createElement("span",{className:"target","data-type":this.props.data.source,"data-id":this.props.data.id,"data-tab":this.props.data.tab,onClick:this.targetAction},this.props.data.action),i.createElement("span",{className:"mark"},n),i.createElement("span",{className:"remove"},"Remove"))))}});e.exports=s},{"../../../actions/SocketActions":16,"../../../actions/WindowActions":19,"../../../dispatcher/AppDispatcher":68,"material-ui":104,react:346}],50:[function(t,e,n){var i=t("react"),r=(t("../../dispatcher/AppDispatcher"),t("./finance/Info")),a=t("./finance/Loans"),o=t("../../actions/FinanceActions"),s=t("../../actions/SocketActions"),u=t("../../stores/FinanceStore"),c=i.createClass({displayName:"Finance",getInitialState:function(){return u.getStateTab()},componentDidMount:function(){u.addChangeListener(this.updateState),window.localStorage.getItem("financeHelp")||(s.emit("getHelp","finance"),window.localStorage.setItem("financeHelp",!0))},componentWillUnmount:function(){u.removeChangeListener(this.updateState)},updateState:function(){this.setState(u.getStateTab())},tabTouch:function(t){o.switchTab(t.target.dataset.tab)},render:function(){return i.createElement("div",{className:"cmp-tabs cmp-operations"},i.createElement("div",{className:"tabs-header"},i.createElement("span",{"data-tab":"info",className:"info"==this.state.tab?"active":"",onClick:this.tabTouch},"Info"),i.createElement("span",{"data-tab":"loans",className:"loans"==this.state.tab?"active":"",onClick:this.tabTouch},"Loans")),"info"==this.state.tab?i.createElement(r,null):null,"loans"==this.state.tab?i.createElement(a,null):null)}});e.exports=c},{"../../actions/FinanceActions":6,"../../actions/SocketActions":16,"../../dispatcher/AppDispatcher":68,"../../stores/FinanceStore":74,"./finance/Info":54,"./finance/Loans":55,react:346}],51:[function(t,e,n){var i=t("react"),r=t("../../actions/OperationsActions"),a=t("../../actions/SidebarActions"),o=t("../../actions/SocketActions"),s=t("../../stores/OperationsStore"),u=t("./operations/General"),c=t("./operations/Employees"),l=i.createClass({displayName:"Operations",getInitialState:function(){return s.getStateTab()},componentDidMount:function(){s.addChangeListener(this.updateState)},componentWillUnmount:function(){s.removeChangeListener(this.updateState)},updateState:function(){this.setState(s.getStateTab())},tabTouch:function(t){r.switchTab(t.target.dataset.tab),"employees"===t.target.dataset.tab?(a.changeHelp("employees"),window.localStorage.getItem("employeesHelp")||(o.emit("getHelp","employees"),window.localStorage.setItem("employeesHelp",!0))):a.changeHelp("plant")},render:function(){return i.createElement("div",{className:"cmp-tabs cmp-operations"},i.createElement("div",{className:"tabs-header"},i.createElement("span",{"data-tab":"general",className:"general"==this.state.tab?"active":"",onClick:this.tabTouch},"General"),i.createElement("span",{"data-tab":"employees",className:"employees"==this.state.tab?"active":"",onClick:this.tabTouch},"Employees"),i.createElement("span",{"data-tab":"reports",className:"disable"},"Reports"),i.createElement("span",{"data-tab":"upgrade",className:"disable"},"Upgrade")),"general"==this.state.tab?i.createElement(u,null):null,"employees"==this.state.tab?i.createElement(c,null):null)}});e.exports=l},{"../../actions/OperationsActions":10,"../../actions/SidebarActions":14,"../../actions/SocketActions":16,"../../stores/OperationsStore":81,"./operations/Employees":56,"./operations/General":57,react:346}],52:[function(t,e,n){var i=t("react"),r=t("../../stores/SalesStore"),a=t("../../actions/SalesActions"),o=t("../../actions/SocketActions"),s=t("./sales/General"),u=t("./sales/Direct"),c=t("./sales/Distributors"),l=i.createClass({displayName:"Sales",getInitialState:function(){return r.getTab()},componentDidMount:function(){r.addChangeListener(this.updateState),window.localStorage.getItem("salesHelp")||(o.emit("getHelp","sales"),window.localStorage.setItem("salesHelp",!0))},componentWillUnmount:function(){r.removeChangeListener(this.updateState)},updateState:function(){this.setState(r.getTab())},tabTouch:function(t){a.switchTab(t.target.dataset.tab)},checkTab:function(t,e){if(0==t.length||"general"==e)return"general";for(var n in t)if(t[n].key==e)return t[n].active?e:"general";return"general"},render:function(){var t=this.state.channels||[],e=this.checkTab(t,this.state.tab),n=[],r=0;n.push(i.createElement("span",{key:r++,"data-tab":"general",className:"general"==e?"active":"",onClick:this.tabTouch},"General"));for(var a in t)t[a].active&&n.push(i.createElement("span",{key:r++,"data-tab":t[a].key,className:e==t[a].key?"active":"",onClick:this.tabTouch},t[a].name));return i.createElement("div",{className:"cmp-tabs sales"},i.createElement("div",{className:"tabs-header"},n),"general"==e&&i.createElement(s,null),"direct"==e&&i.createElement(u,null),"distributors"==e&&i.createElement(c,null))}});e.exports=l},{"../../actions/SalesActions":13,"../../actions/SocketActions":16,"../../stores/SalesStore":84,"./sales/Direct":59,"./sales/Distributors":60,"./sales/General":61,react:346}],53:[function(t,e,n){var i,r,a=t("react"),o=t("../charts/Line"),s=t("../../stores/SupplierStore"),u=t("../../stores/MenuStore"),c=t("../../actions/SocketActions"),l=t("../../actions/SnackbarActions"),h=a.createClass({displayName:"Supplier",getInitialState:function(){return{data:s.getSupplier(),menu:u.getStates()}},componentDidMount:function(){u.addChangeListener(this.updateMenu),s.addChangeListener(this.updateState)},componentWillUnmount:function(){u.removeChangeListener(this.updateMenu),s.removeChangeListener(this.updateState)},updateMenu:function(){this.setState({data:this.state.data,menu:u.getStates()})},updateState:function(){this.setState({data:s.getSupplier(),menu:this.state.menu})},onBreakContract:function(t){c.emit("breakContract",t.target.dataset.id)},onExtendContract:function(t){return i?t.target.dataset.money-r<-5e5?l.show("Not enough money"):void c.emit("extendContract",{supplierID:t.target.dataset.id,period:i}):l.show("Choose duration of the contract")},onChange:function(t){i=t.target.value,r=t.target.dataset.cost},render:function(){var t=this.state.menu.money,e=(this.state.menu.date,this.state.data),n="resources/images/suppliers/001.jpg";if(e){var i=e.id,r=e.name,s=e.cost,u=e.costPerUnit,c=e.volume,l=e.payment,h=e.additional,p=e.graph,d=e.startContract,f=e.prolong,m=e.term,g=d+30*m,v=a.createElement("button",{"data-id":i,onClick:this.onBreakContract,className:"op-btn-abandon"},"break a contract"),y=[],_=function(t){return m==t?.05*s:t>m?.1*s:m>t?.3*s:void 0},x=function(t){var e=t/360>>0,n=t%360/30>>0,i=t%30+1;return e+"Y "+n+"M "+i+"D"};if(f){y.push(a.createElement("tr",{key:"1"},a.createElement("td",null,"Extend the contract"),a.createElement("td",null)));for(var b=0,E=3;25>E;E*=2)e[E]&&(b=_(E),y.push(a.createElement("tr",{key:E},a.createElement("td",null,a.createElement("div",{className:"radio"},a.createElement("input",{type:"radio",id:"m"+E,name:"term","data-cost":b,onChange:this.onChange,value:E}),a.createElement("label",{htmlFor:"m"+E},E," month"))),a.createElement("td",null,b," \u20ac"))))}}return a.createElement("div",{className:"supplier"},a.createElement("div",{className:"cmp-operations"},a.createElement("div",{className:"tab-container"},a.createElement("div",{style:{backgroundImage:"url("+n+")"},className:"op-img"}),e?a.createElement("div",{className:"op-box"},a.createElement("table",null,a.createElement("tr",null,a.createElement("td",{className:"title"},r),a.createElement("td",null)),a.createElement("tr",null,a.createElement("td",null,"Cost per unit"),a.createElement("td",null,u)),a.createElement("tr",null,a.createElement("td",null,"Max volume"),a.createElement("td",null,c)),a.createElement("tr",null,a.createElement("td",null,"Payment terms"),a.createElement("td",null,l)),a.createElement("tr",null,a.createElement("td",null,"Additional volume"),a.createElement("td",null,h)),a.createElement("tr",null,a.createElement("td",null,"The end date of the contract"),a.createElement("td",null,x(g))))):null,e?a.createElement("div",{className:"op-box"},a.createElement("div",{className:"op-title"},"Relationship history"),a.createElement(o,{id:"op-graph-cost",data:p,x:"time",y:"relationship"})):null,e?a.createElement("div",{className:"op-box clearfix"},f?null:a.createElement("div",{className:"op-title"},"Actions"),f?null:v,f?a.createElement("table",null," ",y," "):null,f?a.createElement("button",{"data-id":i,"data-money":t,onClick:this.onExtendContract,className:"btn green"},"extend"):null):null,e?null:a.createElement("div",{className:"no-supplier"},"You have no contract with this supplier"))))}});e.exports=h},{"../../actions/SnackbarActions":15,"../../actions/SocketActions":16,"../../stores/MenuStore":79,"../../stores/SupplierStore":87,"../charts/Line":36,react:346}],54:[function(t,e,n){var i=t("react"),r=t("../../../stores/FinanceStore"),a=i.createClass({displayName:"Info",getInitialState:function(){return r.getInfo()},componentDidMount:function(){r.addChangeListener(this.updateState)},componentWillUnmount:function(){r.removeChangeListener(this.updateState)},updateState:function(){this.setState(r.getInfo())},render:function(){var t=this.state.result||{},e=t.produced||{},n=t.sold||{},r=t.logistic||{},a=t.total||{},o=t.income||{},s=t.netProfit||{},u=t.interest||{},c=t.vat||{},l=t.incomeTax||{},h=this.state.productionCosts||{},p=h.rent||{},d=h.salary||{},f=h.logistics||{},m=h.material||{},g=h.saleforces||{},v=h.total||{},y=function(t,e){return i.createElement("tr",null,i.createElement("td",null,t),i.createElement("td",null,e.quantity),i.createElement("td",null,e.cost),i.createElement("td",null,e.total))},_=function(t){return i.createElement("tr",null,i.createElement("td",{colSpan:"3"},t))},x=function(t){return i.createElement("tr",null,i.createElement("td",null,t.quantity),i.createElement("td",null,t.cost),i.createElement("td",null,t.total))};return i.createElement("div",{className:"finance info"},i.createElement("div",{className:"title"},"Common"),i.createElement("table",{className:"tbl-fns"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",null,"Info"),i.createElement("td",null,"Quantity"),i.createElement("td",null,"Cost/Price"),i.createElement("td",null,"Total"))),i.createElement("tbody",null,y("Produced",e),y("Sold",n),y("In stock",r),y("Total cost(including stock)",a),y("Total income",o),y("Net profit before taxes",s),y("Interest",u),y("VAT, 21%",c),y("Income tax",l))),i.createElement("table",{className:"tbl-fns-mini"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",null,"Quantity"),i.createElement("td",null,"Cost/Price"),i.createElement("td",null,"Total"))),i.createElement("tbody",null,_("Produced"),x(e),_("Sold"),x(n),_("In stock"),x(r),_("Total cost(including stock)"),x(a),_("Total income"),x(o),_("Net profit before taxes"),x(s),_("Interest"),x(u),_("VAT, 21%"),x(c),_("Income tax"),x(l))),i.createElement("div",{className:"title"},"Production"),i.createElement("table",{className:"tbl-fns"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",null,"Info"),i.createElement("td",null,"Quantity"),i.createElement("td",null,"Price"),i.createElement("td",null,"Overal"))),i.createElement("tbody",null,y("Material",m),y("Salary",d),y("Rent",p),y("Logistics",f),y("Saleforce",g),y("Total cost",v))),i.createElement("table",{className:"tbl-fns-mini"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",null,"Quantity"),i.createElement("td",null,"Price"),i.createElement("td",null,"Overal"))),i.createElement("tbody",null,_("Material"),x(m),_("Salary"),x(d),_("Rent"),x(p),_("Logistics"),x(f),_("Saleforce"),x(g),_("Total cost"),x(v))))}});e.exports=a},{"../../../stores/FinanceStore":74,react:346}],55:[function(t,e,n){var i=t("react"),r=t("../../../stores/FinanceStore"),a=t("../../../actions/SocketActions"),o=t("../../../actions/SnackbarActions"),s=0,u=i.createClass({displayName:"Loans",getInitialState:function(){return r.getLoans()},componentDidMount:function(){r.addChangeListener(this.updateState)},componentWillUnmount:function(){r.removeChangeListener(this.updateState)},updateState:function(){this.setState(r.getLoans())},select:function(t){var e=t.target.parentElement,n=e.dataset.loan;this.clearActiveLoan(),e.classList.add("active"),e.querySelector("input").checked=!0,s=n},onChange:function(t){this.clearActiveLoan(),t.target.parentElement.parentElement.parentElement.classList.add("active"),s=t.target.value},clearActiveLoan:function(){for(var t=document.getElementsByTagName("tr"),e=0;e<t.length;e++)t[e].classList.contains("active")&&(t[e].classList.remove("active"),t[e].querySelector("input").checked=!1)},onTakeLoan:function(){return s?(this.clearActiveLoan(),void a.emit("takeLoan",s)):o.show("Select the size of the loan")},onProlong:function(t){var e=t.target.dataset.id;a.emit("prolongLoan",e)},onPay:function(t){var e=t.target.dataset.id;a.emit("payLoan",e)},render:function(){var t=this.state.loans,e=t.length,n=["A","B","C"],r=[];for(var a in t){var o=t[a].date+360,s=o/360>>0,u=o%360/30>>0,c=o%30+1,l=s+"Y "+u+"M "+c+"D";r.push(i.createElement("div",{key:a,className:"container"},i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},"Amount"),i.createElement("div",{className:"column"},t[a].sum)),i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},"Interest rate"),i.createElement("div",{className:"column"},t[a].pay)),i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},"Pay date"),i.createElement("div",{className:"column"},l)),i.createElement("button",{"data-id":t[a].id,onClick:this.onPay,className:"btn green"},"Pay loan"),"yes"===t[a].prolong&&i.createElement("button",{"data-id":t[a].id,onClick:this.onProlong,className:"btn green"},"Prolong")))}return i.createElement("div",{className:"finance loans"},i.createElement("div",{className:"title"},"Loans"),i.createElement("div",{className:"rating"},"Rating:",i.createElement("span",{className:"prm"},i.createElement("span",{className:"rating-"+n[e]},n[e])," (may take ",2-e," credit)")),i.createElement("table",{className:"loan"},i.createElement("tr",null,i.createElement("th",null),i.createElement("th",null,"Amount"),i.createElement("th",null,"Term"),i.createElement("th",null,"Interest")),i.createElement("tr",{"data-loan":"1",onClick:this.select},i.createElement("td",null,i.createElement("div",{className:"radio"},i.createElement("input",{type:"radio",name:"loan",id:"m1",onChange:this.onChange,value:"1"}),i.createElement("label",{htmlFor:"m1"}))),i.createElement("td",null,"100000"),i.createElement("td",null,"360"),i.createElement("td",null,"10")),i.createElement("tr",{"data-loan":"2",onClick:this.select},i.createElement("td",null,i.createElement("div",{className:"radio"},i.createElement("input",{type:"radio",name:"loan",id:"m2",onChange:this.onChange,value:"2"}),i.createElement("label",{htmlFor:"m2"}))),i.createElement("td",null,"300000"),i.createElement("td",null,"360"),i.createElement("td",null,"7")),i.createElement("tr",{"data-loan":"3",onClick:this.select},i.createElement("td",null,i.createElement("div",{className:"radio"},i.createElement("input",{type:"radio",name:"loan",id:"m3",onChange:this.onChange,value:"3"}),i.createElement("label",{htmlFor:"m3"}))),i.createElement("td",null,"500000"),i.createElement("td",null,"360"),i.createElement("td",null,"5"))),i.createElement("button",{onClick:2-e>0&&this.onTakeLoan,className:2-e>0?"btn green":"btn disable"},"Take loan"),!!e&&i.createElement("div",{className:"title margin-title"},"Your loans"),r)}});e.exports=u},{"../../../actions/SnackbarActions":15,"../../../actions/SocketActions":16,"../../../stores/FinanceStore":74,react:346}],56:[function(t,e,n){var i,r=t("react"),a=t("underscore"),o=(t("../../../actions/OperationsActions"),t("../../../actions/SocketActions")),s=t("../../../stores/OperationsStore"),u=t("../../../stores/MenuStore"),c=t("material-ui"),l=c.Toggle,h={},p=r.createClass({displayName:"Employees",getInitialState:function(){return s.getStates()},componentDidMount:function(){s.addChangeListener(this.updateState),i=u.getStates().date},componentWillUnmount:function(){s.removeChangeListener(this.updateState)},updateState:function(){this.setState(s.getStates()),i=u.getStates().date},click:function(t){if(!t.target.classList.contains("disable")){var e=t.target.dataset.skill,n=t.target.parentElement.dataset.role,i=this.state.workers||[];for(var r in i)if(i[r].type==n)return i[r].skill=i[r].skill!=e&&e,h[n]=i[r].skill,this.setState(a.extend(this.state,{workers:i}));h[n]=e,i.push({type:n,skill:e}),this.setState(a.extend(this.state,{workers:i}))}},onToggleChange:function(t,e){this.setState({checkBoxSalary:e})},onConfirm:function(){o.emit("hireEmployees",{idPlant:this.state.id,employees:h}),console.log(h)},render:function(){var t={management:{low:[3e3,70],average:[4e3,75],skilled:[7e3,90]},functional:{low:[1800,60],average:[2400,70],skilled:[3200,80]},support:{low:[900,40],average:[1200,60],skilled:[1500,70]}},e=this.state.workers,n=this.state.staffBonus,a=this.state.favorableLevel,o=100*this.state.broken,s=this.state.checkBoxSalary,u=[],c=0,h=this.state.tmp||{},p=h.workers||{},d=Object.keys(p).length>0,f="hired"in p?r.createElement("div",{className:"msg-employees"},"New employees will be hired in "+(p.hired+12-i)+" days"):null,m=function(t){for(var n in e)if(e[n].type==t)return e[n];return{type:t,skill:null}};for(var g in t){var v=m(g);u.push(r.createElement("tr",{key:c++,"data-role":g},r.createElement("td",null,g),r.createElement("td",{"data-skill":"low",onClick:this.click,className:"low"==v.skill?" select":""},t[g].low[s?0:1]),r.createElement("td",{"data-skill":"average",onClick:this.click,className:"average"==v.skill?" select":""},t[g].average[s?0:1]),r.createElement("td",{"data-skill":"skilled",onClick:this.click,className:"skilled"==v.skill?" select":""},t[g].skilled[s?0:1])))}return r.createElement("div",{className:"tab-container"},r.createElement("div",{className:"op-box line-hide"},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Info"),r.createElement("td",null)),r.createElement("tr",null,r.createElement("td",null,"Performance bonus"),r.createElement("td",null,n-100," %")),r.createElement("tr",null,r.createElement("td",null,'The level of "favorable" place'),r.createElement("td",null,a)),r.createElement("tr",null,r.createElement("td",null,"% Of defective production"),r.createElement("td",null,o)))),r.createElement("div",{className:"op-box clearfix"},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"\u0421urrent employee mix"),r.createElement("td",null)),r.createElement("tr",null,r.createElement("td",null,"Desired location attractiveness"),r.createElement("td",null,r.createElement(l,{
name:"renewMonthly",defaultToggled:this.state.checkBoxSalary,label:"Salary, \u20ac",labelPosition:"right",onToggle:this.onToggleChange})))),f,r.createElement("table",{className:"tbl-employees"},r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null,"Low"),r.createElement("td",null,"Average"),r.createElement("td",null,"Skilled")),u),r.createElement("button",{className:"btn green right",onClick:this.onConfirm,disabled:d},"Confirm")))}});e.exports=p},{"../../../actions/OperationsActions":10,"../../../actions/SocketActions":16,"../../../stores/MenuStore":79,"../../../stores/OperationsStore":81,"material-ui":104,react:346,underscore:399}],57:[function(t,e,n){var i=t("react"),r=(t("../../../actions/OperationsActions"),t("../../../actions/SocketActions")),a=t("../../../actions/SnackbarActions"),o=t("../../../stores/OperationsStore"),s=t("material-ui"),u=s.Toggle,c=t("../../charts/Line"),l=t("../../charts/Gauge"),h=(t("./NumberField"),t("react-slider")),p=i.createClass({displayName:"General",getInitialState:function(){return{info:o.getStates(),tempTarget:0}},componentDidMount:function(){o.addChangeListener(this.updateState)},componentWillUnmount:function(){o.removeChangeListener(this.updateState)},updateState:function(){this.setState({info:o.getStates()})},onConfirm:function(t){r.emit("setAmountProductions",{idPlant:this.state.info.id,amount:this.state.tempTarget}),this.setState({tempTarget:0})},onCancel:function(){this.setState({tempTarget:0})},onToggleChange:function(t,e){r.emit("setMonthlyRenewal",{idPlant:this.state.info.id,renew:e})},onLeavePlant:function(){r.emit("leavePlan",this.state.info.id)},amountChange:function(t){0!==this.state.info.workers.length&&this.setState({tempTarget:t})},amountValueChange:function(){this.state.info.workers.length||a.show("You must hire workers first")},render:function(){var t="resources/images/operations/001.png",e=this.state.info.name,n=this.state.info.cost,r=this.state.info.rent,a=~~this.state.info.prod,o=this.state.info.logistic,s=this.state.info.personal,p=this.state.info.favorableLevel,d=100*this.state.info.broken,f=(Math.round(this.state.info.target),this.state.info.costPerUnit),m=this.state.info.renew,g=~~(this.state.info.stock+this.state.info.warehouse),v=(Math.min(this.state.info.prod,this.state.info.cleanProd),this.state.tempTarget?this.state.tempTarget:this.state.info.target),y=this.state.info.staffBonus||0,_=this.state.info.productionHistory||[],x=this.state.info.marginHistory||[];return i.createElement("div",{className:"tab-container"},i.createElement("div",{style:{backgroundImage:"url("+t+")"},className:"op-img"}),i.createElement("div",{className:"op-box"},i.createElement("table",null,i.createElement("tr",null,i.createElement("td",{className:"title"},e),i.createElement("td",null)),i.createElement("tr",null,i.createElement("td",null,"Cost of acquisition, \u20ac"),i.createElement("td",null,n)),i.createElement("tr",null,i.createElement("td",null,"Rent price, \u20ac/m"),i.createElement("td",null,r)),i.createElement("tr",null,i.createElement("td",null,"Production capacity"),i.createElement("td",null,a)),i.createElement("tr",null,i.createElement("td",null,"Costs of logistics"),i.createElement("td",null,o)),i.createElement("tr",null,i.createElement("td",null,"Number of staff"),i.createElement("td",null,s)),i.createElement("tr",null,i.createElement("td",null,"Local attractiveness"),i.createElement("td",null,p)),i.createElement("tr",null,i.createElement("td",null,"% Of defective products"),i.createElement("td",null,d)))),i.createElement("div",{className:"op-box"},i.createElement("table",null,i.createElement("tr",null,i.createElement("td",null,"Production volume"),i.createElement("td",null)),i.createElement("tr",null,i.createElement("td",{colSpan:"2"},i.createElement(h,{defaultValue:this.state.info.target,value:v,withBars:!0,onChange:this.amountChange,onSliderClick:this.amountValueChange,max:a}))),i.createElement("tr",null,i.createElement("td",null,"0"),i.createElement("td",{className:"td-right"},a)),i.createElement("tr",{className:"with-buttons"},i.createElement("td",null,this.state.tempTarget?i.createElement("button",{className:"btn red left cnf",onClick:this.onCancel},"Cancel"):null),i.createElement("td",null,this.state.info.workers.length&&this.state.info.target||this.state.tempTarget?i.createElement("button",{className:"btn green right cnf",onClick:this.onConfirm},"Confirm"):null)),i.createElement("tr",null,i.createElement("td",null,"Amount:"),i.createElement("td",null,v)),i.createElement("tr",null,i.createElement("td",null,"Cost per unit, \u20ac"),i.createElement("td",null,f)),i.createElement("tr",null,i.createElement("td",null,"Renew monthly"),i.createElement("td",null,i.createElement(u,{name:"renewMonthly",toggled:m?!0:!1,onToggle:this.onToggleChange}))),i.createElement("tr",null,i.createElement("td",null,"\xa0"),i.createElement("td",null)),i.createElement("tr",null,i.createElement("td",null,"Number of units in stock"),i.createElement("td",null,g)))),i.createElement("div",{className:"op-box"},i.createElement("div",{className:"op-title"},"Production history"),i.createElement(c,{id:"op-graph-cost",data:_,x:"month",y:"quantity"})),i.createElement("div",{className:"op-box"},i.createElement("div",{className:"op-title"},"Margin history"),i.createElement(c,{id:"op-graph-stock",data:x,x:"month",y:"margin"})),i.createElement("div",{className:"op-box"},i.createElement("div",{className:"op-title"},"Level of staff productivity"),i.createElement(l,{id:"op-graph-level-staff",value:y,name:"Level of staff productivity"})),i.createElement("div",{className:"op-box clearfix"},i.createElement("div",{className:"op-title"},"Actions"),i.createElement("button",{className:"op-btn-abandon",onClick:this.onLeavePlant},"Abandon"),i.createElement("span",{className:"op-description"},"Terminate the lease of factory capacity and dismiss all employees")))}});e.exports=p},{"../../../actions/OperationsActions":10,"../../../actions/SnackbarActions":15,"../../../actions/SocketActions":16,"../../../stores/OperationsStore":81,"../../charts/Gauge":35,"../../charts/Line":36,"./NumberField":58,"material-ui":104,react:346,"react-slider":173}],58:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"NumberField",minValue:0,maxValue:9999,mixins:[i.addons.LinkedStateMixin],getInitialState:function(){return{value:this.props.value}},handleChange:function(t){this.setState({value:t.target.value})},onKeyDown:function(t){-1!==[46,8,9,27,13,190].indexOf(t.keyCode)||65==t.keyCode&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()},componentWillReceiveProps:function(t){this.setState({value:t.value})},render:function(){this.state.value;return i.createElement("input",{type:"number",className:"number-field",min:this.minValue,max:this.maxValue,valueLink:this.linkState("value"),onKeyDown:this.onKeyDown})}});e.exports=r},{react:346}],59:[function(t,e,n){var i,r=t("react"),a=t("../../../stores/SalesStore"),o=t("../../../stores/MenuStore"),s=t("../../../actions/SocketActions"),u=r.createClass({displayName:"GeneratedContract",getDefaultProps:function(){return{date:o.getStates().date}},accept:function(t){s.emit("acceptContract",t.target.dataset.id)},render:function(){var t=this.props.contract;return r.createElement("div",{className:"contract clearfix"},r.createElement("div",{className:"percent"},r.createElement("span",null,Math.floor(100*t.size)+"%"," ")),r.createElement("span",null,t.generatedAt+28-this.props.date+" days"," left"),r.createElement("button",{"data-id":t.id,className:"btn green",onClick:this.accept},"Accept"))}}),c=r.createClass({displayName:"AcceptedContract",getDefaultProps:function(){return{date:o.getStates().date}},render:function(){var t=this.props.contract;return r.createElement("div",{className:"contract clearfix"},r.createElement("span",null,"Can sell ",Math.floor(t.volume)," units"))}}),l=r.createClass({displayName:"Direct",getInitialState:function(){return a.getDirect()},componentDidMount:function(){a.addChangeListener(this.updateState),i=o.getStates().date},componentWillUnmount:function(){a.removeChangeListener(this.updateState)},updateState:function(){this.setState(a.getDirect()),i=o.getStates().date},render:function(){var t=this.state.generatedContracts,e=this.state.acceptedContracts;console.log(e);var n=t.map(function(t){return r.createElement(u,{contract:t,date:i})}),a=e.map(function(t){return r.createElement(c,{contract:t})});return r.createElement("div",{className:"tab-container"},r.createElement("div",{className:"contract-container"},r.createElement("span",{className:"title"},"Available contracts"),n),a.length?r.createElement("div",{className:"contract-container"},r.createElement("span",{className:"title"},"Accepted contracts"),a):null)}});e.exports=l},{"../../../actions/SocketActions":16,"../../../stores/MenuStore":79,"../../../stores/SalesStore":84,react:346}],60:[function(t,e,n){var i=t("react"),r=t("../../../stores/SalesStore"),a=t("../../../stores/MenuStore"),o=t("../../../actions/SocketActions"),s=t("../operations/NumberField"),u=i.createClass({displayName:"Distributor",sign:function(t){o.emit("signDistributor",t.target.dataset.id)},setQuantity:function(t){var e=t.target.dataset.id,n=t.target.parentElement.querySelector("input").value;o.emit("setDistributorQuantity",{id:e,quantity:n})},render:function(){var t=this.props.distributor,e=this.props.money,n=i.createElement("button",{className:"btn green","data-id":t.id,disabled:e<t.cost,onClick:this.sign},"Sign Contract"),r=i.createElement("p",null,i.createElement(s,{className:"number-field",value:t.target||0}),i.createElement("button",{className:"btn green","data-id":t.id,onClick:this.setQuantity},"Confirm"));return i.createElement("div",{className:"distributor"},i.createElement("p",{className:"title"},t.title),i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,"Max volume:"),i.createElement("td",null,t.max),i.createElement("td",null,"Min volume"),i.createElement("td",null,t.min)),i.createElement("tr",null,i.createElement("td",null,"Sign cost:"),i.createElement("td",null,t.cost),i.createElement("td",null,"Sell power"),i.createElement("td",null,t.power)))),i.createElement("div",{className:"action clearfix"},t.contract?r:n))}}),c=i.createClass({displayName:"Distributors",getInitialState:function(){return{distributors:r.getDistributors().distributors,money:a.getStates().money}},componentDidMount:function(){r.addChangeListener(this.updateState)},componentWillUnmount:function(){r.removeChangeListener(this.updateState)},updateState:function(){this.setState(r.getDistributors())},render:function(){var t=this.state.distributors,e=this.state.money,n=t.map(function(t){return t.active?i.createElement(u,{key:t.id,distributor:t,money:e}):void 0});return i.createElement("div",{className:"tab-container"},n)}});e.exports=c},{"../../../actions/SocketActions":16,"../../../stores/MenuStore":79,"../../../stores/SalesStore":84,"../operations/NumberField":58,react:346}],61:[function(t,e,n){var i,r=t("react"),a=t("../../../stores/SalesStore"),o=t("../../../stores/MenuStore"),s=t("../../../actions/SocketActions"),u=t("../../../actions/SalesActions"),c=t("../../../actions/SnackbarActions"),l=(t("../operations/NumberField"),t("react-slider")),h="salary",p={},d=r.createClass({displayName:"General",getInitialState:function(){return{tab:h,data:a.getGeneral(),tempPrice:0}},componentDidMount:function(){a.addChangeListener(this.updateState),i=o.getStates().date},componentWillUnmount:function(){a.removeChangeListener(this.updateState)},updateState:function(){this.setState({tab:this.state.tab,data:a.getGeneral()}),i=o.getStates().date},changeTab:function(t){var e=t.target.dataset.tab;this.setState({tab:e,data:this.state.data})},click:function(t){for(var e=t.target.parentElement.parentElement.getElementsByTagName("td"),n=t.target.dataset.skill,i=t.target.dataset.size,r=0;r<e.length;r++)e[r].classList.contains("select")&&e[r].classList.remove("select");t.target.classList.add("select"),p={skill:n,size:i}},onConfirm:function(t){var e=this.state.tempPrice,n=this.state.data.maxPrice||0;return e>n?c.show("The unit cost of production should not exceed the maximum price"):(s.emit("setCostProduction",e),u.update({price:e}),void this.setState({tempPrice:0}))},onCancel:function(){this.setState({tempPrice:0})},onHireSaleforce:function(){return p.skill&&p.size?void s.emit("hireSaleforces",p):c.show("Select saleforce")},incForce:function(t){var e=t.target.dataset.channel;s.emit("changeSaleForce",{channel:e,value:1})},decForce:function(t){var e=t.target.dataset.channel;s.emit("changeSaleForce",{channel:e,value:-1})},amountChange:function(t){this.setState({tempPrice:t})},amountValueChange:function(){},render:function(){var t=this.state.tab,e=this.state.data||{},n=e.price||0,a=this.state.tempPrice,o=e.maxPrice||0,s=e.saleforces||{},u=s.size,c=s.skill,h=s.level||0,p={salary:{small:{low:"2900 \u20ac",average:"3000 \u20ac",experienced:"3300 \u20ac"},medium:{low:"3700 \u20ac",average:"3800 \u20ac",experienced:"4200 \u20ac"},large:{low:"4800 \u20ac",average:"5000 \u20ac",experienced:"5400 \u20ac"}},efficiency:{small:{low:"+0.0",average:"+0.05",experienced:"+0.1"},medium:{low:"+0.1",average:"+0.15",experienced:"+0.2"},large:{low:"+0.2",average:"+0.25",experienced:"+0.3"}},proficiency:{small:{low:"+0.15",average:"+0.2",experienced:"+0.22"},medium:{low:"+0.18",average:"+0.21",experienced:"+0.25"},large:{low:"+0.25",average:"+0.27",experienced:"+0.31"}}},d=p[t],f=[],m=0;for(var g in d)f.push(r.createElement("tr",{key:m++},r.createElement("td",null,g),r.createElement("td",{"data-size":g,"data-skill":"low",className:u==g&&"low"==c?"select":"",onClick:this.click},d[g].low),r.createElement("td",{"data-size":g,"data-skill":"average",className:u==g&&"average"==c?"select":"",onClick:this.click},d[g].average),r.createElement("td",{"data-size":g,"data-skill":"experienced",className:u==g&&"experienced"==c?"select":"",onClick:this.click},d[g].experienced)));for(var v=e.tmp||{},y=v.saleforces||{},_=("date"in y?r.createElement("div",{className:"msg-saleforces"},"New saleforce will be hired in "+(y.date+13-i)+" days"):null),x=(r.createElement("div",{className:"info"},r.createElement("span",{className:"title"},"Current choose"),r.createElement("span",{className:"text"},"Saleforce")),e.freeForce),b=[],g=0;10>g;g++)b.push(r.createElement("div",{className:x?"active":null})),x&&x--;var E,w=e.channels,C=[];for(var g in w)E=w[g],C.push(r.createElement("div",{className:E.active?"channel active":"channel"},E.active?r.createElement("div",{className:"fill",style:{width:10*E.force+"%"}}):null,E.active?r.createElement("span",{className:"minus",onClick:this.decForce,"data-channel":E.key},"-"):null,w[g].name,E.active?r.createElement("span",{className:"plus",onClick:this.incForce,"data-channel":E.key},"+"):null));return r.createElement("div",{className:"tab-container"},r.createElement("div",{className:"info-sales"},r.createElement("span",{className:"title"},"Info"),r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Price"),r.createElement("td",null,a||n)),r.createElement("tr",null,r.createElement("td",{colSpan:"2"},r.createElement(l,{defaultValue:n,value:a||n,withBars:!0,onChange:this.amountChange,onSliderClick:this.amountValueChange,max:o}))),r.createElement("tr",{className:"with-buttons"},r.createElement("td",{colSpan:"2"},this.state.tempPrice?r.createElement("button",{className:"btn red left cnf",onClick:this.onCancel},"Cancel"):null,this.state.data.price||this.state.tempPrice?r.createElement("button",{className:"btn green right cnf",onClick:this.onConfirm},"Confirm"):null)),r.createElement("tr",null,r.createElement("td",null,"Max price, \u20ac"),r.createElement("td",null,o)),r.createElement("tr",null,r.createElement("td",null,"Level Saleforce"),r.createElement("td",null,h)))),r.createElement("div",{className:"table"},r.createElement("span",{className:"title"},"Saleforce"),r.createElement("div",{className:"table-tabs"},r.createElement("span",{"data-tab":"salary",onClick:this.changeTab,className:"salary"==t?"active":""},"salary"),r.createElement("span",{"data-tab":"efficiency",onClick:this.changeTab,className:"efficiency"==t?"active":""},"efficiency"),r.createElement("span",{"data-tab":"proficiency",onClick:this.changeTab,className:"proficiency"==t?"active":""},"proficiency")),_,r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null,"low"),r.createElement("td",null,"average"),r.createElement("td",null,"experienced")),f),r.createElement("button",{className:"btn green right",onClick:this.onHireSaleforce},"hire")),r.createElement("div",{className:"channels"},r.createElement("span",{className:"title"},"Channels"),r.createElement("div",{className:"forceScale"},r.createElement("span",null,"Free sales force"),b),C))}});e.exports=d},{"../../../actions/SalesActions":13,"../../../actions/SnackbarActions":15,"../../../actions/SocketActions":16,"../../../stores/MenuStore":79,"../../../stores/SalesStore":84,"../operations/NumberField":58,react:346,"react-slider":173}],62:[function(t,e,n){var i=t("react/lib/keyMirror"),r=i({APP_CHANGE:null,ERROR404_CHANGE:null,FINISH_UPDATE:null});e.exports=r},{"react/lib/keyMirror":330}],63:[function(t,e,n){var i=t("react/lib/keyMirror"),r=i({MENU_CHANGE:null,INC_NOTIFICATIONS_COUNT:null,DEC_NOTIFICATIONS_COUNT:null,UPDATE_GAME_TIME:null});e.exports=r},{"react/lib/keyMirror":330}],64:[function(t,e,n){var i={types:{operations:"operations",global:"global"},events:{changeMapType:"changeMapType"}};e.exports=i},{}],65:[function(t,e,n){var i=t("react/lib/keyMirror"),r=i({PANEL_CHANGE:null,GAMES_UPDATE:null,ACTIVE_GAMES_UPDATE:null});e.exports=r},{"react/lib/keyMirror":330}],66:[function(t,e,n){var i=t("react/lib/keyMirror"),r=i({PLANT_CHANGE:null,CLOSE_SUPPLIER:null,SUPPLIER_CHANGE:null,AREA_CHANGE:null,AREA_CHANGE_TAB:null,SIDEBAR_CHANGE:null,NOTIFICATIONS_CHANGE:null,NOTIFICATIONS_UPDATE:null,NOTIFICATIONS_ADD:null,CRITICAL_NOTIFICATIONS_ADD:null,CRITICAL_CHANGE_VISIBLE:null,NOTIFICATIONS_MARK:null,NOTIFICATIONS_FILTER:null,NOTIFICATIONS_REMOVE:null});e.exports=r},{"react/lib/keyMirror":330}],67:[function(t,e,n){var i=t("react/lib/keyMirror"),r=i({WINDOW_CHANGE:null,OPERATIONS_UPDATE:null,OPERATIONS_CHANGE:null,SUPPLIERS_UPDATE:null,SUPPLIERS_CHANGE:null,FINANCE_CHANGE:null,FINANCE_UPDATE_INFO:null,FINANCE_UPDATE_LOANS:null,SALES_CHANGE:null});e.exports=r},{"react/lib/keyMirror":330}],68:[function(t,e,n){var i=t("flux").Dispatcher,r=new i;e.exports=r},{flux:99}],69:[function(t,e,n){e.exports={hostAPI:"http://businessshark.ossystem.com.ua/",socketAPI:"http://businessshark.ossystem.com.ua/",headerToken:"x-access-token",reconnectionDelay:5e3,reconnectionAttempts:12,debug:!0}},{}],70:[function(t,e,n){function i(t){u={content:t.content||u.content,visible:"visible"in t?t.visible:u.visible,ping:"ping"in t?t.ping:!1}}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/AppConstants"),u={content:"",visible:!1,ping:!1},c=o.extend({},a.prototype,{getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.ERROR404_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/AppConstants":62,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],71:[function(t,e,n){function i(t){u=t}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/AppConstants"),u="none",c=o.extend({},a.prototype,{isAuth:function(){return"auth"!=u},getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.APP_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/AppConstants":62,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],72:[function(t,e,n){function i(t){"object"==typeof t?c.info=t:c.tab=t}function r(t){c.tab=t}var a=t("../dispatcher/AppDispatcher"),o=t("events").EventEmitter,s=t("underscore"),u=t("../constants/SidebarConstants"),c={tab:"global",info:{global:{infrastructure:"strongly developed",consumptionCulture:"smart active",informationTransparency:"Transparent",employeeExp:68,averageTax:"25/38",counterParties:36,companies:8,salary:{management:{low:"3000",average:"4000",skilled:"5000"},functional:{low:"2000",average:"2800",skilled:"3600"},support:{low:"1500",average:"2000",skilled:"2500"}}},operations:{production:.5,salesPer:.5,sales:2e5,margin:2e5,costs:3e5},chart:[{price:100,supply:1300,demand:500},{price:130,supply:2500,demand:2500},{price:170,supply:3500,demand:1500},{price:200,supply:4e3,demand:1e3}],suppliers:[{id:1,name:"Barna",status:"unactive"},{id:2,name:"Bauch",status:"unactive"},{id:3,name:"Mapre",status:"unactive"},{id:4,name:"Ciutadella",status:"active"},{id:5,name:"Ferina",status:"unactive"},{id:6,name:"Talbo",status:"active"},{id:7,name:"La Clima",status:"unactive"},{id:8,name:"Cabeza",status:"unactive"},{id:9,name:"Springbuild",status:"active"},{id:10,name:"Feverisch",status:"unactive"},{id:11,name:"Tomilera",status:"unactive"},{id:12,name:"Forbello Mucci",status:"unactive"},{id:13,name:"Grupo Basque",status:"unactive"},{id:14,name:"Cara Zekov",status:"unactive"},{id:15,name:"Marcus Garcia",status:"active"},{id:16,name:"Caletta",status:"unactive"},{id:17,name:"Huffington\u2019s",status:"active"},{id:18,name:"Chashoo",status:"unactive"}],plants:[{id:1,name:"Vacarisses"},{id:2,name:"Granollers"},{id:3,name:"Figueres"},{id:4,name:"Reus"},{id:5,name:"Lleida"},{id:6,name:"Amposta"},{id:7,name:"Pozuelo"},{id:8,name:"Aranjuez"},{id:9,name:"Valdemoro"},{id:10,name:"Alcobendas"},{id:11,name:"Torrelaguna"},{id:12,name:"Valdelagua"},{id:13,name:"Bilbao"},{id:14,name:"Vitoria-Gasteiz"},{id:15,name:"Tolosa"},{id:16,name:"Getxo"},{id:17,name:"Durango"},{id:18,name:"Zarautz"}]}},l=s.extend({},o.prototype,{getOperationsInfo:function(){return c.info.operations},getGlobalInfo:function(){return c.info.global},getChart:function(){return c.info.chart},getTab:function(){return c.tab},getSuppliers:function(){return c.info.suppliers},getPlants:function(){return c.info.plants},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});a.register(function(t){var e=t.action;switch(e){case u.AREA_CHANGE:i(t.data);break;case u.AREA_CHANGE_TAB:r(t.data);break;default:return!0}return l.emitChange(),!0}),e.exports=l},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],73:[function(t,e,n){function i(t){l=t}function r(t){h=c.extend(h,t)}function a(t){h.languages=c.extend(h.languages,t)}function o(t){p=t}var s=t("../dispatcher/AppDispatcher"),u=t("events").EventEmitter,c=t("underscore"),l="login",h={email:"",nick:"",password:"",languages:{en:"basic"}},p="male",d=c.extend({},u.prototype,{getStep:function(){return l},getFormReg:function(){return h},getGender:function(){return p},getLanguages:function(){return h.languages},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});s.register(function(t){var e=t.action;switch(e){case"changeStep":i(t.data);break;case"changeLanguages":a(t.data);break;case"changeFormReg":r(t.data);break;case"changeGender":o(t.data);break;default:return!0}return d.emitChange(),!0}),e.exports=d},{"../dispatcher/AppDispatcher":68,events:94,underscore:399}],74:[function(t,e,n){function i(t){t&&0!=Object.keys(t).length&&(l=c.extend(l,t))}function r(t){t.result&&(l.info.result=t.result),t.productionCosts&&(l.info.productionCosts=t.productionCosts)}function a(t){l.loans=t}var o=t("../dispatcher/AppDispatcher"),s=t("events").EventEmitter,u=t("../constants/WindowConstants"),c=t("underscore"),l={activeTab:"info",info:{},loans:{}},h=c.extend({},s.prototype,{getInfo:function(){return l.info||{}},getLoans:function(){return{loans:l.loans||[]}},getStateTab:function(){return{tab:l.activeTab}},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});o.register(function(t){var e=t.action;switch(e){case u.FINANCE_CHANGE:i(t.data);break;case u.FINANCE_UPDATE_INFO:r(t.data);break;case u.FINANCE_UPDATE_LOANS:a(t.data);break;default:return!0}return h.emitChange(),!0}),e.exports=h},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],75:[function(t,e,n){function i(t){u=t||{}}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/AppConstants"),u={},c=o.extend({},a.prototype,{getData:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.FINISH_UPDATE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/AppConstants":62,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],76:[function(t,e,n){function i(t){c.list=t}function r(t){c.active=t}var a=t("../dispatcher/AppDispatcher"),o=t("events").EventEmitter,s=t("underscore"),u=t("../constants/PanelConstants"),c={list:[],active:[]},l=s.extend({},o.prototype,{getStates:function(){return c},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});a.register(function(t){var e=t.action;switch(e){case u.GAMES_UPDATE:i(t.data);break;case u.ACTIVE_GAMES_UPDATE:r(t.data);break;default:return!0}return l.emitChange(),!0}),e.exports=l},{"../constants/PanelConstants":65,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],77:[function(t,e,n){function i(t){s=o.extend(s,t)}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s={info:"",visible:!1,title:"Title"},u=o.extend({},a.prototype,{getStates:function(){return s},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case"INFO_CHANGE":i(t.data);break;default:return!0}return u.emitChange(),!0}),e.exports=u},{"../dispatcher/AppDispatcher":68,events:94,underscore:399}],78:[function(t,e,n){function i(t){u={mapType:t.mapType||u.mapType,selectType:t.selectType||u.selectType,title:t.title||u.title,sidebar:t.sidebar||u.sidebar}}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/MapConstants"),u={mapType:"global",title:"Title",selectType:"country",sidebar:"hidden"},c=o.extend({},a.prototype,{getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.events.changeMapType:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/MapConstants":64,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],79:[function(t,e,n){function i(t){u=o.extend(u,t)}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/GameConstants"),u={money:3e5,notificationsCount:0,date:0},c=o.extend({},a.prototype,{getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.MENU_CHANGE:i(t.data);break;case s.UPDATE_GAME_TIME:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/GameConstants":63,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],80:[function(t,e,n){function i(t){v=t}function r(t){v=t.concat(v)}function a(t){y=t}function o(){y=v.filter(function(t){return"critical"===t})}function s(t){_=t}function u(t){var e=l(t.id);-1!=e&&v[e].read!=t.marker&&(v[e].read=t.marker,o())}function c(t){var e=l(t.id);-1!=e&&(v.splice(e,1),o())}function l(t){for(var e in v)if(v[e].key==t)return e;return-1}function h(t){x=t}var p=t("../dispatcher/AppDispatcher"),d=t("events").EventEmitter,f=t("underscore"),m=t("../constants/SidebarConstants"),g=t("../actions/ApiActions"),v=[],y=[],_=!1,x="all",b=30,E=f.extend({},d.prototype,{getCountNotifications:function(){return v.length},getKey:function(){return x},filter:function(t){var e=0,n=[];for(var i in v)if("all"==t||v[i].source==t){if(e>b)break;n.push(v[i]),e++}return n},getNotifications:function(){return this.filter(x)},getCritical:function(){return y},getVisibleCritical:function(){return _},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});g.loadNotifications(),p.register(function(t){var e=t.action;switch(e){case m.NOTIFICATIONS_CHANGE:i(t.data);break;case m.NOTIFICATIONS_FILTER:h(t.key);break;case m.NOTIFICATIONS_UPDATE:i(t.data);break;case m.NOTIFICATIONS_ADD:r(t.data);break;case m.CRITICAL_NOTIFICATIONS_ADD:a(t.data);break;case m.CRITICAL_CHANGE_VISIBLE:s(t.data);break;case m.NOTIFICATIONS_MARK:u(t.data);break;case m.NOTIFICATIONS_REMOVE:c(t.data);break;default:return!0}return E.emitChange(),!0}),e.exports=E},{"../actions/ApiActions":2,"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],81:[function(t,e,n){function i(t){h.plants=t}function r(t){h=c.extend(h,t)}function a(t){if(0==h.plants.length)return p;if(h.plants[l]&&h.plants[l].id==t)return h.plants[l];for(var e in h.plants)if(h.plants[e].id==t)return l=e,h.plants[e];return p}var o=t("../dispatcher/AppDispatcher"),s=t("events").EventEmitter,u=t("../constants/WindowConstants"),c=t("underscore"),l=0,h={plants:[],activePlant:"",activeTab:"general"},p={id:"",name:"",salary:"",cost:"",renew:"",monthProduced:"",rent:"",costPerUnit:"",prod:"",personal:"",logistic:"",workerHired:"",productionHistory:[{month:0,quantity:0}],marginHistory:[{month:0,margin:0}],firstHired:"",tmp:"",favorableLevel:"",target:"",dayProduction:"",penalty:"",cleanProd:"",stock:"",warehouse:"",broken:"",isRent:"",workers:[]},d=c.extend({},s.prototype,{getStates:function(){return a(h.activePlant)},getPlants:function(){return h.plants},getStateTab:function(){return{tab:h.activeTab}},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});o.register(function(t){var e=t.action;switch(e){case u.OPERATIONS_UPDATE:i(t.data);break;case u.OPERATIONS_CHANGE:r(t.data);break;default:return!0}return d.emitChange(),!0}),e.exports=d},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],82:[function(t,e,n){function i(t){u={type:t.type||u.type,menu:t.menu||u.menu}}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/PanelConstants"),u={type:"games",menu:"hidden"},c=o.extend({},a.prototype,{getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.PANEL_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),
!0}),e.exports=c},{"../constants/PanelConstants":65,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],83:[function(t,e,n){function i(t){u=t}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/SidebarConstants"),u={name:"Vacarisses",coordinates:[1.927488,41.598116],info:{id:1,image:"resources/images/bigplant.png",cost:19e5,rent:66500,productionCapacity:621,logistic:40,staff:110,owner:!1,favorableLevel:90,defective:1}},c=o.extend({},a.prototype,{getPlantInfo:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.PLANT_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],84:[function(t,e,n){function i(t){u=s.extend(u,t)}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("../constants/WindowConstants"),s=t("underscore"),u={generatedContracts:[],acceptedContracts:[],distributors:[],channels:[],saleforces:{},price:0,maxPrice:0,freeForce:0,tmp:{},activeTab:"general"},c=s.extend({},a.prototype,{getTab:function(){return{tab:u.activeTab,channels:u.channels}},getGeneral:function(){return{channels:u.channels,saleforces:u.saleforces,price:u.price,maxPrice:u.maxPrice,freeForce:u.freeForce,tmp:u.tmp}},getDirect:function(){return{generatedContracts:u.generatedContracts,acceptedContracts:u.acceptedContracts}},getDistributors:function(){return{distributors:u.distributors}},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case o.SALES_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],85:[function(t,e,n){function i(t){c=s.extend(c,t)}function r(t){"supplier"===_sidebarInfo.type&&(c=s.extend(c,t))}var a=t("../dispatcher/AppDispatcher"),o=t("events").EventEmitter,s=t("underscore"),u=t("../constants/SidebarConstants"),c={title:"Title",visible:"hidden",type:null,help:"global"},l=s.extend({},o.prototype,{getStates:function(){return c},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});a.register(function(t){var e=t.action;switch(e){case u.SIDEBAR_CHANGE:i(t.data);break;case u.SUPPLIER_CLOSE:r(t.data);break;default:return!0}return l.emitChange(),!0}),e.exports=l},{"../constants/SidebarConstants":66,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],86:[function(t,e,n){function i(t){s=o.extend(s,t)}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s={message:"",visible:"hidden",action:"CLOSE"},u=o.extend({},a.prototype,{getStates:function(){return s},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case"snackbarChange":i(t.data);break;default:return!0}return u.emitChange(),!0}),e.exports=u},{"../dispatcher/AppDispatcher":68,events:94,underscore:399}],87:[function(t,e,n){function i(t){f.suppliers=t}function r(t){m=t}function a(t){f=p.extend(f,t)}function o(t,e){if(0==f.suppliers.length)return m?m:(setTimeout(h.close,0),g);if(f.suppliers[d]&&f.suppliers[d].id==t)return f.suppliers[d];for(var n in f.suppliers)if(f.suppliers[n].id==t)return d=n,f.suppliers[n];return e?e:void setTimeout(h.close,0)}var s=t("../dispatcher/AppDispatcher"),u=t("events").EventEmitter,c=t("../constants/WindowConstants"),l=t("../constants/SidebarConstants"),h=t("../actions/WindowActions"),p=t("underscore"),d=0,f={suppliers:[],activeSupplier:""},m={},g={id:"",name:"",cost:"",3:!1,6:!1,12:!1,24:!0,costPerUnit:"",volume:"",payment:"",additional:"",rel:"",willSign:!1,dayLeft:"",graph:[],close:!0},v=p.extend({},u.prototype,{getSupplier:function(){return o(f.activeSupplier)},getSupplierInfo:function(){return m?o(m.id,m):g},getSuppliers:function(){return f.suppliers},isActive:function(){var t=!1;for(var e in f.suppliers)if(f.suppliers[e].id==f.activeSupplier)var t=!0;return t},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});s.register(function(t){var e=t.action;switch(e){case c.SUPPLIERS_CHANGE:a(t.data);break;case c.SUPPLIERS_UPDATE:i(t.data);break;case l.SUPPLIER_CHANGE:r(t.data);break;default:return!0}return v.emitChange(),!0}),e.exports=v},{"../actions/WindowActions":19,"../constants/SidebarConstants":66,"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],88:[function(t,e,n){function i(t){u=o.extend(u,t)}var r=t("../dispatcher/AppDispatcher"),a=t("events").EventEmitter,o=t("underscore"),s=t("../constants/WindowConstants"),u={title:"Title",visible:"hidden",type:null},c=o.extend({},a.prototype,{getStates:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(t){this.on("change",t)},removeChangeListener:function(t){this.removeListener("change",t)}});r.register(function(t){var e=t.action;switch(e){case s.WINDOW_CHANGE:i(t.data);break;default:return!0}return c.emitChange(),!0}),e.exports=c},{"../constants/WindowConstants":67,"../dispatcher/AppDispatcher":68,events:94,underscore:399}],89:[function(t,e,n){var i=t("superagent"),r=t("./LocalStorage"),a=(t("../dispatcher/AppDispatcher"),t("../actions/SnackbarActions")),o=t("../actions/AppActions"),s=t("../settings.js"),u=s.hostAPI,c=r.get(s.headerToken)||"",l=r.get("idRound")||"",h={GET:function(t,e){var n=this;i.get(u+t).set(s.headerToken,c).set("x-round",l).end(function(t,i){n.checkResponse(t,i,e)})},POST:function(t,e,n){var r=this;i.post(u+t).send(e).set(s.headerToken,c).set("x-round",l).end(function(t,e){r.checkResponse(t,e,n)})},LOC:function(t,e){i.get(t).end(e)},checkResponse:function(t,e,n){var i;if(!e)return o.showError404("Could not connect to server",!0);try{i=JSON.parse(e.text),e.data=i}catch(r){console.log("W 0001"),e.data={}}return 401==e.status?(c&&this.removeToken(),o.show("auth")):"object"==typeof i&&null!=i&&i.err?a.show(i.err):void(n&&n(e))},isToken:function(){return c=r.get(s.headerToken),!!c},setToken:function(t){c=t,r.set(s.headerToken,t)},removeToken:function(){c="",r.remove(s.headerToken)},isRound:function(){return l=r.get("idRound"),!!l},setRound:function(t){l=t,r.set("idRound",t)},removeRound:function(){l="",r.remove("idRound")},setRegister:function(){r.set("register",!0)},removeRegister:function(){r.remove("register")},isRegister:function(){var t=r.get("register");return!!t}};e.exports=h},{"../actions/AppActions":3,"../actions/SnackbarActions":15,"../dispatcher/AppDispatcher":68,"../settings.js":69,"./LocalStorage":91,superagent:395}],90:[function(t,e,n){var i=t("../actions/SnackbarActions");e.exports=function(t,e,n){var r=n||"Boss",a="";e>180&&(a+="Thanks God, "+r+". I was truly worried that you had left me to repay all those loans."),180>=e&&e>90&&(a+="Ahh, good to see you, "+r+". It\u2019s been a while."),90>=e&&e>7&&(a+="Welcome back, "+r+". I\u2019ve been keeping an eye on things\u2026 uhm\u2026or at least I tried."),7>=e&&(a+=r+", it is impressive how well you keep control of your affairs."),0==t&&(a+="There was not much going on. Weird. Do we even produce anything?"),t>0&&5>=t&&(a+="There are some matters that require your attention."),t>5&&10>=t&&(a+="There is a lot going on. Should we consider getting me an assistant?"),t>10&&(a+="We have so much to do. You might consider rolling up your sleeves."),i.show(a)}},{"../actions/SnackbarActions":15}],91:[function(t,e,n){var i={get:function(t){return"localStorage"in window&&t&&localStorage.getItem(t)},set:function(t,e){"localStorage"in window&&t&&localStorage.setItem(t,e)},remove:function(t){"localStorage"in window&&localStorage.removeItem(t)}};e.exports=i},{}],92:[function(t,e,n){var i=t("../dispatcher/AppDispatcher"),r=t("socket.io-client"),a=t("./LocalStorage"),o=t("./Api"),s=t("./Helper"),u=t("../settings.js"),c=t("../actions/AppActions"),l=t("../actions/SnackbarActions"),h=t("../actions/PanelActions"),p=t("../actions/PlantActions"),d=t("../actions/SupplierActions"),f=t("../actions/SupplierWinActions"),m=t("../actions/WindowActions"),g=(t("../actions/AuthActions"),t("../actions/SidebarActions")),v=t("../actions/MenuActions"),y=t("../actions/OperationsActions"),_=t("../actions/NotificationsActions"),x=t("../actions/FinanceActions"),b=t("../actions/SalesActions"),E=t("../actions/InfoActions");e.exports={connect:function(t){var e=t||null,n=u.socketAPI,i=a.get(u.headerToken)||"",o={reconnection:!0,query:"x-access-token="+i,reconnectionDelay:u.reconnectionDelay||5e3,reconnectionAttempts:u.reconnectionAttempts||12,forceNew:!0};return e?!e.connected&&e.connect(n,o):(e=r.connect(n,o),this.bindEvents(e)),e},bindEvents:function(t){t.on("connect",this.onConnected),t.on("leaveGame",this.onLeaveGame),t.on("joinedGame",this.onJoinedGame),t.on("joinedLobby",this.onJoinedLobby),t.on("beginJoinGame",this.onBeginJoinGame),t.on("failedJoinGame",this.onFailedJoinGame),t.on("updateListGame",this.onUpdateListGame),t.on("updateGameTime",this.onUpdateGameTime),t.on("updateDataPlayer",this.onUpdateDataPlayer.bind(this)),t.on("loadNotifications",this.onLoadNotifications),t.on("markedNotification",this.onMarkedNotification),t.on("deletedNotification",this.onDeletedNotification),t.on("updateListActiveRounds",this.onUpdateListActiveRounds),t.on("enterGame",this.onEnterGame),t.on("openOperations",this.onOpenOperations),t.on("openSupplier",this.onOpenSupplier),t.on("openSidebar",this.onOpenSidebar),t.on("updatePlant",this.onUpdatePlant),t.on("updateSupplier",this.onUpdateSupplier),t.on("updateHelp",this.onUpdateHelp),t.on("endGame",this.onEndGame),t.on("error",this.error),t.on("err",this.error),t.on("msg",this.msg),t.on("reconnecting",this.onReconnecting),t.on("reconnect",this.onReconnect),t.on("reconnect_failed",this.onReconnectFailed),t.on("gameCreated",this.onCreatedGame),u.debug&&(window.socketIO=t,t.on("connect",function(){console.log("connect")}),t.on("disconnect",function(){console.log("disconnect")}),t.on("connecting",function(t){console.log("connecting",t)}),t.on("connect_failed",function(){console.log("connect_failed")}),t.on("close",function(){console.log("close")}),t.on("reconnect",function(t,e){console.log("reconnect",t,e)}),t.on("reconnecting",function(t,e){console.log("reconnecting",t,e)}),t.on("reconnect_failed",function(){console.log("reconnect_failed")}))},onConnected:function(){o.isRound()?this.emit("joinGame",a.get("idRound")):o.isRegister()?this.emit("startGame"):this.emit("joinLobby")},onCreatedGame:function(t){this.emit("joinGame",t)},onUpdateDataPlayer:function(t){console.log(t),t&&0!==Object.keys(t).length&&("money"in t&&v.setMoney(t.money),"notificationsCount"in t&&v.setNotificationsCount(t.notificationsCount),t.lastNotifications&&this.processNotifications(t.lastNotifications),t.plants&&y.update(t.plants),t.suppliers&&f.update(t.suppliers),t.finance&&x.updateInfo(t.finance),t.loans&&x.updateLoans(t.loans),t.sales&&b.update(t.sales),"date"in t&&v.updateGameTime(t.date))},processNotifications:function(t){var e=this,n=t.filter(e.sortNotifications("info")),i=t.filter(e.sortNotifications("passive")),r=t.filter(e.sortNotifications("critical"));n.length&&_.add(n),i.length&&i.map(function(t){l.show(t.text)}),r.length&&_.addCritical(r)},sortNotifications:function(t){return function(e){return e.type===t}},onJoinedLobby:function(){c.show("panel")},onJoinedGame:function(t){o.setRound(t),o.removeRegister(),c.show("game")},onLeaveGame:function(){o.removeRound()},onFailedJoinGame:function(){o.removeRound(),this.emit("joinLobby")},onUpdateListActiveRounds:function(t){h.updateListActiveGames(t)},onUpdateHelp:function(t){E.updateData(t)},onBeginJoinGame:function(t){i.dispatch({action:"changeStep",data:"congratulations"}),i.dispatch({action:"changeGender",data:t}),c.show("auth")},onUpdateListGame:function(t){h.updateListGame(t)},onUpdateGameTime:function(t){v.updateGameTime(t)},onLoadNotifications:function(t){_.update(t)},onMarkedNotification:function(t){_.mark(t.id,t.read)},onDeletedNotification:function(t){_.remove(t.id)},onEnterGame:function(t){s(t.notifications,t.time,t.title)},onOpenOperations:function(t){m.openOperations(t)},onOpenSupplier:function(t){m.openSupplier(t)},onUpdatePlant:function(t){p.update(t),g.changeHelp("plant")},onUpdateSupplier:function(t){d.update(t),g.changeHelp("supplier")},onOpenSidebar:function(t){g.change(t)},onEndGame:function(t){c.finishRound(t)},msg:function(t){l.show(t)},onReconnecting:function(t){var e=(u.reconnectionAttempts-t)*u.reconnectionDelay/1e3;l.hide(),c.showError404("Could not connect to server. The game will be shut down after "+e+" seconds")},onReconnect:function(){c.hideError404(),l.show("The connection is restored")},onReconnectFailed:function(){i.dispatch({action:"changeStep",data:"login"}),g.hide(),o.removeToken(),c.show("auth"),this.disconnect(),c.hideError404(),l.show("Failed to restore the connection to the server")},error:function(t){l.show(t)}}},{"../actions/AppActions":3,"../actions/AuthActions":5,"../actions/FinanceActions":6,"../actions/InfoActions":7,"../actions/MenuActions":8,"../actions/NotificationsActions":9,"../actions/OperationsActions":10,"../actions/PanelActions":11,"../actions/PlantActions":12,"../actions/SalesActions":13,"../actions/SidebarActions":14,"../actions/SnackbarActions":15,"../actions/SupplierActions":17,"../actions/SupplierWinActions":18,"../actions/WindowActions":19,"../dispatcher/AppDispatcher":68,"../settings.js":69,"./Api":89,"./Helper":90,"./LocalStorage":91,"socket.io-client":347}],93:[function(t,e,n){e.exports={once:function(t,e,n){for(var i=e.split(" "),r=function(t){return t.target.removeEventListener(t.type,r),n(t)},a=i.length-1;a>=0;a--)this.on(t,i[a],r)},on:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,function(){n.call(t)})},off:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}}},{}],94:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!a(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(o(n)){for(i=arguments.length,a=new Array(i-1),u=1;i>u;u++)a[u-1]=arguments[u];for(c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,a)}return!0},i.prototype.addListener=function(t,e){var n;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var n;n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-->0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},{}],95:[function(t,e,n){function i(){if(!s){s=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}s=!1}}function r(){}var a=e.exports={},o=[],s=!1;a.nextTick=function(t){o.push(t),s||setTimeout(i,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],96:[function(t,e,n){!function(i){"use strict";function r(t){this.owner=t}function a(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function o(t){var e=this.internal=new s(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function n(t,e,i){Object.keys(t).forEach(function(r){e[r]=t[r].bind(i),Object.keys(t[r]).length>0&&n(t[r],e[r],i)})}(l,this,this)}function s(e){var n=this;n.d3=i.d3?i.d3:"undefined"!=typeof t?t("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function u(t){r.call(this,t)}function c(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+x)+", 0)"})}function i(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function a(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,d);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i}function o(){var t,n=m.copy();return e.isCategory&&(t=m.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=p?p(t):t;return"undefined"!=typeof e?e:""}function u(t){if(A)return A;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),i=s(t),r=n.height,a=i?n.width/i.length:void 0;r&&a&&(e.h=r,e.w=a)}).text(""),A=e,e}function c(n){return e.withoutTransition?n:t.transition(n)}function l(p){p.each(function(){function p(t,n){function i(t,e){a=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(a=s),r=e.substr(0,s+1),o=q.w*r.length,o>n)return i(t.concat(e.substr(0,a?a:s)),e.slice(a?a+1:s));return t.concat(e)}var r,a,o,u=s(t),c=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!n||0>=n)&&(n=Z?95:e.isCategory?Math.ceil(P(N[1])-P(N[0]))-12:110),i(c,u+""))}function d(t,e){var n=q.h;return 0===e&&(n="left"===g||"right"===g?-((X[t.index]-1)*(q.h/2)-3):".71em"),n}function b(t){var e=m(t)+(f?0:x);return B[0]<e&&e<B[1]?v:0}function E(t){return t?t>0?"start":"end":"middle"}function w(t){return t?"rotate("+t+")":""}function C(t){return t?8*Math.sin(Math.PI*(t/180)):0}function T(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):Y}var M,S,A,k=l.g=t.select(this),L=this.__chart__||m,P=this.__chart__=o(),N=_?_:a(P),D=k.selectAll(".tick").data(N,P),R=D.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),I=D.exit().remove(),O=c(D).style("opacity",1),B=m.rangeExtent?m.rangeExtent():r(m.range()),F=k.selectAll(".domain").data([0]),U=(F.enter().append("path").attr("class","domain"),c(F));R.append("line"),R.append("text");var z=R.select("line"),j=O.select("line"),H=R.select("text"),W=O.select("text");e.isCategory?(x=Math.ceil((P(1)-P(0))/2),S=f?0:x,A=f?x:0):x=S=0;var V,G,q=u(k.select(".tick")),X=[],Y=Math.max(v,0)+y,Z="left"===g||"right"===g;V=D.select("text"),G=V.selectAll("tspan").data(function(t,n){var i=e.tickMultiline?p(t,e.tickWidth):[].concat(s(t));return X[n]=i.length,i.map(function(t){return{index:n,splitted:t}})}),G.enter().append("tspan"),G.exit().remove(),G.text(function(t){return t.splitted});var K=e.tickTextRotate;switch(g){case"bottom":M=n,z.attr("y2",v),H.attr("y",Y),j.attr("x1",S).attr("x2",S).attr("y2",b),W.attr("x",0).attr("y",T(K)).style("text-anchor",E(K)).attr("transform",w(K)),G.attr("x",0).attr("dy",d).attr("dx",C(K)),U.attr("d","M"+B[0]+","+h+"V0H"+B[1]+"V"+h);break;case"top":M=n,z.attr("y2",-v),H.attr("y",-Y),j.attr("x2",0).attr("y2",-v),W.attr("x",0).attr("y",-Y),V.style("text-anchor","middle"),G.attr("x",0).attr("dy","0em"),U.attr("d","M"+B[0]+","+-h+"V0H"+B[1]+"V"+-h);break;case"left":M=i,z.attr("x2",-v),H.attr("x",-Y),j.attr("x2",-v).attr("y1",A).attr("y2",A),W.attr("x",-Y).attr("y",x),V.style("text-anchor","end"),G.attr("x",-Y).attr("dy",d),U.attr("d","M"+-h+","+B[0]+"H0V"+B[1]+"H"+-h);break;case"right":M=i,z.attr("x2",v),H.attr("x",Y),j.attr("x2",v).attr("y2",0),W.attr("x",Y).attr("y",0),V.style("text-anchor","start"),G.attr("x",Y).attr("dy",d),U.attr("d","M"+h+","+B[0]+"H0V"+B[1]+"H"+h)}if(P.rangeBand){var J=P,Q=J.rangeBand()/2;L=P=function(t){return J(t)+Q}}else L.rangeBand?L=P:I.call(M,P);R.call(M,L),O.call(M,P)})}var h,p,d,f,m=t.scale.linear(),g="bottom",v=6,y=3,_=null,x=0,b=!0;return e=e||{},h=e.withOuterTick?6:0,l.scale=function(t){return arguments.length?(m=t,l):m},l.orient=function(t){return arguments.length?(g=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",l):g},l.tickFormat=function(t){return arguments.length?(p=t,l):p},l.tickCentered=function(t){return arguments.length?(f=t,l):f},l.tickOffset=function(){return x},l.tickInterval=function(){var t,n;return e.isCategory?t=2*x:(n=l.g.select("path.domain").node().getTotalLength()-2*h,t=n/l.g.selectAll("line").size()),t===1/0?0:t},l.ticks=function(){return arguments.length?(d=arguments,l):d},l.tickCulling=function(t){return arguments.length?(b=t,l):b},l.tickValues=function(t){if("function"==typeof t)_=function(){return t(m.domain())};else{if(!arguments.length)return _;_=t}return l},l}var l,h,p,d={version:"0.4.11-rc4"};d.generate=function(t){return new o(t)},d.chart={fn:o.prototype,internal:{fn:s.prototype,axis:{fn:u.prototype}}},l=d.chart.fn,h=d.chart.internal.fn,p=d.chart.internal.axis.fn,h.beforeInit=function(){},h.afterInit=function(){},h.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},h.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},h.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},h.initWithData=function(t){var e,n,i=this,r=i.d3,a=i.config,o=!0;i.axis=new u(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),a.bindto?"function"==typeof a.bindto.node?i.selectChart=a.bindto:i.selectChart=r.select(a.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),o=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),a.data_filter&&(i.data.targets=i.data.targets.filter(a.data_filter)),a.data_hide&&i.addHiddenTargetIds(a.data_hide===!0?i.mapToIds(i.data.targets):a.data_hide),a.legend_hide&&i.addHiddenLegendIds(a.legend_hide===!0?i.mapToIds(i.data.targets):a.legend_hide),i.hasType("gauge")&&(a.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),a.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(i)}).on("mouseleave",function(){return a.onmouseout.call(i)}),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",f.text+" "+f.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",f.chart),a.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+f.regions).attr("class",f.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),o&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},h.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(a)})})},h.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:o+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},h.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},h.showTargets=function(){var t=this;t.svg.selectAll("."+f.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},h.redraw=function(t,e){var n,i,r,a,o,s,u,c,l,h,p,d,m,g,v,y,_,x,b,E,w,C,M,S,A,k,L,P,N,D=this,R=D.main,I=D.d3,O=D.config,B=D.getShapeIndices(D.isAreaType),F=D.getShapeIndices(D.isBarType),U=D.getShapeIndices(D.isLineType),z=D.hasArcType(),j=D.filterTargetsToShow(D.data.targets),H=D.xv.bind(D);if(t=t||{},n=T(t,"withY",!0),i=T(t,"withSubchart",!0),r=T(t,"withTransition",!0),s=T(t,"withTransform",!1),u=T(t,"withUpdateXDomain",!1),c=T(t,"withUpdateOrgXDomain",!1),l=T(t,"withTrimXDomain",!0),m=T(t,"withUpdateXAxis",u),h=T(t,"withLegend",!1),p=T(t,"withEventRect",!0),
d=T(t,"withDimension",!0),a=T(t,"withTransitionForExit",r),o=T(t,"withTransitionForAxis",r),b=r?O.transition_duration:0,E=a?b:0,w=o?b:0,e=e||D.axis.generateTransitions(w),h&&O.legend_show?D.updateLegend(D.mapToIds(D.data.targets),t,e):d&&D.updateDimension(!0),D.isCategorized()&&0===j.length&&D.x.domain([0,D.axes.x.selectAll(".tick").size()]),j.length?(D.updateXDomain(j,u,c,l),O.axis_x_tick_values||(S=D.axis.updateXAxisTickValues(j))):(D.xAxis.tickValues([]),D.subXAxis.tickValues([])),O.zoom_rescale&&!t.flow&&(L=D.x.orgDomain()),D.y.domain(D.getYDomain(j,"y",L)),D.y2.domain(D.getYDomain(j,"y2",L)),!O.axis_y_tick_values&&O.axis_y_tick_count&&D.yAxis.tickValues(D.axis.generateTickValues(D.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&D.y2Axis.tickValues(D.axis.generateTickValues(D.y2.domain(),O.axis_y2_tick_count)),D.axis.redraw(e,z),D.axis.updateLabels(r),(u||m)&&j.length)if(O.axis_x_tick_culling&&S){for(A=1;A<S.length;A++)if(S.length/A<O.axis_x_tick_culling_max){k=A;break}D.svg.selectAll("."+f.axisX+" .tick text").each(function(t){var e=S.indexOf(t);e>=0&&I.select(this).style("display",e%k?"none":"block")})}else D.svg.selectAll("."+f.axisX+" .tick text").style("display","block");g=D.generateDrawArea?D.generateDrawArea(B,!1):void 0,v=D.generateDrawBar?D.generateDrawBar(F):void 0,y=D.generateDrawLine?D.generateDrawLine(U,!1):void 0,_=D.generateXYForText(B,F,U,!0),x=D.generateXYForText(B,F,U,!1),n&&(D.subY.domain(D.getYDomain(j,"y")),D.subY2.domain(D.getYDomain(j,"y2"))),D.updateXgridFocus(),R.select("text."+f.text+"."+f.empty).attr("x",D.width/2).attr("y",D.height/2).text(O.data_empty_label_text).transition().style("opacity",j.length?0:1),D.updateGrid(b),D.updateRegion(b),D.updateBar(E),D.updateLine(E),D.updateArea(E),D.updateCircle(),D.hasDataLabel()&&D.updateText(E),D.redrawTitle&&D.redrawTitle(),D.redrawArc&&D.redrawArc(b,E,s),D.redrawSubchart&&D.redrawSubchart(i,e,b,E,B,F,U),R.selectAll("."+f.selectedCircles).filter(D.isBarType.bind(D)).selectAll("circle").remove(),O.interaction_enabled&&!t.flow&&p&&(D.redrawEventRect(),D.updateZoom&&D.updateZoom()),D.updateCircleY(),P=(D.config.axis_rotated?D.circleY:D.circleX).bind(D),N=(D.config.axis_rotated?D.circleX:D.circleY).bind(D),t.flow&&(M=D.generateFlow({targets:j,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:g,cx:P,cy:N,xv:H,xForText:_,yForText:x})),(b||M)&&D.isTabVisible()?I.transition().duration(b).each(function(){var e=[];[D.redrawBar(v,!0),D.redrawLine(y,!0),D.redrawArea(g,!0),D.redrawCircle(P,N,!0),D.redrawText(_,x,t.flow,!0),D.redrawRegion(!0),D.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),C=D.generateWait(),e.forEach(function(t){C.add(t)})}).call(C,function(){M&&M(),O.onrendered&&O.onrendered.call(D)}):(D.redrawBar(v),D.redrawLine(y),D.redrawArea(g),D.redrawCircle(P,N),D.redrawText(_,x,t.flow),D.redrawRegion(),D.redrawGrid(),O.onrendered&&O.onrendered.call(D)),D.mapToIds(D.data.targets).forEach(function(t){D.withoutFadeIn[t]=!0})},h.updateAndRedraw=function(t){var e,n=this,i=n.config;t=t||{},t.withTransition=T(t,"withTransition",!0),t.withTransform=T(t,"withTransform",!1),t.withLegend=T(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=T(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},h.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},h.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},h.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},h.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||C(e.data_xs))},h.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},h.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=b(i.margin.left),n=b(i.margin.top)):"context"===t?(e=b(i.margin2.left),n=b(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},h.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},h.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},h.opacityForCircle=function(t){var e=this.config.point_show?1:0;return m(t.value)?this.isScatterType(t)?.5:e:0},h.opacityForText=function(){return this.hasDataLabel()?1:0},h.xx=function(t){return t?this.x(t.x):null},h.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},h.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},h.subxx=function(t){return t?this.subX(t.x):null},h.transformMain=function(t,e){var n,i,r,a=this;e&&e.axisX?n=e.axisX:(n=a.main.select("."+f.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=a.main.select("."+f.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=a.main.select("."+f.axisY2),t&&(r=r.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),i.attr("transform",a.getTranslate("y")),r.attr("transform",a.getTranslate("y2")),a.main.select("."+f.chartArcs).attr("transform",a.getTranslate("arc"))},h.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},h.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+f.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},h.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},h.observeInserted=function(t){var e,n=this;return"undefined"==typeof MutationObserver?void i.console.error("MutationObserver not defined."):(e=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=i.setInterval(function(){t.node().parentNode&&(i.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})}),void e.observe(t.node(),{attributes:!0,childList:!0,characterData:!0}))},h.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&i.clearTimeout(t.resizeTimeout),t.resizeTimeout=i.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),i.attachEvent)i.attachEvent("onresize",t.resizeFunction);else if(i.addEventListener)i.addEventListener("resize",t.resizeFunction,!1);else{var n=i.onresize;n?n.add&&n.remove||(n=t.generateResize(),n.add(i.onresize)):n=t.generateResize(),n.add(t.resizeFunction),i.onresize=n}},h.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},h.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},h.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},h.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"==typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),(!e||isNaN(+e))&&i.console.error("Failed to parse x '"+t+"' to Date object"),e},h.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},h.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},h.additionalConfig={},h.loadConfig=function(t){function e(){var t=i.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,i,r,a=this.config;Object.keys(a).forEach(function(o){n=t,i=o.split("_"),r=e(),_(r)&&(a[o]=r)})},h.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},h.getX=function(t,e,n,i){var r,a=this,o=a.getScale(t,e,a.isTimeSeries()),s=n?o.domain(n):o;a.isCategorized()?(i=i||function(){return 0},o=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(r in s)o[r]=s[r];return o.orgDomain=function(){return s.domain()},a.isCategorized()&&(o.domain=function(t){return arguments.length?(s.domain(t),o):(t=this.orgDomain(),[t[0],t[1]+1])}),o},h.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},h.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},h.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},h.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},h.getYDomainMin=function(t){var e,n,i,r,a,o,s=this,u=s.config,c=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(o=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return c.indexOf(t)>=0}),0!==r.length)for(i=r[0],o&&l[i]&&l[i].forEach(function(t,e){l[i][e]=0>t?t:0}),n=1;n<r.length;n++)a=r[n],l[a]&&l[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!l[i]||o&&+t>0||(l[i][e]+=+t)});return s.d3.min(Object.keys(l).map(function(t){return s.d3.min(l[t])}))},h.getYDomainMax=function(t){var e,n,i,r,a,o,s=this,u=s.config,c=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(u.data_groups.length>0)for(o=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(r=u.data_groups[e].filter(function(t){return c.indexOf(t)>=0}),0!==r.length)for(i=r[0],o&&l[i]&&l[i].forEach(function(t,e){l[i][e]=t>0?t:0}),n=1;n<r.length;n++)a=r[n],l[a]&&l[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(i)||!l[i]||o&&0>+t||(l[i][e]+=+t)});return s.d3.max(Object.keys(l).map(function(t){return s.d3.max(l[t])}))},h.getYDomain=function(t,e,n){var i,r,a,o,s,u,c,l,h,p,d,f=this,g=f.config,v=t.filter(function(t){return f.axis.getId(t.id)===e}),y=n?f.filterByXDomain(v,n):v,_="y2"===e?g.axis_y2_min:g.axis_y_min,x="y2"===e?g.axis_y2_max:g.axis_y_max,b=f.getYDomainMin(y),w=f.getYDomainMax(y),T="y2"===e?g.axis_y2_center:g.axis_y_center,M=f.hasType("bar",y)&&g.bar_zerobased||f.hasType("area",y)&&g.area_zerobased,S="y2"===e?g.axis_y2_inverted:g.axis_y_inverted,A=f.hasDataLabel()&&g.axis_rotated,k=f.hasDataLabel()&&!g.axis_rotated;return b=m(_)?_:m(x)?x>b?b:x-10:b,w=m(x)?x:m(_)?w>_?w:_+10:w,0===y.length?"y2"===e?f.y2.domain():f.y.domain():(isNaN(b)&&(b=0),isNaN(w)&&(w=b),b===w&&(0>b?w=0:b=0),p=b>=0&&w>=0,d=0>=b&&0>=w,(m(_)&&p||m(x)&&d)&&(M=!1),M&&(p&&(b=0),d&&(w=0)),r=Math.abs(w-b),a=o=s=.1*r,"undefined"!=typeof T&&(u=Math.max(Math.abs(b),Math.abs(w)),w=T+u,b=T-u),A?(c=f.getDataLabelLength(b,w,"width"),l=E(f.y.range()),h=[c[0]/l,c[1]/l],o+=r*(h[1]/(1-h[0]-h[1])),s+=r*(h[0]/(1-h[0]-h[1]))):k&&(c=f.getDataLabelLength(b,w,"height"),o+=f.axis.convertPixelsToAxisPadding(c[1],r),s+=f.axis.convertPixelsToAxisPadding(c[0],r)),"y"===e&&C(g.axis_y_padding)&&(o=f.axis.getPadding(g.axis_y_padding,"top",o,r),s=f.axis.getPadding(g.axis_y_padding,"bottom",s,r)),"y2"===e&&C(g.axis_y2_padding)&&(o=f.axis.getPadding(g.axis_y2_padding,"top",o,r),s=f.axis.getPadding(g.axis_y2_padding,"bottom",s,r)),M&&(p&&(s=b),d&&(o=-w)),i=[b-s,w+o],S?i.reverse():i)},h.getXDomainMin=function(t){var e=this,n=e.config;return _(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},h.getXDomainMax=function(t){var e=this,n=e.config;return _(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},h.getXDomainPadding=function(t){var e,n,i,r,a=this,o=a.config,s=t[1]-t[0];return a.isCategorized()?n=0:a.hasType("bar")?(e=a.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof o.axis_x_padding&&C(o.axis_x_padding)?(i=m(o.axis_x_padding.left)?o.axis_x_padding.left:n,r=m(o.axis_x_padding.right)?o.axis_x_padding.right:n):i=r="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:i,right:r}},h.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],a=e.getXDomainPadding(n),o=0,s=0;return i-r!==0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(o=e.isTimeSeries()?new Date(i.getTime()-a.left):i-a.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},h.updateXDomain=function(t,e,n,i,r){var a=this,o=a.config;return n&&(a.x.domain(r?r:a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),e&&(a.x.domain(r?r:!a.brush||a.brush.empty()?a.orgXDomain:a.brush.extent()),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent()),i&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},h.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},h.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||C(n.data_xs)&&M(n.data_xs,t)},h.isNotX=function(t){return!this.isX(t)},h.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:C(n.data_xs)?n.data_xs[t]:null},h.getXValuesOfXKey=function(t,e){var n,i=this,r=e&&C(e)?i.mapToIds(e):[];return r.forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},h.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},h.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&m(n.data.xs[t][e])?n.data.xs[t][e]:e},h.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},h.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},h.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},h.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},h.isMultipleX=function(){return C(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},h.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},h.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},h.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},h.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},h.generateTargetX=function(t,e,n){var i,r=this;return i=r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?m(t)?+t:r.getXValue(e,n):n},h.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},h.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},h.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},h.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},h.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},h.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},h.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},h.mapToIds=function(t){return t.map(function(t){return t.id})},h.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},h.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},h.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},h.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},h.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},h.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n=e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t}),n.sort(function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN})},h.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},h.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},h.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},h.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},h.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},h.checkValueInTargets=function(t,e){var n,i,r,a=Object.keys(t);for(n=0;n<a.length;n++)for(r=t[a[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},h.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},h.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},h.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},h.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},h.orderTargets=function(t){var e=this,n=e.config,i=e.isOrderAsc(),r=e.isOrderDesc();return i||r?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),a=e.values.reduce(n,0);return i?a-r:r-a}):g(n.data_order)&&t.sort(n.data_order),t},h.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},h.filterRemoveNull=function(t){return t.filter(function(t){return m(t.value)})},h.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},h.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&C(t.data_labels)?!0:!1},h.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],a=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*a}).remove(),r},h.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},h.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},h.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},h.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},h.findClosest=function(t,e){var n,i=this,r=i.config.point_sensitivity;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+f.bars+i.getTargetSelectorSuffix(t.id)+" ."+f.bar+"-"+t.index).node();!n&&i.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var a=i.dist(t,e);r>a&&(r=a,n=t)}),n},h.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,a=i.axis_rotated?0:1,o=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[r],2)+Math.pow(o-e[a],2))},h.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},h.updateDataAttributes=function(t,e){var n=this,i=n.config,r=i["data_"+t];return"undefined"==typeof e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0}),r)},h.convertUrlToData=function(t,e,n,i){var r=this,a=e?e:"csv";r.d3.xhr(t,function(t,e){var o;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");o="json"===a?r.convertJsonToData(JSON.parse(e.response),n):"tsv"===a?r.convertTsvToData(e.response):r.convertCsvToData(e.response),i.call(r,o)})},h.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},h.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},h.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},h.convertJsonToData=function(t,e){var n,i,r=this,a=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,a.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=y(t[n])?null:t[n];e.push(i)}),a.push(e)}),i=r.convertRowsToData(a)):(Object.keys(t).forEach(function(e){a.push([e].concat(t[e]))}),i=r.convertColumnsToData(a)),i},h.convertRowsToData=function(t){var e,n,i=t[0],r={},a=[];for(e=1;e<t.length;e++){for(r={},n=0;n<t[e].length;n++){if(y(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[i[n]]=t[e][n]}a.push(r)}return a},h.convertColumnsToData=function(t){var e,n,i,r=[];for(e=0;e<t.length;e++)for(i=t[e][0],n=1;n<t[e].length;n++){if(y(r[n-1])&&(r[n-1]={}),y(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[n-1][i]=t[e][n]}return r},h.convertDataToTargets=function(t,e){var n,i=this,r=i.config,a=i.d3.keys(t[0]).filter(i.isNotX,i),o=i.d3.keys(t[0]).filter(i.isX,i);return a.forEach(function(n){var a=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?o.indexOf(a)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[a]}).filter(m).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():C(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(a,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),a.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=a.map(function(e,n){var a=r.data_idConverter(e);return{id:a,id_org:e,values:t.map(function(t,o){var s=i.getXKey(e),u=t[s],c=i.generateTargetX(u,e,o),l=null===t[e]||isNaN(t[e])?null:+t[e];return i.isCustomX()&&i.isCategorized()&&0===n&&u&&(0===o&&(r.axis_x_categories=[]),r.axis_x_categories.push(u)),(y(t[e])||i.data.xs[e].length<=o)&&(c=void 0),{x:c,value:l,id:a}}).filter(function(t){return _(t.x)})}}),n.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,i=e.x||0===e.x?e.x:1/0;return n-i})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},h.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},h.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},h.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+f.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},
h.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},h.initEventRect=function(){var t=this;t.main.select("."+f.chart).append("g").attr("class",f.eventRects).style("fill-opacity",0)},h.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),a=n.main.select("."+f.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(f.eventRectsMultiple,r).classed(f.eventRectsSingle,!r);a.selectAll("."+f.eventRect).remove(),n.eventRect=a.selectAll("."+f.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),a.datum(e?e.values:[]),n.eventRect=a.selectAll("."+f.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},h.updateEventRect=function(t){var e,n,i,r,a,o,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(a=s.getEventRectWidth(),o=function(t){return s.x(t.x)-a/2}):(s.updateXs(),a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=u.axis_rotated?0:o,n=u.axis_rotated?o:0,i=u.axis_rotated?s.width:a,r=u.axis_rotated?a:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},h.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,i=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(i.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+f.shape+"-"+n).each(function(t){i.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+f.shape+"-"+n).each(function(t){i.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,a=t.index,o=e.svg.select("."+f.eventRect+"-"+a);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),i.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&e.main.selectAll("."+f.shape+"-"+a).each(function(){n.select(this).classed(f.EXPANDED,!0),i.data_selection_enabled&&o.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),i.data_selection_grouped||(e.unexpandCircles(a),e.unexpandBars(a)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(t))&&o.style("cursor","pointer"),i.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),i.point_focus_expand_enabled&&e.expandCircles(a,t.id,!0),e.expandBars(a,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+f.shape+"-"+r).each(function(t){(i.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(i.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},h.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+f.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,i=n.d3,r=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",f.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,a,o,s,u=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(u)){if(t=i.mouse(this),a=n.findClosestFromTargets(u,t),!n.mouseover||a&&a.id===n.mouseover.id||(r.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!a)return void e();o=n.isScatterType(a)||!r.tooltip_grouped?[a]:n.filterByX(u,a.x),s=o.map(function(t){return n.addName(t)}),n.showTooltip(s,this),r.point_focus_expand_enabled&&n.expandCircles(a.index,a.id,!0),n.expandBars(a.index,a.id,!0),n.showXGridFocus(s),(n.isBarType(a.id)||n.dist(a,t)<r.point_sensitivity)&&(n.svg.select("."+f.eventRect).style("cursor","pointer"),n.mouseover||(r.data_onmouseover.call(n.api,a),n.mouseover=a))}}).on("click",function(){var t,e,a=n.filterTargetsToShow(n.data.targets);n.hasArcType(a)||(t=i.mouse(this),e=n.findClosestFromTargets(a,t),e&&(n.isBarType(e.id)||n.dist(e,t)<r.point_sensitivity)&&n.main.selectAll("."+f.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+f.shape+"-"+e.index).each(function(){(r.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(r.data_selection_draggable&&n.drag?i.behavior.drag().origin(Object).on("drag",function(){n.drag(i.mouse(this))}).on("dragstart",function(){n.dragstart(i.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},h.dispatchEvent=function(t,e,n){var r=this,a="."+f.eventRect+(r.isMultipleX()?"":"-"+e),o=r.main.select(a).node(),s=o.getBoundingClientRect(),u=s.left+(n?n[0]:0),c=s.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,i,0,u,c,u,c,!1,!1,!1,!1,0,null),o.dispatchEvent(l)},h.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},h.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},h.getCurrentPaddingTop=function(){var t=this,e=t.config,n=m(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},h.getCurrentPaddingBottom=function(){var t=this.config;return m(t.padding_bottom)?t.padding_bottom:0},h.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return m(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(x(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:x(e.getAxisWidthByAxisId("y",t))},h.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return m(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):x(t.getAxisWidthByAxisId("y2"))+i},h.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},h.getParentWidth=function(){return this.getParentRectValue("width")},h.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},h.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?f.axisX:f.axisY,a=e.main.select("."+r).node(),o=a&&i?a.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),c=o.right-s.left-(u?0:e.getCurrentPaddingLeft(t));return c>0?c:0},h.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},h.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},h.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},h.getShapeIndices=function(t){var e,n,i=this,r=i.config,a={},o=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in a){a[t.id]=a[r.data_groups[e][n]];break}y(a[t.id])&&(a[t.id]=o++)}),a.__max__=o-1,a},h.getShapeX=function(t,e,n,i){var r=this,a=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?a(i.x)-t*(e/2-r):0}},h.getShapeY=function(t){var e=this;return function(n){var i=t?e.getSubYScale(n.id):e.getYScale(n.id);return i(n.value)}},h.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),a=r.map(function(t){return t.id});return function(t,o){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),u=s(0),c=u;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&a.indexOf(n.id)<a.indexOf(t.id)&&(("undefined"==typeof r[o]||+r[o].x!==+t.x)&&(o=-1,r.forEach(function(e,n){e.x===t.x&&(o=n)})),o in r&&r[o].value*t.value>=0&&(c+=s(r[o].value)-u))}),c}},h.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=r.classed(f.bar)?i.isWithinBar(t):!0):n=!1,n},h.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},h.initLine=function(){var t=this;t.main.select("."+f.chart).append("g").attr("class",f.chartLines)},h.updateTargetsForLine=function(t){var e,n,i=this,r=i.config,a=i.classChartLine.bind(i),o=i.classLines.bind(i),s=i.classAreas.bind(i),u=i.classCircles.bind(i),c=i.classFocus.bind(i);e=i.main.select("."+f.chartLines).selectAll("."+f.chartLine).data(t).attr("class",function(t){return a(t)+c(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return i.generateClass(f.selectedCircles,t.id)}),n.append("g").attr("class",u).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){i.main.selectAll("."+f.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+f.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},h.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+f.lines).selectAll("."+f.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},h.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},h.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),a=n.generateGetLinePoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(u).y(s):r.x(s).y(u),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var a,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,u=e?n.x:n.subX,c=o.call(n,t.id),l=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?a=n.lineWithRegions(s,u,c,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),a=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(l=u(s[0].x),h=c(s[0].value)),a=i.axis_rotated?"M "+h+" "+l:"M "+l+" "+h),a?a:"M 0 0"}},h.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),c=s(t,e)||r,l=a(t),h=o(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[l,h-(r-c)],[l,h-(r-c)],[l,h-(r-c)],[l,h-(r-c)]]}},h.lineWithRegions=function(t,e,n,i){function r(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function a(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var o,s,u,c,l,h,p,d,f,m,g,v,x=this,b=x.config,E=-1,w="M",C=x.isCategorized()?.5:0,T=[];if(_(i))for(o=0;o<i.length;o++)T[o]={},y(i[o].start)?T[o].start=t[0].x:T[o].start=x.isTimeSeries()?x.parseDate(i[o].start):i[o].start,y(i[o].end)?T[o].end=t[t.length-1].x:T[o].end=x.isTimeSeries()?x.parseDate(i[o].end):i[o].end;for(g=b.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},v=b.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},u=x.isTimeSeries()?function(t,i,r,o){var s,u=t.x.getTime(),c=i.x-t.x,h=new Date(u+c*r),p=new Date(u+c*(r+o));return s=b.axis_rotated?[[n(l(r)),e(h)],[n(l(r+o)),e(p)]]:[[e(h),n(l(r))],[e(p),n(l(r+o))]],a(s)}:function(t,i,r,o){var s;return s=b.axis_rotated?[[n(l(r),!0),e(c(r))],[n(l(r+o),!0),e(c(r+o))]]:[[e(c(r),!0),n(l(r))],[e(c(r+o),!0),n(l(r+o))]],a(s)},o=0;o<t.length;o++){if(y(T)||!r(t[o].x,T))w+=" "+g(t[o])+" "+v(t[o]);else for(c=x.getScale(t[o-1].x+C,t[o].x+C,x.isTimeSeries()),l=x.getScale(t[o-1].value,t[o].value),h=e(t[o].x)-e(t[o-1].x),p=n(t[o].value)-n(t[o-1].value),d=Math.sqrt(Math.pow(h,2)+Math.pow(p,2)),f=2/d,m=2*f,s=f;1>=s;s+=m)w+=u(t[o-1],t[o],s,f);E=t[o].x}return w},h.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+f.areas).selectAll("."+f.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},h.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},h.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),a=n.generateGetAreaPoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},u=function(t,e){return i.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},c=function(t,e){return i.data_groups.length>0?a(t,e)[1][1]:o.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(u).x1(c).y(s):r.x(s).y0(u).y1(c),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,a=i.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(a=n.convertValuesToStep(a)),e=r.interpolate(n.getInterpolate(t))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(t.id)(a[0].value)),e=i.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),e?e:"M 0 0"}},h.getAreaBaseValue=function(){return 0},h.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,a=n.getShapeX(0,r,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),c=s(t,e)||r,l=a(t),h=o(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[l,c],[l,h-(r-c)],[l,h-(r-c)],[l,c]]}},h.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+f.circles).selectAll("."+f.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},h.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+f.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition():i).attr("cx",t).attr("cy",e)]},h.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},h.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},h.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+f.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+f.circle+(m(t)?"-"+t:""))},h.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(f.EXPANDED,!0).attr("r",r)},h.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(f.EXPANDED)}).classed(f.EXPANDED,!1).attr("r",n)},h.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:g(n.point_r)?n.point_r(t):n.point_r},h.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},h.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},h.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),a=+r.attr("cx"),o=+r.attr("cy");return Math.sqrt(Math.pow(a-i[0],2)+Math.pow(o-i[1],2))<e},h.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},h.initBar=function(){var t=this;t.main.select("."+f.chart).append("g").attr("class",f.chartBars)},h.updateTargetsForBar=function(t){var e,n,i=this,r=i.config,a=i.classChartBar.bind(i),o=i.classBars.bind(i),s=i.classFocus.bind(i);e=i.main.select("."+f.chartBars).selectAll("."+f.chartBar).data(t).attr("class",function(t){return a(t)+s(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},h.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+f.bars).selectAll("."+f.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",a).style("fill",a),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},h.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},h.getBarW=function(t,e){var n=this,i=n.config,r="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},h.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+f.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+f.bar+(m(t)?"-"+t:""))},h.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(f.EXPANDED,!0)},h.unexpandBars=function(t){var e=this;e.getBars(t).classed(f.EXPANDED,!1)},h.generateDrawBar=function(t,e){var n=this,i=n.config,r=n.generateGetBarPoints(t,e);return function(t,e){var n=r(t,e),a=i.axis_rotated?1:0,o=i.axis_rotated?0:1,s="M "+n[0][a]+","+n[0][o]+" L"+n[1][a]+","+n[1][o]+" L"+n[2][a]+","+n[2][o]+" L"+n[3][a]+","+n[3][o]+" z";return s}},h.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,a=n.getBarW(i,r),o=n.getShapeX(a,r,t,!!e),s=n.getShapeY(!!e),u=n.getShapeOffset(n.isBarType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var i=c.call(n,t.id)(0),r=u(t,e)||i,l=o(t),h=s(t);return n.config.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[l,r],[l,h-(i-r)],[l+a,h-(i-r)],[l+a,r]]}},h.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),a=Math.min(i.x,r.x),o=Math.min(i.y,r.y),s=n.width,u=n.height,c=2,l=a-c,h=a+s+c,p=o+u+c,d=o-c;return l<e[0]&&e[0]<h&&d<e[1]&&e[1]<p},h.initText=function(){var t=this;t.main.select("."+f.chart).append("g").attr("class",f.chartTexts),t.mainText=t.d3.selectAll([])},h.updateTargetsForText=function(t){var e,n,i=this,r=i.classChartText.bind(i),a=i.classTexts.bind(i),o=i.classFocus.bind(i);e=i.main.select("."+f.chartTexts).selectAll("."+f.chartText).data(t).attr("class",function(t){return r(t)+o(t)}),n=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a)},h.updateText=function(t){var e=this,n=e.config,i=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+f.texts).selectAll("."+f.text).data(i),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},h.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},h.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),a=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o=this.d3.select(n).style("font");return a.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).style("font",o).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},h.generateXYForText=function(t,e,n,i){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?a:r.isBarType(t)?o:s;return u.call(r,n(t,e),t,this)}},h.getXForText=function(t,e,n){var i,r,a=this,o=n.getBoundingClientRect();return a.config.axis_rotated?(r=a.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>a.width?i=a.width-o.width:0>i&&(i=4)),i},h.getYForText=function(t,e,n){var i,r=this,a=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*a.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=a.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<a.height?i=a.height:i>this.height&&(i=this.height-4)),i},h.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},h.hasType=function(t,e){var n=this,i=n.config.data_types,r=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(r=!0)}):r=n.config.data_type===t,r},h.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},h.isLineType=function(t){var e=this.config,n=v(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},h.isStepType=function(t){var e=v(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},h.isSplineType=function(t){var e=v(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},h.isAreaType=function(t){var e=v(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},h.isBarType=function(t){var e=v(t)?t:t.id;return"bar"===this.config.data_types[e]},h.isScatterType=function(t){var e=v(t)?t:t.id;return"scatter"===this.config.data_types[e]},h.isPieType=function(t){var e=v(t)?t:t.id;return"pie"===this.config.data_types[e]},h.isGaugeType=function(t){var e=v(t)?t:t.id;return"gauge"===this.config.data_types[e]},h.isDonutType=function(t){var e=v(t)?t:t.id;return"donut"===this.config.data_types[e]},h.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},h.lineData=function(t){return this.isLineType(t)?[t]:[]},h.arcData=function(t){return this.isArcType(t.data)?[t]:[]},h.barData=function(t){return this.isBarType(t)?t.values:[]},h.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},h.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},h.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},h.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",f.grid),e.grid_x_show&&t.grid.append("g").attr("class",f.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",f.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",f.xgridFocus).append("line").attr("class",f.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},h.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",f.grid+" "+f.gridLines),t.gridLines.append("g").attr("class",f.xgridLines),t.gridLines.append("g").attr("class",f.ygridLines),t.xgridLines=e.selectAll([])},h.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgrid=e.main.select("."+f.xgrids).selectAll("."+f.xgrid).data(r),e.xgrid.enter().append("line").attr("class",f.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},h.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+f.ygrids).selectAll("."+f.ygrid).data(n),t.ygrid.enter().append("line").attr("class",f.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},h.gridTextAnchor=function(t){return t.position?t.position:"end"},h.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},h.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},h.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},h.updateGrid=function(t){var e,n,i,r=this,a=r.main,o=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),a.select("line."+f.xgridFocus).style("visibility","hidden"),o.grid_x_show&&r.updateXGrid(),r.xgridLines=a.select("."+f.xgridLines).selectAll("."+f.xgridLine).data(o.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return f.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),o.grid_y_show&&r.updateYGrid(),r.ygridLines=a.select("."+f.ygridLines).selectAll("."+f.ygridLine).data(o.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(t){return f.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",o.axis_rotated?i:0).attr("x2",o.axis_rotated?i:r.width).attr("y1",o.axis_rotated?0:i).attr("y2",o.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",o.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},h.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),a=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?a.transition():a).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},h.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&m(t.value)}),r=e.main.selectAll("line."+f.xgridFocus),a=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),e.smoothLines(r,"grid")))},h.hideXGridFocus=function(){this.main.select("line."+f.xgridFocus).style("visibility","hidden")},h.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+f.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},h.generateGridData=function(t,e){var n,i,r,a,o=this,s=[],u=o.main.select("."+f.axisX).selectAll(".tick").size();if("year"===t)for(n=o.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),a=i;r>=a;a++)s.push(new Date(a+"-01-01 00:00:00"));else s=e.ticks(10),s.length>u&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},h.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},h.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),a=function(t){return!r(t)},o=e?f.xgridLines:f.ygridLines,s=e?f.xgridLine:f.ygridLine;n.main.select("."+o).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(a):i.grid_y_lines=i.grid_y_lines.filter(a)},h.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",f.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&v(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},h.getTooltipContent=function(t,e,n,i){var r,a,o,s,u,c,l=this,h=l.config,p=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){
return t},f=h.tooltip_format_value||n,m=l.isOrderAsc();if(0===h.data_groups.length)t.sort(function(t,e){return m?t.value-e.value:e.value-t.value});else{var g=l.orderTargets(l.data.targets).map(function(t){return t.id});t.sort(function(t,e){return t.value>0&&e.value>0?m?g.indexOf(t.id)-g.indexOf(e.id):g.indexOf(e.id)-g.indexOf(t.id):m?t.value-e.value:e.value-t.value})}for(a=0;a<t.length;a++)if(t[a]&&(t[a].value||0===t[a].value)&&(r||(o=p?p(t[a].x):t[a].x,r="<table class='"+l.CLASS.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),s=f(t[a].value,t[a].ratio,t[a].id,t[a].index),void 0!==s)){if(null===t[a].name)continue;u=d(t[a].name,t[a].ratio,t[a].id,t[a].index),c=l.levelColor?l.levelColor(t[a].value):i(t[a].id),r+="<tr class='"+l.CLASS.tooltipName+"-"+l.getTargetSelectorSuffix(t[a].id)+"'>",r+="<td class='name'><span style='background-color:"+c+"'></span>"+u+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},h.tooltipPosition=function(t,e,n,i){var r,a,o,s,u,c=this,l=c.config,h=c.d3,p=c.hasArcType(),d=h.mouse(i);return p?(a=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+d[0],s=c.height/2+d[1]+20):(r=c.getSvgLeft(!0),l.axis_rotated?(a=r+d[0]+100,o=a+e,u=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(t[0].x)+20):(a=r+c.getCurrentPaddingLeft(!0)+c.x(t[0].x)+20,o=a+e,u=r+c.currentWidth-c.getCurrentPaddingRight(),s=d[1]+15),o>u&&(a-=o-u+20),s+n>c.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:a}},h.showTooltip=function(t,e){var n,i,r,a=this,o=a.config,s=a.hasArcType(),u=t.filter(function(t){return t&&m(t.value)}),c=o.tooltip_position||h.tooltipPosition;0!==u.length&&o.tooltip_show&&(a.tooltip.html(o.tooltip_contents.call(a,t,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style("display","block"),n=a.tooltip.property("offsetWidth"),i=a.tooltip.property("offsetHeight"),r=c.call(this,u,n,i,e),a.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},h.hideTooltip=function(){this.tooltip.style("display","none")},h.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},h.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},h.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},h.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},h.updateLegendStep=function(t){this.legendStep=t},h.updateLegendItemWidth=function(t){this.legendItemWidth=t},h.updateLegendItemHeight=function(t){this.legendItemHeight=t},h.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},h.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},h.opacityForLegend=function(t){return t.classed(f.legendItemHidden)?null:1},h.opacityForUnfocusedLegend=function(t){return t.classed(f.legendItemHidden)?null:.3},h.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+f.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(f.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},h.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+f.legendItem).classed(f.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},h.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},h.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&w(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},h.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},h.updateLegend=function(t,e,n){function i(t,e){return w.legendItemTextBox[e]||(w.legendItemTextBox[e]=w.getTextRect(t.textContent,f.legendItem,t)),w.legendItemTextBox[e]}function r(e,n,r){function a(t,e){e||(o=(f-N-d)/2,L>o&&(o=(f-d)/2,N=0,F++)),B[t]=F,O[F]=w.isLegendInset?10:o,D[t]=N,N+=d}var o,s,u=0===r,c=r===t.length-1,l=i(e,n),h=l.width+P+(!c||w.isLegendRight||w.isLegendInset?S:0)+C.legend_padding,p=l.height+M,d=w.isLegendRight||w.isLegendInset?p:h,f=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();return u&&(N=0,F=0,A=0,k=0),C.legend_show&&!w.isLegendToShow(n)?void(R[n]=I[n]=B[n]=D[n]=0):(R[n]=h,I[n]=p,(!A||h>=A)&&(A=h),(!k||p>=k)&&(k=p),s=w.isLegendRight||w.isLegendInset?k:A,void(C.legend_equally?(Object.keys(R).forEach(function(t){R[t]=A}),Object.keys(I).forEach(function(t){I[t]=k}),o=(f-s*t.length)/2,L>o?(N=0,F=0,t.forEach(function(t){a(t)})):a(n,!0)):a(n)))}var a,o,s,u,c,l,h,p,d,m,g,v,y,x,b,E,w=this,C=w.config,M=4,S=10,A=0,k=0,L=10,P=C.legend_item_tile_width+5,N=0,D={},R={},I={},O=[0],B={},F=0;t=t.filter(function(t){return!_(C.data_names[t])||null!==C.data_names[t]}),e=e||{},g=T(e,"withTransition",!0),v=T(e,"withTransitionForTransform",!0),w.isLegendInset&&(F=C.legend_inset_step?C.legend_inset_step:t.length,w.updateLegendStep(F)),w.isLegendRight?(a=function(t){return A*B[t]},u=function(t){return O[B[t]]+D[t]}):w.isLegendInset?(a=function(t){return A*B[t]+10},u=function(t){return O[B[t]]+D[t]}):(a=function(t){return O[B[t]]+D[t]},u=function(t){return k*B[t]}),o=function(t,e){return a(t,e)+4+C.legend_item_tile_width},c=function(t,e){return u(t,e)+9},s=function(t,e){return a(t,e)},l=function(t,e){return u(t,e)-5},h=function(t,e){return a(t,e)-2},p=function(t,e){return a(t,e)-2+C.legend_item_tile_width},d=function(t,e){return u(t,e)+4},m=w.legend.selectAll("."+f.legendItem).data(t).enter().append("g").attr("class",function(t){return w.generateClass(f.legendItem,t)}).style("visibility",function(t){return w.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){C.legend_item_onclick?C.legend_item_onclick.call(w,t):w.d3.event.altKey?(w.api.hide(),w.api.show(t)):(w.api.toggle(t),w.isTargetToShow(t)?w.api.focus(t):w.api.revert())}).on("mouseover",function(t){C.legend_item_onmouseover?C.legend_item_onmouseover.call(w,t):(w.d3.select(this).classed(f.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(t)&&w.api.focus(t))}).on("mouseout",function(t){C.legend_item_onmouseout?C.legend_item_onmouseout.call(w,t):(w.d3.select(this).classed(f.legendItemFocused,!1),w.api.revert())}),m.append("text").text(function(t){return _(C.data_names[t])?C.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?o:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:c),m.append("rect").attr("class",f.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?s:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l),m.append("line").attr("class",f.legendItemTile).style("stroke",w.color).style("pointer-events","none").attr("x1",w.isLegendRight||w.isLegendInset?h:-200).attr("y1",w.isLegendRight||w.isLegendInset?-200:d).attr("x2",w.isLegendRight||w.isLegendInset?p:-200).attr("y2",w.isLegendRight||w.isLegendInset?-200:d).attr("stroke-width",C.legend_item_tile_height),E=w.legend.select("."+f.legendBackground+" rect"),w.isLegendInset&&A>0&&0===E.size()&&(E=w.legend.insert("g","."+f.legendItem).attr("class",f.legendBackground).append("rect")),y=w.legend.selectAll("text").data(t).text(function(t){return _(C.data_names[t])?C.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(g?y.transition():y).attr("x",o).attr("y",c),x=w.legend.selectAll("rect."+f.legendItemEvent).data(t),(g?x.transition():x).attr("width",function(t){return R[t]}).attr("height",function(t){return I[t]}).attr("x",s).attr("y",l),b=w.legend.selectAll("line."+f.legendItemTile).data(t),(g?b.transition():b).style("stroke",w.color).attr("x1",h).attr("y1",d).attr("x2",p).attr("y2",d),E&&(g?E.transition():E).attr("height",w.getLegendHeight()-12).attr("width",A*(F+1)+10),w.legend.selectAll("."+f.legendItem).classed(f.legendItemHidden,function(t){return!w.isTargetToShow(t)}),w.updateLegendItemWidth(A),w.updateLegendItemHeight(k),w.updateLegendStep(F),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(v,n),w.legendHasRendered=!0},h.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},h.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},h.xForTitle=function(){var t,e=this,n=e.config,i=n.title_position||"left";return t=i.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-n.title_padding.right:i.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:n.title_padding.left},h.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},h.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},a(r,u),u.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",f.axis+" "+f.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",f.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",f.axis+" "+f.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",f.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",f.axis+" "+f.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",f.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},u.prototype.getXAxis=function(t,e,n,i,r,a,o){var s=this.owner,u=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:o?0:u.axis_x_tick_rotate,withoutTransition:a},h=c(s.d3,l).scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return s.parseDate(t)})),h.tickFormat(n).tickValues(i),s.isCategorized()&&(h.tickCentered(u.axis_x_tick_centered),w(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),h},u.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},u.prototype.getYAxis=function(t,e,n,i,r,a){var o={withOuterTick:r,withoutTransition:a},s=this.owner,u=s.d3,l=s.config,h=c(u,o).scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?h.ticks(u.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):h.tickValues(i),h},u.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},u.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(g(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),g(n)?function(e){return n.call(t,e)}:n},u.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},u.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},u.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},u.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},u.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},u.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return v(e)?e:e?e.text:null},u.prototype.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);v(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},u.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},u.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},u.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},u.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},u.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},u.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},u.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},u.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},u.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},u.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},u.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},u.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},u.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},u.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},u.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},u.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},u.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},u.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},u.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},u.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},u.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},u.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},u.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},u.prototype.getMaxTickWidth=function(t,e){var n,i,r,a,o,s=this.owner,u=s.config,c=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(i=s.y.copy().domain(s.getYDomain(n,"y")),r=this.getYAxis(i,s.yOrient,u.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===t?(i=s.y2.copy().domain(s.getYDomain(n,"y2")),r=this.getYAxis(i,s.y2Orient,u.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(i=s.x.copy().domain(s.getXDomain(n)),r=this.getXAxis(i,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),a=s.d3.select("body").append("div").classed("c3",!0),o=a.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o.append("g").call(r).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();c<t.width&&(c=t.width)}),a.remove()})),s.currentMaxTickWidths[t]=0>=c?s.currentMaxTickWidths[t]:c,s.currentMaxTickWidths[t])},u.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+f.axisX+" ."+f.axisXLabel),i=e.main.select("."+f.axisY+" ."+f.axisYLabel),r=e.main.select("."+f.axisY2+" ."+f.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},u.prototype.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return m(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},u.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return e*(t/i)},u.prototype.generateTickValues=function(t,e,n){var i,r,a,o,s,u,c,l=t;if(e)if(i=g(e)?e():e,1===i)l=[t[0]];else if(2===i)l=[t[0],t[t.length-1]];else if(i>2){for(o=i-2,r=t[0],a=t[t.length-1],s=(a-r)/(o+1),l=[r],u=0;o>u;u++)c=+r+s*(u+1),l.push(n?new Date(c):c);l.push(a)}return n||(l=l.sort(function(t,e){return t-e})),l},u.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},u.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},h.getClipPath=function(t){var e=i.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(e?"":document.URL.split("#")[0])+"#"+t+")"},h.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},h.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},h.getAxisClipY=function(t){return t?-20:-this.margin.top},h.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},h.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},h.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},h.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},h.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},h.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},h.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},h.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},h.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},h.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},h.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},h.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},h.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},h.updateAngle=function(t){var e,n,i=this,r=i.config,a=!1,o=0,s=r.gauge_min,u=r.gauge_max;return i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(e){a||e.data.id!==t.data.id||(a=!0,t=e,t.index=o),o++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),i.isGaugeType(t.data)&&(e=Math.PI/(u-s),n=t.value<s?0:t.value<u?t.value-s:u-s,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),a?t:null},h.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n),r?e(r):"M 0 0")};return n.centroid=e.centroid,n},h.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},h.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},h.transformForArcLabel=function(t){var e,n,i,r,a,o=this,s=o.updateAngle(t),u="";return s&&!o.hasType("gauge")&&(e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),a=o.radius&&r?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/r:0,u="translate("+n*a+","+i*a+")"),u},h.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},h.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},h.textForArcLabel=function(t){var e,n,i,r,a,o=this;return o.shouldShowArcLabel()?(e=o.updateAngle(t),n=e?e.value:null,i=o.getArcRatio(e),r=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(i)?(a=o.getArcLabelFormat(),a?a(n,i,r):o.defaultArcValueFormat(n,i)):""):""},h.expandArc=function(t){var e,n=this;return n.transiting?void(e=i.setInterval(function(){n.transiting||(i.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10)):(t=n.mapToTargetIds(t),void n.svg.selectAll(n.selectorTargets(t,"."+f.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},h.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+f.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+f.arc).style("opacity",1))},h.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},h.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},h.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},h.meetsArcLabelThreshold=function(t){var e=this,n=e.config,i=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=i},h.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},h.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},h.updateTargetsForArc=function(t){var e,n,i=this,r=i.main,a=i.classChartArc.bind(i),o=i.classArcs.bind(i),s=i.classFocus.bind(i);e=r.select("."+f.chartArcs).selectAll("."+f.chartArc).data(i.pie(t)).attr("class",function(t){return a(t)+s(t.data)}),n=e.enter().append("g").attr("class",a),n.append("g").attr("class",o),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},h.initArc=function(){var t=this;t.arcs=t.main.select("."+f.chart).append("g").attr("class",f.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",f.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},h.redrawArc=function(t,e,n){var i,r=this,a=r.d3,o=r.config,s=r.main;i=s.selectAll("."+f.arcs).selectAll("."+f.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return o.interaction_enabled&&o.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",o.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),e&&(n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this)))}:null).on("mousemove",o.interaction_enabled?function(t){var e,n,i=r.updateAngle(t);i&&(e=r.convertToArcData(i),n=[e],r.showTooltip(n,this))}:null).on("mouseout",o.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),e&&(n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this)))}:null).on("click",o.interaction_enabled?function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=r.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=a.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+f.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?f.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),s.select("."+f.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+f.chartArcsBackground).attr("d",function(){var t={data:[{value:o.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return r.getArc(t,!0,!0)}),r.arcs.select("."+f.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),r.arcs.select("."+f.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),r.arcs.select("."+f.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/2+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},h.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",f.chartArcsBackground),t.append("text").attr("class",f.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",f.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",f.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},h.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},h.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",f.regions)},h.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+f.regions).selectAll("."+f.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},h.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),i=e.regionX.bind(e),r=e.regionY.bind(e),a=e.regionWidth.bind(e),o=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",a).attr("height",o).style("fill-opacity",function(t){return m(t.opacity)?t.opacity:.1})]},h.regionX=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?r(t.start):0:i.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},h.regionY=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?r(t.end):0:i.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},h.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?a(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,r>e?0:e-r},h.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?a(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,r>e?0:e-r},h.isRegionOnX=function(t){return!t.axis||"x"===t.axis},h.drag=function(t){var e,n,i,r,a,o,s,u,c=this,l=c.config,h=c.main,p=c.d3;c.hasArcType()||l.data_selection_enabled&&(!l.zoom_enabled||c.zoom.altDomain)&&l.data_selection_multiple&&(e=c.dragStart[0],
n=c.dragStart[1],i=t[0],r=t[1],a=Math.min(e,i),o=Math.max(e,i),s=l.data_selection_grouped?c.margin.top:Math.min(n,r),u=l.data_selection_grouped?c.height:Math.max(n,r),h.select("."+f.dragarea).attr("x",a).attr("y",s).attr("width",o-a).attr("height",u-s),h.selectAll("."+f.shapes).selectAll("."+f.shape).filter(function(t){return l.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,l,h,d,m=p.select(this),g=m.classed(f.SELECTED),v=m.classed(f.INCLUDED),y=!1;if(m.classed(f.circle))n=1*m.attr("cx"),i=1*m.attr("cy"),h=c.togglePoint,y=n>a&&o>n&&i>s&&u>i;else{if(!m.classed(f.bar))return;d=S(this),n=d.x,i=d.y,r=d.width,l=d.height,h=c.togglePath,y=!(n>o||a>n+r||i>u||s>i+l)}y^v&&(m.classed(f.INCLUDED,!v),m.classed(f.SELECTED,!g),h.call(c,!g,m,t,e))}))},h.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+f.chart).append("rect").attr("class",f.dragarea).style("opacity",.1),e.dragging=!0)},h.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+f.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+f.shape).classed(f.INCLUDED,!1),t.dragging=!1)},h.selectPoint=function(t,e,n){var i=this,r=i.config,a=(r.axis_rotated?i.circleY:i.circleX).bind(i),o=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+f.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+f.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(f.selectedCircle,n)}).attr("cx",a).attr("cy",o).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},h.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected.call(i.api,e,t.node()),i.main.select("."+f.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+f.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},h.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},h.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},h.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},h.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},h.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},h.toggleShape=function(t,e,n){var i=this,r=i.d3,a=i.config,o=r.select(t),s=o.classed(f.SELECTED),u=i.getToggle(t,e).bind(i);a.data_selection_enabled&&a.data_selection_isselectable(e)&&(a.data_selection_multiple||i.main.selectAll("."+f.shapes+(a.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+f.shape).each(function(t,e){var n=r.select(this);n.classed(f.SELECTED)&&u(!1,n.classed(f.SELECTED,!1),t,e)}),o.classed(f.SELECTED,!s),u(!s,o,e,n))},h.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+f.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},h.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=e.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",f.chart),n.select("."+f.chart).append("g").attr("class",f.chartBars),n.select("."+f.chart).append("g").attr("class",f.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",f.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",f.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},h.updateTargetsForSubchart=function(t){var e,n,i,r,a=this,o=a.context,s=a.config,u=a.classChartBar.bind(a),c=a.classBars.bind(a),l=a.classChartLine.bind(a),h=a.classLines.bind(a),p=a.classAreas.bind(a);s.subchart_show&&(r=o.select("."+f.chartBars).selectAll("."+f.chartBar).data(t).attr("class",u),i=r.enter().append("g").style("opacity",0).attr("class",u),i.append("g").attr("class",c),n=o.select("."+f.chartLines).selectAll("."+f.chartLine).data(t).attr("class",l),e=n.enter().append("g").style("opacity",0).attr("class",l),e.append("g").attr("class",h),e.append("g").attr("class",p),o.selectAll("."+f.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?a.width2:a.height2))},h.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+f.bars).selectAll("."+f.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},h.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},h.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+f.lines).selectAll("."+f.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},h.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},h.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+f.areas).selectAll("."+f.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},h.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},h.redrawSubchart=function(t,e,n,i,r,a,o){var s,u,c,l=this,h=l.d3,p=l.config;l.context.style("visibility",p.subchart_show?"visible":"hidden"),p.subchart_show&&(h.event&&"zoom"===h.event.type&&l.brush.extent(l.x.orgDomain()).update(),t&&(l.brush.empty()||l.brush.extent(l.x.orgDomain()).update(),s=l.generateDrawArea(r,!0),u=l.generateDrawBar(a,!0),c=l.generateDrawLine(o,!0),l.updateBarForSubchart(n),l.updateLineForSubchart(n),l.updateAreaForSubchart(n),l.redrawBarForSubchart(u,n,n),l.redrawLineForSubchart(c,n,n),l.redrawAreaForSubchart(s,n,n)))},h.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},h.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+f.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},h.getDefaultExtent=function(){var t=this,e=t.config,n=g(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},h.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=E(e.x.orgDomain())/E(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},h.getZoomDomain=function(){var t=this,e=t.config,n=t.d3,i=n.min([t.orgXDomain[0],e.zoom_x_min]),r=n.max([t.orgXDomain[1],e.zoom_x_max]);return[i,r]},h.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+f.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+f.eventRect).call(e).on("dblclick.zoom",null)},h.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},h.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=C(e.color_pattern)?e.color_pattern:n.scale.category10().range(),a=e.data_color,o=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(o.indexOf(n)<0&&o.push(n),e=r[o.indexOf(n)%r.length],i[n]=e),a instanceof Function?a(e,t):e}},h.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,i=e.color_threshold,r="value"===i.unit,a=i.values&&i.values.length?i.values:[],o=i.max||100;return C(e.color_threshold)?function(t){var e,i,s=n[n.length-1];for(e=0;e<a.length;e++)if(i=r?t:100*t/o,i<a[e]){s=n[e];break}return s}:null},h.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,a){var o="y2"===e.axis.getId(a)?i:n;return o.call(e,t,r)}},h.yFormat=function(t){var e=this,n=e.config,i=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return i(t)},h.y2Format=function(t){var e=this,n=e.config,i=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return i(t)},h.defaultValueFormat=function(t){return m(t)?+t:""},h.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},h.dataLabelFormat=function(t){var e,n=this,i=n.config.data_labels,r=function(t){return m(t)?+t:""};return e="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[t]?i.format[t]===!0?r:i.format[t]:function(){return""}:r},h.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},h.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},h.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var f=h.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};h.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},h.classText=function(t){return this.generateClass(f.text,t.index)},h.classTexts=function(t){return this.generateClass(f.texts,t.id)},h.classShape=function(t){return this.generateClass(f.shape,t.index)},h.classShapes=function(t){return this.generateClass(f.shapes,t.id)},h.classLine=function(t){return this.classShape(t)+this.generateClass(f.line,t.id)},h.classLines=function(t){return this.classShapes(t)+this.generateClass(f.lines,t.id)},h.classCircle=function(t){return this.classShape(t)+this.generateClass(f.circle,t.index)},h.classCircles=function(t){return this.classShapes(t)+this.generateClass(f.circles,t.id)},h.classBar=function(t){return this.classShape(t)+this.generateClass(f.bar,t.index)},h.classBars=function(t){return this.classShapes(t)+this.generateClass(f.bars,t.id)},h.classArc=function(t){return this.classShape(t.data)+this.generateClass(f.arc,t.data.id)},h.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(f.arcs,t.data.id)},h.classArea=function(t){return this.classShape(t)+this.generateClass(f.area,t.id)},h.classAreas=function(t){return this.classShapes(t)+this.generateClass(f.areas,t.id)},h.classRegion=function(t,e){return this.generateClass(f.region,e)+" "+("class"in t?t["class"]:"")},h.classEvent=function(t){return this.generateClass(f.eventRect,t.index)},h.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+f.target+"-"+n),e.generateClass(f.target,t)+i},h.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},h.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?f.focused:"")},h.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?f.defocused:"")},h.classChartText=function(t){return f.chartText+this.classTarget(t.id)},h.classChartLine=function(t){return f.chartLine+this.classTarget(t.id)},h.classChartBar=function(t){return f.chartBar+this.classTarget(t.id)},h.classChartArc=function(t){return f.chartArc+this.classTarget(t.data.id)},h.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},h.selectorTarget=function(t,e){return(e||"")+"."+f.target+this.getTargetSelectorSuffix(t)},h.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},h.selectorLegend=function(t){return"."+f.legendItem+this.getTargetSelectorSuffix(t)},h.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var m=h.isValue=function(t){return t||0===t},g=h.isFunction=function(t){return"function"==typeof t},v=h.isString=function(t){return"string"==typeof t},y=h.isUndefined=function(t){return"undefined"==typeof t},_=h.isDefined=function(t){return"undefined"!=typeof t},x=h.ceil10=function(t){return 10*Math.ceil(t/10)},b=h.asHalfPixel=function(t){return Math.ceil(t)+.5},E=h.diffDomain=function(t){return t[1]-t[0]},w=h.isEmpty=function(t){return"undefined"==typeof t||null===t||v(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},C=h.notEmpty=function(t){return!h.isEmpty(t)},T=h.getOption=function(t,e,n){return _(t[e])?t[e]:n},M=h.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},S=h.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:e.width,height:e.height}};l.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(f.focused,!0).classed(f.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},l.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(f.focused,!1).classed(f.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},l.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(f.focused,!1).classed(f.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(f.legendItemFocused)}).classed(f.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},l.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},l.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},l.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},l.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},l.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},l.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},l.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;return 0===t||t?void(n.zoom_x_max=i.max([e.orgXDomain[1],t])):n.zoom_x_max},l.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;return 0===t||t?void(n.zoom_x_min=i.min([e.orgXDomain[0],t])):n.zoom_x_min},l.zoom.range=function(t){return arguments.length?(_(t.max)&&this.domain.max(t.max),void(_(t.min)&&this.domain.min(t.min))):{max:this.domain.max(),min:this.domain.min()}},l.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},l.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},l.flow=function(t){var e,n,i,r,a,o,s,u,c=this.internal,l=[],h=c.getMaxDataCount(),p=0,d=0;if(t.json)n=c.convertJsonToData(t.json,t.keys);else if(t.rows)n=c.convertRowsToData(t.rows);else{if(!t.columns)return;n=c.convertColumnsToData(t.columns)}e=c.convertDataToTargets(n,!0),c.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(d=t.values[t.values.length-1].index+1),p=e[n].values.length,i=0;p>i;i++)e[n].values[i].index=d+i,c.isTimeSeries()||(e[n].values[i].x=d+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||l.push(t.id)}),c.data.targets.forEach(function(t){var e,n;for(e=0;e<l.length;e++)if(t.id===l[e])for(d=t.values[t.values.length-1].index+1,n=0;p>n;n++)t.values.push({id:t.id,index:d+n,x:c.isTimeSeries()?c.getOtherTargetX(d+n):d+n,value:null})}),c.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=c.data.targets[0].values[0].index;d>e;e++)n.push({id:t.id,index:e,x:c.isTimeSeries()?c.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=d,c.isTimeSeries()||(t.x+=d)}),t.values=n.concat(t.values)}),c.data.targets=c.data.targets.concat(e),i=c.getMaxDataCount(),a=c.data.targets[0],o=a.values[0],_(t.to)?(p=0,u=c.isTimeSeries()?c.parseDate(t.to):t.to,a.values.forEach(function(t){t.x<u&&p++})):_(t.length)&&(p=t.length),h?1===h&&c.isTimeSeries()&&(s=(a.values[a.values.length-1].x-o.x)/2,r=[new Date(+o.x-s),new Date(+o.x+s)],c.updateXDomain(null,!0,!0,!1,r)):(s=c.isTimeSeries()?a.values.length>1?a.values[a.values.length-1].x-o.x:o.x-c.getXDomain(c.data.targets)[0]:1,r=[o.x-s,o.x],c.updateXDomain(null,!0,!0,!1,r)),c.updateTargets(c.data.targets),c.redraw({flow:{index:o.index,length:p,duration:m(t.duration)?t.duration:c.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},h.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var r,a,o,s=t.targets,u=t.flow,c=t.drawBar,l=t.drawLine,h=t.drawArea,p=t.cx,d=t.cy,m=t.xv,g=t.xForText,v=t.yForText,y=t.duration,_=1,x=u.index,b=u.length,w=e.getValueOnIndex(e.data.targets[0].values,x),C=e.getValueOnIndex(e.data.targets[0].values,x+b),T=e.x.domain(),M=u.duration||y,S=u.done||function(){},A=e.generateWait(),k=e.xgrid||i.selectAll([]),L=e.xgridLines||i.selectAll([]),P=e.mainRegion||i.selectAll([]),N=e.mainText||i.selectAll([]),D=e.mainBar||i.selectAll([]),R=e.mainLine||i.selectAll([]),I=e.mainArea||i.selectAll([]),O=e.mainCircle||i.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)}),o=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),u.orgDataCount?r=1===u.orgDataCount||w.x===C.x?e.x(T[0])-e.x(o[0]):e.isTimeSeries()?e.x(T[0])-e.x(o[0]):e.x(w.x)-e.x(C.x):1!==e.data.targets[0].values.length?r=e.x(T[0])-e.x(o[0]):e.isTimeSeries()?(w=e.getValueOnIndex(e.data.targets[0].values,0),C=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(w.x)-e.x(C.x)):r=E(o)/2,_=E(T)/E(o),a="translate("+r+",0) scale("+_+",1)",e.hideXGridFocus(),i.transition().ease("linear").duration(M).each(function(){A.add(e.axes.x.transition().call(e.xAxis)),A.add(D.transition().attr("transform",a)),A.add(R.transition().attr("transform",a)),A.add(I.transition().attr("transform",a)),A.add(O.transition().attr("transform",a)),A.add(N.transition().attr("transform",a)),A.add(P.filter(e.isRegionOnX).transition().attr("transform",a)),A.add(k.transition().attr("transform",a)),A.add(L.transition().attr("transform",a))}).call(A,function(){var t,i=[],r=[],a=[];if(b){for(t=0;b>t;t++)i.push("."+f.shape+"-"+(x+t)),r.push("."+f.text+"-"+(x+t)),a.push("."+f.eventRect+"-"+(x+t));e.svg.selectAll("."+f.shapes).selectAll(i).remove(),e.svg.selectAll("."+f.texts).selectAll(r).remove(),e.svg.selectAll("."+f.eventRects).selectAll(a).remove(),e.svg.select("."+f.xgrid).remove()}k.attr("transform",null).attr(e.xgridAttr),L.attr("transform",null),L.select("line").attr("x1",n.axis_rotated?0:m).attr("x2",n.axis_rotated?e.width:m),L.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",m),D.attr("transform",null).attr("d",c),R.attr("transform",null).attr("d",l),I.attr("transform",null).attr("d",h),O.attr("transform",null).attr("cx",p).attr("cy",d),N.attr("transform",null).attr("x",g).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),P.attr("transform",null),P.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),S(),e.flowing=!1})}},l.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+f.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+f.shape).filter(function(){return n.select(this).classed(f.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},l.select=function(t,e,n){var i=this.internal,r=i.d3,a=i.config;a.data_selection_enabled&&i.main.selectAll("."+f.shapes).selectAll("."+f.shape).each(function(o,s){var u=r.select(this),c=o.data?o.data.id:o.id,l=i.getToggle(this,o).bind(i),h=a.data_selection_grouped||!t||t.indexOf(c)>=0,p=!e||e.indexOf(s)>=0,d=u.classed(f.SELECTED);u.classed(f.line)||u.classed(f.area)||(h&&p?a.data_selection_isselectable(o)&&!d&&l(!0,u.classed(f.SELECTED,!0),o,s):_(n)&&n&&d&&l(!1,u.classed(f.SELECTED,!1),o,s))})},l.unselect=function(t,e){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+f.shapes).selectAll("."+f.shape).each(function(a,o){var s=i.select(this),u=a.data?a.data.id:a.id,c=n.getToggle(this,a).bind(n),l=r.data_selection_grouped||!t||t.indexOf(u)>=0,h=!e||e.indexOf(o)>=0,p=s.classed(f.SELECTED);s.classed(f.line)||s.classed(f.area)||l&&h&&r.data_selection_isselectable(a)&&p&&c(!1,s.classed(f.SELECTED,!1),a,o)})},l.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},h.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),a=n||{withTransitionForAxis:r};a.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(a)},l.groups=function(t){var e=this.internal,n=e.config;return y(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},l.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},l.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},l.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},l.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},l.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},l.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},l.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},l.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},l.regions.remove=function(t){var e,n,i,r=this.internal,a=r.config;return t=t||{},e=r.getOption(t,"duration",a.transition_duration),n=r.getOption(t,"classes",[f.region]),i=r.main.select("."+f.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),a.regions},l.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},l.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},l.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},l.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},l.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},l.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},l.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},l.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},l.color=function(t){var e=this.internal;return e.color(t)},l.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},l.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},l.axis=function(){},l.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},l.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(m(t.x)&&(n.axis_x_max=t.x),m(t.y)&&(n.axis_y_max=t.y),m(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},l.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(m(t.x)&&(n.axis_x_min=t.x),m(t.y)&&(n.axis_y_min=t.y),m(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},l.axis.range=function(t){return arguments.length?(_(t.max)&&this.axis.max(t.max),void(_(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},l.legend=function(){},l.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},l.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},l.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},l.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},l.destroy=function(){var t=this.internal;if(i.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&i.clearTimeout(t.resizeTimeout),i.detachEvent)i.detachEvent("onresize",t.resizeFunction);else if(i.removeEventListener)i.removeEventListener("resize",t.resizeFunction);else{var e=i.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},l.tooltip=function(){},l.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=m(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},l.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var A;h.isSafari=function(){var t=i.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},h.isChrome=function(){var t=i.navigator.userAgent;
return t.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return d}):"undefined"!=typeof n&&"undefined"!=typeof e?e.exports=d:i.c3=d}(window)},{d3:97}],97:[function(t,e,n){!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function r(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function a(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function s(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===yo||t[0]===_o?_o+t:t}function l(t){return(t+="")[0]===_o?t.slice(1):t}function h(t){return c(t)in this._}function p(t){return(t=c(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(l(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function v(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xo.length;i>n;++n){var r=xo[n]+e;if(r in t)return r}}function _(){}function x(){}function b(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function E(){no.event.preventDefault()}function w(){for(var t,e=no.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new x,n=0,i=arguments.length;++n<i;)e[arguments[n]]=b(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=no.event;r.target=t,no.event=r,e[r.type].apply(n,i)}finally{no.event=a}}},e}function T(t){return Eo(t,So),t}function M(t){return"function"==typeof t?t:function(){return wo(t,this)}}function S(t){return"function"==typeof t?t:function(){return Co(t,this)}}function A(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=no.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function k(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+no.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=P(t).map(D);var r=t.length;return"function"==typeof e?i:n}function D(t){var e=L(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",k(r+" "+t))):n.setAttribute("class",k(r.replace(e," ")))}}function R(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function I(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function O(t){return"function"==typeof t?t:(t=no.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function B(){var t=this.parentNode;t&&t.removeChild(this)}function F(t){return{__data__:t}}function U(t){return function(){return Mo(this,t)}}function z(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function j(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,a=t[n],o=0,s=a.length;s>o;o++)(r=a[o])&&e(r,o,n);return t}function H(t){return Eo(t,ko),t}function W(t){var e,n;return function(i,r,a){var o,s=t[a].update,u=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<u;);return o}}function V(t){var e=t.__transition__;e&&++e.active}function G(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=u(e,ro(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+no.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),u=q;s>0&&(t=t.slice(0,s));var c=Po.get(t);return c&&(t=c,u=X),s?e?r:i:e?_:a}function q(t,e){return function(n){var i=no.event;no.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{no.event=i}}}function X(t,e){var n=q(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function Y(){var t=".dragsuppress-"+ ++Do,e="click"+t,n=no.select(so).on("touchmove"+t,E).on("dragstart"+t,E).on("selectstart"+t,E);if(No){var i=oo.style,r=i[No];i[No]="none"}return function(a){if(n.on(t,null),No&&(i[No]=r),a){var o=function(){n.on(e,null)};n.on(e,function(){E(),o()},!0),setTimeout(o,0)}}}function Z(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Ro&&(so.scrollX||so.scrollY)){n=no.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();Ro=!(r.f||r.e),n.remove()}return Ro?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function K(){return no.event.changedTouches[0].identifier}function J(){return no.event.target}function Q(){return so}function $(t){return t>0?1:0>t?-1:0}function tt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function et(t){return t>1?0:-1>t?Bo:Math.acos(t)}function nt(t){return t>1?zo:-1>t?-zo:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function st(){}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):Et(""+t,wt,ut):new ut(t,e,n)}function ct(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new yt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):t instanceof pt?ft(t.l,t.a,t.b):ft((t=Ct((t=no.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ht(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new pt(n,Math.cos(t*=jo)*e,Math.sin(t)*e)}function pt(t,e,n){return this instanceof pt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof pt?new pt(t.l,t.a,t.b):t instanceof lt?ht(t.h,t.c,t.l):Ct((t=yt(t)).r,t.g,t.b):new pt(t,e,n)}function dt(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=mt(r)*Qo,i=mt(i)*$o,a=mt(a)*ts,new yt(vt(3.2404542*r-1.5371385*i-.4985314*a),vt(-.969266*r+1.8760108*i+.041556*a),vt(.0556434*r-.2040259*i+1.0572252*a))}function ft(t,e,n){return t>0?new lt(Math.atan2(n,e)*Ho,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function mt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):Et(""+t,yt,ct):new yt(t,e,n)}function _t(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return _t(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Et(t,e,n){var i,r,a,o=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Mt(r[0]),Mt(r[1]),Mt(r[2]))}return(a=is.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,u=15&a,u=u<<4|u):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),e(o,s,u))}function wt(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,u=(o+a)/2;return s?(r=.5>u?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=u>0&&1>u?0:i),new ut(i,r,u)}function Ct(t,e,n){t=Tt(t),e=Tt(e),n=Tt(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/Qo),r=gt((.2126729*t+.7151522*e+.072175*n)/$o),a=gt((.0193339*t+.119192*e+.9503041*n)/ts);return pt(116*r-16,500*(i-r),200*(r-a))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function At(t){return t}function kt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Lt(e,n,t,i)}}function Lt(t,e,n,i){function r(){var t,e=u.status;if(!e&&Nt(u)||e>=200&&300>e||304===e){try{t=n.call(a,u)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,u)}var a={},o=no.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!so.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=no.event;no.event=t;try{o.progress.call(a,u)}finally{no.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ro(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,u),u.send(null==i?null:i),a},a.abort=function(){return u.abort(),a},no.rebind(a,o,"on"),null==i?a:a.get(Pt(i))}function Pt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(){var t=Rt(),e=It()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Dt,e)),os=0):(os=1,cs(Dt))}function Rt(){var t=Date.now();for(us=rs;us;)t>=us.t&&(us.f=us.c(t-us.t)),us=us.n;return t}function It(){for(var t,e=rs,n=1/0;e;)e.f?e=t?t.n=e.n:rs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return as=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Bt(t,e){var n=Math.pow(10,3*vo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),a.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:At;return function(t){var n=hs.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],l=+n[6],h=n[7],p=n[8],d=n[9],f=1,m="",g="",v=!1,y=!0;switch(p&&(p=+p.substring(1)),(c||"0"===i&&"="===o)&&(c=i="0",o="="),d){case"n":h=!0,d="g";break;case"%":f=100,g="%",d="f";break;case"p":f=100,g="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,p=0;break;case"s":f=-1,d="r"}"$"===u&&(m=r[0],g=r[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):("e"==d||"f"==d)&&(p=Math.max(0,Math.min(20,p)))),d=ps.get(d)||Ut;var _=c&&h;return function(t){var n=g;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>f){var u=no.formatPrefix(t,p);t=u.scale(t),n=u.symbol+g}else t*=f;t=d(t,p);var x,b,E=t.lastIndexOf(".");if(0>E){var w=y?t.lastIndexOf("e"):-1;0>w?(x=t,b=""):(x=t.substring(0,w),b=t.substring(w))}else x=t.substring(0,E),b=e+t.substring(E+1);!c&&h&&(x=a(x,1/0));var C=m.length+x.length+b.length+(_?0:r.length),T=l>C?new Array(C=l-C+1).join(i):"";return _&&(x=a(T+x,T.length?l-b.length:1/0)),r+=m,t=x+b,("<"===o?r+t+T:">"===o?T+r+t:"^"===o?T.substring(0,C>>=1)+r+t+T.substring(C):r+(_?t:T+t))+n}}}function Ut(t){return t+""}function zt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(t,e,n){function i(e){var n=t(e),i=a(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new fs(n-1)),1),n}function a(t,n){return e(t=new fs(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;i>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{fs=zt;var i=new zt;return i._=t,o(i,e,n)}finally{fs=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var u=t.utc=Ht(t);return u.floor=u,u.round=Ht(i),u.ceil=Ht(r),u.offset=Ht(a),u.range=s,t}function Ht(t){return function(e,n){try{fs=zt;var i=new zt;return i._=e,t(i,n)._}finally{fs=Date}}}function Wt(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=A[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),u=s+1);return o.push(t.slice(u,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&fs!==zt,o=new(a?zt:fs);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,u=e.length,c=n.length;u>s;){if(i>=c)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=k[o in gs?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){M.lastIndex=0;var i=M.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=T.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,A.c.toString(),e,i)}function u(t,e,i){return n(t,A.x.toString(),e,i)}function c(t,e,i){return n(t,A.X.toString(),e,i)}function l(t,e,n){var i=_.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,p=t.date,d=t.time,f=t.periods,m=t.days,g=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{fs=zt;var e=new fs;return e._=t,i(e)}finally{fs=Date}}var i=e(t);return n.parse=function(t){try{fs=zt;var e=i.parse(t);return e&&e._}finally{fs=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ce;var _=no.map(),x=Gt(m),b=qt(m),E=Gt(g),w=qt(g),C=Gt(v),T=qt(v),M=Gt(y),S=qt(y);f.forEach(function(t,e){_.set(t.toLowerCase(),e)});var A={a:function(t){return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Vt(t.getDate(),e,2)},e:function(t,e){return Vt(t.getDate(),e,2)},H:function(t,e){return Vt(t.getHours(),e,2)},I:function(t,e){return Vt(t.getHours()%12||12,e,2)},j:function(t,e){return Vt(1+ds.dayOfYear(t),e,3)},L:function(t,e){return Vt(t.getMilliseconds(),e,3)},m:function(t,e){return Vt(t.getMonth()+1,e,2)},M:function(t,e){return Vt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Vt(t.getSeconds(),e,2)},U:function(t,e){return Vt(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Vt(ds.mondayOfYear(t),e,2)},x:e(p),X:e(d),y:function(t,e){return Vt(t.getFullYear()%100,e,2)},Y:function(t,e){return Vt(t.getFullYear()%1e4,e,4)},Z:se,"%":function(){return"%"}},k={a:i,A:r,b:a,B:o,c:s,d:ee,e:ee,H:ie,I:ie,j:ne,L:oe,m:te,M:re,p:l,S:ae,U:Yt,w:Xt,W:Zt,x:u,X:c,y:Jt,Y:Kt,Z:Qt,"%":ue};return e}function Vt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(e)+r:r)}function Gt(t){return new RegExp("^(?:"+t.map(no.requote).join("|")+")","i")}function qt(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Zt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Kt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Jt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.y=$t(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function $t(t){return t+(t>68?1900:2e3)}function te(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function re(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ae(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function se(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=vo(e)/60|0,r=vo(e)%60;return n+Vt(i,"0",2)+Vt(r,"0",2)}function ue(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ce(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function le(){}function he(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function pe(t,e){t&&Es.hasOwnProperty(t.type)&&Es[t.type](t,e)}function de(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function fe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)de(t[n],e,1);e.polygonEnd()}function me(){function t(t,e){t*=jo,e=e*jo/2+Bo/4;var n=t-i,o=n>=0?1:-1,s=o*n,u=Math.cos(e),c=Math.sin(e),l=a*c,h=r*u+l*Math.cos(s),p=l*o*Math.sin(s);Cs.add(Math.atan2(p,h)),i=t,r=u,a=c}var e,n,i,r,a;Ts.point=function(o,s){Ts.point=t,i=(e=o)*jo,r=Math.cos(s=(n=s)*jo/2+Bo/4),a=Math.sin(s)},Ts.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _e(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ee(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function we(t,e){return vo(t[0]-e[0])<Io&&vo(t[1]-e[1])<Io}function Ce(t,e){t*=jo;var n=Math.cos(e*=jo);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){++Ms,As+=(t-As)/Ms,ks+=(e-ks)/Ms,Ls+=(n-Ls)/Ms}function Me(){function t(t,r){t*=jo;var a=Math.cos(r*=jo),o=a*Math.cos(t),s=a*Math.sin(t),u=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*u-i*s)*c+(c=i*o-e*u)*c+(c=e*s-n*o)*c),e*o+n*s+i*u);Ss+=c,Ps+=c*(e+(e=o)),Ns+=c*(n+(n=s)),Ds+=c*(i+(i=u)),Te(e,n,i)}var e,n,i;Bs.point=function(r,a){r*=jo;var o=Math.cos(a*=jo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Bs.point=t,Te(e,n,i)}}function Se(){Bs.point=Ce}function Ae(){function t(t,e){t*=jo;var n=Math.cos(e*=jo),o=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=r*u-a*s,l=a*o-i*u,h=i*s-r*o,p=Math.sqrt(c*c+l*l+h*h),d=i*o+r*s+a*u,f=p&&-et(d)/p,m=Math.atan2(p,d);Rs+=f*c,Is+=f*l,Os+=f*h,Ss+=m,Ps+=m*(i+(i=o)),Ns+=m*(r+(r=s)),Ds+=m*(a+(a=u)),Te(i,r,a)}var e,n,i,r,a;Bs.point=function(o,s){e=o,n=s,Bs.point=t,o*=jo;var u=Math.cos(s*=jo);i=u*Math.cos(o),r=u*Math.sin(o),a=Math.sin(s),Te(i,r,a)},Bs.lineEnd=function(){t(e,n),Bs.lineEnd=Se,Bs.point=Ce}}function ke(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Le(){return!0}function Pe(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new De(n,t,null,!0),c=new De(n,null,u,!1);u.o=c,a.push(u),o.push(c),u=new De(i,t,null,!1),c=new De(i,null,u,!0),u.o=c,a.push(u),o.push(c)}}),o.sort(e),Ne(a),Ne(o),a.length){for(var s=0,u=n,c=o.length;c>s;++s)o[s].e=u=!u;for(var l,h,p=a[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;l=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(var s=0,c=l.length;c>s;++s)r.point((h=l[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f){l=d.p.z;for(var s=l.length-1;s>=0;--s)r.point((h=l[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,l=d.z,f=!f}while(!d.v);r.lineEnd()}}}function Ne(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function De(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Re(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);g.point(n[0],n[1])}function u(){y.point=s,g.lineStart()}function c(){y.point=o,g.lineEnd()}function l(t,e){m.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),m=[]}function p(){l(m[0][0],m[0][1]),x.lineEnd();var t,e=x.clean(),n=_.buffer(),i=n.length;if(m.pop(),f.push(m),m=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ie))}var d,f,m,g=e(a),v=r.invert(i[0],i[1]),y={point:o,lineStart:u,lineEnd:c,polygonStart:function(){y.point=l,y.lineStart=h,y.lineEnd=p,d=[],f=[]},polygonEnd:function(){y.point=o,y.lineStart=u,y.lineEnd=c,d=no.merge(d);var t=je(v,f);d.length?(b||(a.polygonStart(),b=!0),Pe(d,Be,t,n,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),d=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},_=Oe(),x=e(_),b=!1;return y}}function Ie(t){return t.length>1}function Oe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:_,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Be(t,e){return((t=t.x)[0]<0?t[1]-zo-Io:zo-t[1])-((e=e.x)[0]<0?e[1]-zo-Io:zo-e[1])}function Fe(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Bo:-Bo,u=vo(a-n);vo(u-Bo)<Io?(t.point(n,i=(i+o)/2>0?zo:-zo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&u>=Bo&&(vo(n-r)<Io&&(n-=r*Io),vo(a-s)<Io&&(a-=s*Io),i=Ue(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ue(t,e,n,i){var r,a,o=Math.sin(t-n);return vo(o)>Io?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function ze(t,e,n,i){var r;if(null==t)r=n*zo,i.point(-Bo,r),i.point(0,r),i.point(Bo,r),i.point(Bo,0),i.point(Bo,-r),i.point(0,-r),i.point(-Bo,-r),i.point(-Bo,0),i.point(-Bo,r);else if(vo(t[0]-e[0])>Io){var a=t[0]<e[0]?Bo:-Bo;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Cs.reset();for(var s=0,u=e.length;u>s;++s){var c=e[s],l=c.length;if(l)for(var h=c[0],p=h[0],d=h[1]/2+Bo/4,f=Math.sin(d),m=Math.cos(d),g=1;;){g===l&&(g=0),t=c[g];var v=t[0],y=t[1]/2+Bo/4,_=Math.sin(y),x=Math.cos(y),b=v-p,E=b>=0?1:-1,w=E*b,C=w>Bo,T=f*_;if(Cs.add(Math.atan2(T*E*Math.sin(w),m*x+T*Math.cos(w))),a+=C?b+E*Fo:b,C^p>=n^v>=n){var M=ye(ge(h),ge(t));be(M);var S=ye(r,M);be(S);var A=(C^b>=0?-1:1)*nt(S[2]);(i>A||i===A&&(M[0]||M[1]))&&(o+=C^b>=0?1:-1)}if(!g++)break;p=v,f=_,m=x,h=t}}return(-Io>a||Io>a&&0>Cs)^1&o}function He(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,p){var d,f=[h,p],m=e(h,p),g=o?m?0:r(h,p):m?r(h+(0>h?Bo:-Bo),p):0;if(!n&&(c=u=m)&&t.lineStart(),m!==u&&(d=i(n,f),(we(n,d)||we(f,d))&&(f[0]+=Io,f[1]+=Io,m=e(f[0],f[1]))),m!==u)l=0,m?(t.lineStart(),d=i(f,n),t.point(d[0],d[1])):(d=i(n,f),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&o^m){var v;g&a||!(v=i(f,n,!0))||(l=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&we(n,f)||t.point(f[0],f[1]),n=f,u=m,a=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function i(t,e,n){var i=ge(t),r=ge(e),o=[1,0,0],s=ye(i,r),u=ve(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var h=a*u/l,p=-a*c/l,d=ye(o,s),f=xe(o,h),m=xe(s,p);_e(f,m);var g=d,v=ve(f,g),y=ve(g,g),_=v*v-y*(ve(f,f)-1);if(!(0>_)){var x=Math.sqrt(_),b=xe(g,(-v-x)/y);if(_e(b,f),b=Ee(b),!n)return b;var E,w=t[0],C=e[0],T=t[1],M=e[1];w>C&&(E=w,w=C,C=E);var S=C-w,A=vo(S-Bo)<Io,k=A||Io>S;if(!A&&T>M&&(E=T,T=M,M=E),k?A?T+M>0^b[1]<(vo(b[0]-w)<Io?T:M):T<=b[1]&&b[1]<=M:S>Bo^(w<=b[0]&&b[0]<=C)){var L=xe(g,(-v+x)/y);return _e(L,f),[b,Ee(L)]}}}function r(e,n){var i=o?t:Bo-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=vo(a)>Io,u=gn(t,6*jo);return Re(e,n,u,o?[0,-t]:[-Bo,t-Bo])}function We(t,e,n,i){return function(r){var a,o=r.a,s=r.b,u=o.x,c=o.y,l=s.x,h=s.y,p=0,d=1,f=l-u,m=h-c;if(a=t-u,f||!(a>0)){if(a/=f,0>f){if(p>a)return;d>a&&(d=a)}else if(f>0){if(a>d)return;a>p&&(p=a)}if(a=n-u,f||!(0>a)){if(a/=f,0>f){if(a>d)return;a>p&&(p=a)}else if(f>0){if(p>a)return;d>a&&(d=a)}if(a=e-c,m||!(a>0)){if(a/=m,0>m){if(p>a)return;d>a&&(d=a)}else if(m>0){if(a>d)return;a>p&&(p=a)}if(a=i-c,m||!(0>a)){if(a/=m,0>m){if(a>d)return;a>p&&(p=a)}else if(m>0){if(p>a)return;d>a&&(d=a)}return p>0&&(r.a={x:u+p*f,y:c+p*m}),1>d&&(r.b={x:u+d*f,y:c+d*m}),r}}}}}}function Ve(t,e,n,i){function r(i,r){return vo(i[0]-t)<Io?r>0?0:3:vo(i[0]-n)<Io?r>0?2:1:vo(i[1]-e)<Io?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=g.length,i=t[1],r=0;n>r;++r)for(var a,o=1,s=g[r],u=s.length,c=s[0];u>o;++o)a=s[o],c[1]<=i?a[1]>i&&tt(c,a,t)>0&&++e:a[1]<=i&&tt(c,a,t)<0&&--e,c=a;return 0!==e}function c(a,s,u,c){var l=0,h=0;if(null==a||(l=r(a,u))!==(h=r(s,u))||o(a,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?i:e);while((l=(l+u+4)%4)!==h)}else c.point(s[0],s[1])}function l(r,a){return r>=t&&n>=r&&a>=e&&i>=a}function h(t,e){l(t,e)&&s.point(t,e)}function p(){k.point=f,g&&g.push(v=[]),C=!0,w=!1,b=E=NaN}function d(){m&&(f(y,_),x&&w&&S.rejoin(),m.push(S.buffer())),k.point=h,w&&s.lineEnd()}function f(t,e){t=Math.max(-Us,Math.min(Us,t)),e=Math.max(-Us,Math.min(Us,e));var n=l(t,e);if(g&&v.push([t,e]),C)y=t,_=e,x=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&w)s.point(t,e);else{var i={a:{x:b,y:E},b:{x:t,y:e}};A(i)?(w||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}b=t,E=e,w=n}var m,g,v,y,_,x,b,E,w,C,T,M=s,S=Oe(),A=We(t,e,n,i),k={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s=S,m=[],g=[],T=!0},polygonEnd:function(){s=M,m=no.merge(m);var e=u([t,i]),n=T&&e,r=m.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),r&&Pe(m,a,e,c,s),s.polygonEnd()),m=g=v=null}};return k}}function Ge(t){var e=0,n=Bo/3,i=un(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Bo/180,n=t[1]*Bo/180):[e/Bo*180,n/Bo*180]},r}function qe(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,nt((a-(t*t+n*n)*r*r)/(2*r))]},n}function Xe(){function t(t,e){js+=r*t-i*e,i=t,r=e}var e,n,i,r;qs.point=function(a,o){qs.point=t,e=i=a,n=r=o},qs.lineEnd=function(){t(e,n)}}function Ye(t,e){Hs>t&&(Hs=t),t>Vs&&(Vs=t),Ws>e&&(Ws=e),e>Gs&&(Gs=e)}function Ze(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=Ke(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Ke(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Je(t,e){As+=t,ks+=e,++Ls}function Qe(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);Ps+=o*(e+t)/2,Ns+=o*(n+i)/2,Ds+=o,Je(e=t,n=i)}var e,n;Ys.point=function(i,r){Ys.point=t,Je(e=i,n=r)}}function $e(){Ys.point=Je}function tn(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);Ps+=o*(i+t)/2,Ns+=o*(r+e)/2,Ds+=o,o=r*t-i*e,Rs+=o*(i+t),Is+=o*(r+e),Os+=3*o,Je(i=t,r=e)}var e,n,i,r;Ys.point=function(a,o){Ys.point=t,Je(e=i=a,n=r=o)},Ys.lineEnd=function(){t(e,n)}}function en(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Fo)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:_};return s}function nn(t){function e(t){return(s?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1]);
}function i(){_=NaN,C.point=a,e.lineStart()}function a(n,i){var a=ge([n,i]),o=t(n,i);r(_,x,y,b,E,w,_=o[0],x=o[1],y=n,b=a[0],E=a[1],w=a[2],s,e),e.point(_,x)}function o(){C.point=n,e.lineEnd()}function u(){i(),C.point=c,C.lineEnd=l}function c(t,e){a(h=t,p=e),d=_,f=x,m=b,g=E,v=w,C.point=a}function l(){r(_,x,y,b,E,w,d,f,h,m,g,v,s,e),C.lineEnd=o,o()}var h,p,d,f,m,g,v,y,_,x,b,E,w,C={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,s,u,c,l,h,p,d,f,m,g,v){var y=l-e,_=h-n,x=y*y+_*_;if(x>4*a&&g--){var b=s+d,E=u+f,w=c+m,C=Math.sqrt(b*b+E*E+w*w),T=Math.asin(w/=C),M=vo(vo(w)-1)<Io||vo(i-p)<Io?(i+p)/2:Math.atan2(E,b),S=t(M,T),A=S[0],k=S[1],L=A-e,P=k-n,N=_*L-y*P;(N*N/x>a||vo((y*L+_*P)/x-.5)>.3||o>s*d+u*f+c*m)&&(r(e,n,i,s,u,c,A,k,M,b/=C,E/=C,w,g,v),v.point(A,k),r(A,k,M,b,E,w,l,h,p,d,f,m,g,v))}}var a=.5,o=Math.cos(30*jo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function rn(t){var e=nn(function(e,n){return t([e*Ho,n*Ho])});return function(t){return cn(e(t))}}function an(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function sn(t){return un(function(){return t})()}function un(t){function e(t){return t=s(t[0]*jo,t[1]*jo),[t[0]*p+u,c-t[1]*p]}function n(t){return t=s.invert((t[0]-u)/p,(c-t[1])/p),t&&[t[0]*Ho,t[1]*Ho]}function i(){s=ke(o=pn(v,y,_),a);var t=a(m,g);return u=d-t[0]*p,c=f+t[1]*p,r()}function r(){return l&&(l.valid=!1,l=null),e}var a,o,s,u,c,l,h=nn(function(t,e){return t=a(t,e),[t[0]*p+u,c-t[1]*p]}),p=150,d=480,f=250,m=0,g=0,v=0,y=0,_=0,x=Fs,b=At,E=null,w=null;return e.stream=function(t){return l&&(l.valid=!1),l=cn(x(o,h(b(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(x=null==t?(E=t,Fs):He((E=+t)*jo),r()):E},e.clipExtent=function(t){return arguments.length?(w=t,b=t?Ve(t[0][0],t[0][1],t[1][0],t[1][1]):At,r()):w},e.scale=function(t){return arguments.length?(p=+t,i()):p},e.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],i()):[d,f]},e.center=function(t){return arguments.length?(m=t[0]%360*jo,g=t[1]%360*jo,i()):[m*Ho,g*Ho]},e.rotate=function(t){return arguments.length?(v=t[0]%360*jo,y=t[1]%360*jo,_=t.length>2?t[2]%360*jo:0,i()):[v*Ho,y*Ho,_*Ho]},no.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function cn(t){return on(t,function(e,n){t.point(e*jo,n*jo)})}function ln(t,e){return[t,e]}function hn(t,e){return[t>Bo?t-Fo:-Bo>t?t+Fo:t,e]}function pn(t,e,n){return t?e||n?ke(fn(t),mn(e,n)):fn(t):e||n?mn(e,n):hn}function dn(t){return function(e,n){return e+=t,[e>Bo?e-Fo:-Bo>e?e+Fo:e,n]}}function fn(t){var e=dn(t);return e.invert=dn(-t),e}function mn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*i+s*r;return[Math.atan2(u*a-l*o,s*i-c*r),nt(l*a+u*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*a-u*o;return[Math.atan2(u*a+c*o,s*i+l*r),nt(l*i-s*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var u=o*e;null!=r?(r=vn(n,r),a=vn(n,a),(o>0?a>r:r>a)&&(r+=o*Fo)):(r=t+o*Fo,a=t-.5*u);for(var c,l=r;o>0?l>a:a>l;l-=u)s.point((c=Ee([n,-i*Math.cos(l),-i*Math.sin(l)]))[0],c[1])}}function vn(t,e){var n=ge(e);n[0]-=t,be(n);var i=et(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Io)%(2*Math.PI)}function yn(t,e,n){var i=no.range(t,e-Io,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function _n(t,e,n){var i=no.range(t,e-Io,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function xn(t){return t.source}function bn(t){return t.target}function En(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),c=r*Math.sin(t),l=o*Math.cos(n),h=o*Math.sin(n),p=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(p),f=p?function(t){var e=Math.sin(t*=p)*d,n=Math.sin(p-t)*d,i=n*u+e*l,r=n*c+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Ho,Math.atan2(o,Math.sqrt(i*i+r*r))*Ho]}:function(){return[t*Ho,e*Ho]};return f.distance=p,f}function wn(){function t(t,r){var a=Math.sin(r*=jo),o=Math.cos(r),s=vo((t*=jo)-e),u=Math.cos(s);Zs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*u)*s),n*a+i*o*u),e=t,n=a,i=o}var e,n,i;Ks.point=function(r,a){e=r*jo,n=Math.sin(a*=jo),i=Math.cos(a),Ks.point=t},Ks.lineEnd=function(){Ks.point=Ks.lineEnd=_}}function Cn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function Tn(t,e){function n(t,e){o>0?-zo+Io>e&&(e=-zo+Io):e>zo-Io&&(e=zo-Io);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Bo/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=$(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-zo]},n):Sn}function Mn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return vo(r)<Io?ln:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-$(r)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(Bo/4+e/2))]}function An(t){var e,n=sn(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Bo*i(),u=r();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(Bo/4+e/2)),-t]}function Ln(t){return t[0]}function Pn(t){return t[1]}function Nn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&tt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function Rn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function In(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,u=t[1],c=n[1],l=e[1]-u,h=i[1]-c,p=(s*(u-c)-h*(r-a))/(h*o-s*l);return[r+p*o,u+p*l]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Bn(){ri(this),this.edge=this.site=this.circle=null}function Fn(t){var e=uu.pop()||new Bn;return e.site=t,e}function Un(t){Zn(t),au.remove(t),uu.push(t),ri(t)}function zn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Un(t);for(var u=a;u.circle&&vo(n-u.circle.x)<Io&&vo(i-u.circle.cy)<Io;)a=u.P,s.unshift(u),Un(u),u=a;s.unshift(u),Zn(u);for(var c=o;c.circle&&vo(n-c.circle.x)<Io&&vo(i-c.circle.cy)<Io;)o=c.N,s.push(c),Un(c),c=o;s.push(c),Zn(c);var l,h=s.length;for(l=1;h>l;++l)c=s[l],u=s[l-1],ei(c.edge,u.site,c.site,r);u=s[0],c=s[h-1],c.edge=$n(u.site,c.site,null,r),Yn(u),Yn(c)}function jn(t){for(var e,n,i,r,a=t.x,o=t.y,s=au._;s;)if(i=Hn(s,o)-a,i>Io)s=s.L;else{if(r=a-Wn(s,o),!(r>Io)){i>-Io?(e=s.P,n=s):r>-Io?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(au.insert(e,u),e||n){if(e===n)return Zn(e),n=Fn(e.site),au.insert(u,n),u.edge=n.edge=$n(e.site,u.site),Yn(e),void Yn(n);if(!n)return void(u.edge=$n(e.site,u.site));Zn(e),Zn(n);var c=e.site,l=c.x,h=c.y,p=t.x-l,d=t.y-h,f=n.site,m=f.x-l,g=f.y-h,v=2*(p*g-d*m),y=p*p+d*d,_=m*m+g*g,x={x:(g*y-d*_)/v+l,y:(p*_-m*y)/v+h};ei(n.edge,c,f,x),u.edge=$n(c,t,null,x),n.edge=$n(t,f,null,x),Yn(e),Yn(n)}}function Hn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var l=s-i,h=1/a-1/c,p=l/c;return h?(-p+Math.sqrt(p*p-2*h*(l*l/(-2*c)-u+c/2+r-a/2)))/h+i:(i+s)/2}function Wn(t,e){var n=t.N;if(n)return Hn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Vn(t){this.site=t,this.edges=[]}function Gn(t){for(var e,n,i,r,a,o,s,u,c,l,h=t[0][0],p=t[1][0],d=t[0][1],f=t[1][1],m=ru,g=m.length;g--;)if(a=m[g],a&&a.prepare())for(s=a.edges,u=s.length,o=0;u>o;)l=s[o].end(),i=l.x,r=l.y,c=s[++o%u].start(),e=c.x,n=c.y,(vo(i-e)>Io||vo(r-n)>Io)&&(s.splice(o,0,new ni(ti(a.site,l,vo(i-h)<Io&&f-r>Io?{x:h,y:vo(e-h)<Io?n:f}:vo(r-f)<Io&&p-i>Io?{x:vo(n-f)<Io?e:p,y:f}:vo(i-p)<Io&&r-d>Io?{x:p,y:vo(e-p)<Io?n:d}:vo(r-d)<Io&&i-h>Io?{x:vo(n-d)<Io?e:h,y:d}:null),a.site,null)),++u)}function qn(t,e){return e.angle-t.angle}function Xn(){ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,u=i.x-o,c=i.y-s,l=a.x-o,h=a.y-s,p=2*(u*h-c*l);if(!(p>=-Oo)){var d=u*u+c*c,f=l*l+h*h,m=(h*d-c*f)/p,g=(u*f-l*d)/p,h=g+s,v=cu.pop()||new Xn;v.arc=t,v.site=r,v.x=m+o,v.y=h+Math.sqrt(m*m+g*g),v.cy=h,t.circle=v;for(var y=null,_=su._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}su.insert(y,v),y||(ou=v)}}}}function Zn(t){var e=t.circle;e&&(e.P||(ou=e.N),su.remove(e),cu.push(e),ri(e),t.circle=null)}function Kn(t){for(var e,n=iu,i=We(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Jn(e,t)||!i(e)||vo(e.a.x-e.b.x)<Io&&vo(e.a.y-e.b.y)<Io)&&(e.a=e.b=null,n.splice(r,1))}function Jn(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,h=t.r,p=l.x,d=l.y,f=h.x,m=h.y,g=(p+f)/2,v=(d+m)/2;if(m===d){if(o>g||g>=s)return;if(p>f){if(a){if(a.y>=c)return}else a={x:g,y:u};n={x:g,y:c}}else{if(a){if(a.y<u)return}else a={x:g,y:c};n={x:g,y:u}}}else if(i=(p-f)/(m-d),r=v-i*g,-1>i||i>1)if(p>f){if(a){if(a.y>=c)return}else a={x:(u-r)/i,y:u};n={x:(c-r)/i,y:c}}else{if(a){if(a.y<u)return}else a={x:(c-r)/i,y:c};n={x:(u-r)/i,y:u}}else if(m>d){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function $n(t,e,n,i){var r=new Qn(t,e);return iu.push(r),n&&ei(r,t,e,n),i&&ei(r,e,t,i),ru[t.i].edges.push(new ni(r,t,e)),ru[e.i].edges.push(new ni(r,e,t)),r}function ti(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,iu.push(i),i}function ei(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ni(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ii(){this._=null}function ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ai(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function si(t){for(;t.L;)t=t.L;return t}function ui(t,e){var n,i,r,a=t.sort(ci).pop();for(iu=[],ru=new Array(t.length),au=new ii,su=new ii;;)if(r=ou,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(ru[a.i]=new Vn(a),jn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;zn(r.arc)}e&&(Kn(e),Gn(e));var o={cells:ru,edges:iu};return au=su=iu=ru=null,o}function ci(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function hi(t){return t.x}function pi(t){return t.y}function di(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fi(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),u=e.nodes;u[0]&&fi(t,u[0],n,i,o,s),u[1]&&fi(t,u[1],o,i,r,s),u[2]&&fi(t,u[2],n,s,o,a),u[3]&&fi(t,u[3],o,s,r,a)}}function mi(t,e,n,i,r,a,o){var s,u=1/0;return function c(t,l,h,p,d){if(!(l>a||h>o||i>p||r>d)){if(f=t.point){var f,m=e-f[0],g=n-f[1],v=m*m+g*g;if(u>v){var y=Math.sqrt(u=v);i=e-y,r=n-y,a=e+y,o=n+y,s=f}}for(var _=t.nodes,x=.5*(l+p),b=.5*(h+d),E=e>=x,w=n>=b,C=w<<1|E,T=C+4;T>C;++C)if(t=_[3&C])switch(3&C){case 0:c(t,l,h,x,b);break;case 1:c(t,x,h,p,b);break;case 2:c(t,l,b,x,d);break;case 3:c(t,x,b,p,d)}}}(t,i,r,a,o),s}function gi(t,e){t=no.rgb(t),e=no.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+a*t))+bt(Math.round(i+o*t))+bt(Math.round(r+s*t))}}function vi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=xi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function yi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _i(t,e){var n,i,r,a=hu.lastIndex=pu.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=hu.exec(t))&&(i=pu.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:yi(n,i)})),a=pu.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function xi(t,e){for(var n,i=no.interpolators.length;--i>=0&&!(n=no.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(xi(t[n],e[n]));for(;a>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function Ei(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function wi(t){return function(e){return 1-t(1-e)}}function Ci(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ti(t){return t*t}function Mi(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ai(t){return function(e){return Math.pow(e,t)}}function ki(t){return 1-Math.cos(t*zo)}function Li(t){return Math.pow(2,10*(t-1))}function Pi(t){return 1-Math.sqrt(1-t*t)}function Ni(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fo*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Fo/e)}}function Di(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ri(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ii(t,e){t=no.hcl(t),e=no.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ht(n+a*t,i+o*t,r+s*t)+""}}function Oi(t,e){t=no.hsl(t),e=no.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ct(n+a*t,i+o*t,r+s*t)+""}}function Bi(t,e){t=no.lab(t),e=no.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return dt(n+a*t,i+o*t,r+s*t)+""}}function Fi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ui(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=zi(e,n),a=ji(Hi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ho,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Ho:0}function zi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(zi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Wi(t,e){var n,i=[],r=[],a=no.transform(t),o=no.transform(e),s=a.translate,u=o.translate,c=a.rotate,l=o.rotate,h=a.skew,p=o.skew,d=a.scale,f=o.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:yi(s[0],u[0])},{i:3,x:yi(s[1],u[1])})):u[0]||u[1]?i.push("translate("+u+")"):i.push(""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:yi(c,l)})):l&&i.push(i.pop()+"rotate("+l+")"),h!=p?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:yi(h,p)}):p&&i.push(i.pop()+"skewX("+p+")"),d[0]!=f[0]||d[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:yi(d[0],f[0])},{i:n-2,x:yi(d[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=r.length,function(t){for(var e,a=-1;++a<n;)i[(e=r[a]).i]=e.x(t);return i.join("")}}function Vi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Gi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function qi(t){for(var e=t.source,n=t.target,i=Yi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Xi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yi(t,e){if(t===e)return t;for(var n=Xi(t),i=Xi(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function Zi(t){t.fixed|=2}function Ki(t){t.fixed&=-7}function Ji(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Qi(t){t.fixed&=-5}function $i(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,u=-1;++u<s;)a=o[u],null!=a&&($i(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function tr(t,e){return no.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=or,t}function er(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function nr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function ir(t){return t.children}function rr(t){return t.value}function ar(t,e){return e.value-t.value}function or(t){return no.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function sr(t){return t.x}function ur(t){return t.y}function cr(t,e,n){t.y0=e,t.y=n}function lr(t){return no.range(t.length)}function hr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function pr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function dr(t){return t.reduce(fr,0)}function fr(t,e){return t+e[1]}function mr(t,e){return gr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function vr(t){return[no.min(t),no.max(t)]}function yr(t,e){return t.value-e.value}function _r(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function xr(t,e){t._pack_next=e,e._pack_prev=t}function br(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Er(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),p=Math.min(t.y-t.r,p),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(c=n.length)){var n,i,r,a,o,s,u,c,l=1/0,h=-(1/0),p=1/0,d=-(1/0);if(n.forEach(wr),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(a=n[2],Mr(i,r,a),e(a),_r(i,a),i._pack_prev=a,_r(a,r),r=i._pack_next,o=3;c>o;o++){Mr(i,r,a=n[o]);var f=0,m=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,m++)if(br(s,a)){f=1;break}if(1==f)for(u=i._pack_prev;u!==s._pack_prev&&!br(u,a);u=u._pack_prev,g++);f?(g>m||m==g&&r.r<i.r?xr(i,r=s):xr(i=u,r),o--):(_r(i,a),r=a,e(a))}var v=(l+h)/2,y=(p+d)/2,_=0;for(o=0;c>o;o++)a=n[o],a.x-=v,a.y-=y,_=Math.max(_,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=_,n.forEach(Cr)}}function wr(t){t._pack_next=t._pack_prev=t}function Cr(t){delete t._pack_next,delete t._pack_prev}function Tr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Tr(r[a],e,n,i)}function Mr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var u=.5+(i-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+u*r+c*a,n.y=t.y+u*a-c*r}else n.x=t.x+i,n.y=t.y}function Sr(t,e){return t.parent==e.parent?1:2}function Ar(t){var e=t.children;return e.length?e[0]:t.t}function kr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Lr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Pr(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Nr(t,e,n){return t.a.parent===e.parent?t.a:n}function Dr(t){return 1+no.max(t,function(t){return t.y})}function Rr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ir(t){var e=t.children;return e&&e.length?Ir(e[0]):t}function Or(t){var e,n=t.children;return n&&(e=n.length)?Or(n[e-1]):t}function Br(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Fr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Ur(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function zr(t){return t.rangeExtent?t.rangeExtent():Ur(t.range())}function jr(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Hr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Wr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:wu}function Vr(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=no.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Gr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Vr:jr,u=i?Gi:Vi;return o=r(t,e,u,n),s=r(e,t,u,xi),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return Zr(t,e)},a.tickFormat=function(e,n){return Kr(t,e,n)},a.nice=function(e){return Xr(t,e),r()},a.copy=function(){return Gr(t,e,n,i)},r()}function qr(t,e){return no.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Xr(t,e){return Hr(t,Wr(Yr(t,e)[2]))}function Yr(t,e){null==e&&(e=10);var n=Ur(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Zr(t,e){return no.range.apply(no,Yr(t,e))}function Kr(t,e,n){var i=Yr(t,e);if(n){var r=hs.exec(n);if(r.shift(),"s"===r[8]){var a=no.formatPrefix(Math.max(vo(i[0]),vo(i[1])));return r[7]||(r[7]="."+Jr(a.scale(i[2]))),r[8]="f",n=no.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Qr(r[8],i)),n=r.join("")}else n=",."+Jr(i[2])+"f";return no.format(n)}function Jr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Qr(t,e){var n=Jr(e[2]);return t in Cu?Math.abs(n-Jr(Math.max(vo(e[0]),vo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function $r(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Hr(i.map(r),n?Math:Mu);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Ur(i),o=[],s=t[0],u=t[1],c=Math.floor(r(s)),l=Math.ceil(r(u)),h=e%1?2:e;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var p=1;h>p;p++)o.push(a(c)*p);o.push(a(c))}else for(o.push(a(c));c++<l;)for(var p=h-1;p>0;p--)o.push(a(c)*p);for(c=0;o[c]<s;c++);for(l=o.length;o[l-1]>u;l--);o=o.slice(c,l)}return o},o.tickFormat=function(t,e){if(!arguments.length)return Tu;arguments.length<2?e=Tu:"function"!=typeof e&&(e=no.format(e));var i,s=Math.max(.1,t/o.ticks().length),u=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(u(r(t)+i))<=s?e(t):""}},o.copy=function(){return $r(t.copy(),e,n,i)},qr(o,t)}function ta(t,e,n){function i(e){return t(r(e))}var r=ea(e),a=ea(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Zr(n,t)},i.tickFormat=function(t,e){return Kr(n,t,e)},i.nice=function(t){return i.domain(Xr(n,t))},i.exponent=function(o){return arguments.length?(r=ea(e=o),a=ea(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ta(t.copy(),e,n)},qr(i,t)}function ea(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function na(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%a.length]}function i(e,n){return no.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],c=r[1],l=t.length<2?(u=(u+c)/2,0):(c-u)/(t.length-1+s);return a=i(u+l*s/2,l),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],c=r[1],l=t.length<2?(u=c=Math.round((u+c)/2),0):(c-u)/(t.length-1+s)|0;return a=i(u+Math.round(l*s/2+(c-u-(t.length-1+s)*l)/2),l),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=r[1]<r[0],l=r[c-0],h=r[1-c],p=(h-l)/(t.length-s+2*u);return a=i(l+p*u,p),c&&a.reverse(),o=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=r[1]<r[0],l=r[c-0],h=r[1-c],p=Math.floor((h-l)/(t.length-s+2*u));return a=i(l+Math.round((h-l-(t.length-s)*p)/2),p),c&&a.reverse(),o=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Ur(e.a[0])},n.copy=function(){return na(t,e)},n.domain(t)}function ia(e,r){function a(){var t=0,n=r.length;for(s=[];++t<n;)s[t-1]=no.quantile(e,t/n);return o}function o(t){return isNaN(t=+t)?void 0:r[no.bisect(s,t)]}var s;return o.domain=function(r){return arguments.length?(e=r.map(n).filter(i).sort(t),a()):e},o.range=function(t){return arguments.length?(r=t,a()):r},o.quantiles=function(){return s},o.invertExtent=function(t){return t=r.indexOf(t),0>t?[NaN,NaN]:[t>0?s[t-1]:e[0],t<s.length?s[t]:e[e.length-1]]},o.copy=function(){return ia(e,r)},a()}function ra(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/a+t,[e,e+1/a]},i.copy=function(){return ra(t,e,n)},r()}function aa(t,e){function n(n){return n>=n?e[no.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return aa(t,e)},n}function oa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Zr(t,e)},e.tickFormat=function(e,n){return Kr(t,e,n)},e.copy=function(){return oa(t)},e}function sa(){return 0}function ua(t){return t.innerRadius}function ca(t){return t.outerRadius}function la(t){return t.startAngle}function ha(t){return t.endAngle}function pa(t){return t&&t.padAngle}function da(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function fa(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),u=s*o,c=-s*a,l=t[0]+u,h=t[1]+c,p=e[0]+u,d=e[1]+c,f=(l+p)/2,m=(h+d)/2,g=p-l,v=d-h,y=g*g+v*v,_=n-i,x=l*d-p*h,b=(0>v?-1:1)*Math.sqrt(_*_*y-x*x),E=(x*v-g*b)/y,w=(-x*g-v*b)/y,C=(x*v+g*b)/y,T=(-x*g+v*b)/y,M=E-f,S=w-m,A=C-f,k=T-m;return M*M+S*S>A*A+k*k&&(E=C,w=T),[[E-u,w-c],[E*n/_,w*n/_]]}function ma(t){function e(e){function o(){c.push("M",a(t(l),s))}for(var u,c=[],l=[],h=-1,p=e.length,d=St(n),f=St(i);++h<p;)r.call(this,u=e[h],h)?l.push([+d.call(this,u,h),+f.call(this,u,h)]):l.length&&(o(),l=[]);return l.length&&o(),c.length?c.join(""):null}var n=Ln,i=Pn,r=Le,a=ga,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Nu.get(t)||ga).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function va(t){return ga(t)+"Z"}function ya(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function _a(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function xa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function ba(t,e){return t.length<4?ga(t):t[1]+Ca(t.slice(1,-1),Ta(t,e))}function Ea(t,e){return t.length<3?ga(t):t[0]+Ca((t.push(t[0]),t),Ta([t[t.length-2]].concat(t,[t[1]]),e))}function wa(t,e){return t.length<3?ga(t):t[0]+Ca(t,Ta(t,e))}function Ca(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,u=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,u++)a=t[u],s=e[c],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var l=t[u];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+l[0]+","+l[1]}return i}function Ta(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,u=t.length;++s<u;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Ma(t){if(t.length<3)return ga(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],u=[r,",",a,"L",La(Iu,o),",",La(Iu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Pa(u,o,s);return t.pop(),u.push("L",i),u.join("")}function Sa(t){if(t.length<4)return ga(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(La(Iu,a)+","+La(Iu,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Pa(n,a,o);return n.join("")}function Aa(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[La(Iu,o),",",La(Iu,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Pa(e,o,s);return e.join("")}function ka(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,u=t[n][1]-o,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*u);return Ma(t)}function La(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Pa(t,e,n){t.push("C",La(Du,e),",",La(Du,n),",",La(Ru,e),",",La(Ru,n),",",La(Iu,e),",",La(Iu,n))}function Na(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Da(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Na(r,a);++e<n;)i[e]=(o+(o=Na(r=a,a=t[e+1])))/2;return i[e]=o,i}function Ra(t){for(var e,n,i,r,a=[],o=Da(t),s=-1,u=t.length-1;++s<u;)e=Na(t[s],t[s+1]),vo(e)<Io?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Ia(t){return t.length<3?ga(t):t[0]+Ca(t,Ra(t))}function Oa(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-zo,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ba(t){function e(e){function u(){m.push("M",s(t(v),h),l,c(t(g.reverse()),h),"Z")}for(var p,d,f,m=[],g=[],v=[],y=-1,_=e.length,x=St(n),b=St(r),E=n===i?function(){
return d}:St(i),w=r===a?function(){return f}:St(a);++y<_;)o.call(this,p=e[y],y)?(g.push([d=+x.call(this,p,y),f=+b.call(this,p,y)]),v.push([+E.call(this,p,y),+w.call(this,p,y)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),m.length?m.join(""):null}var n=Ln,i=Ln,r=0,a=Pn,o=Le,s=ga,u=s.key,c=s,l="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Nu.get(t)||ga).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Fa(t){return t.radius}function Ua(t){return[t.x,t.y]}function za(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-zo;return[n*Math.cos(i),n*Math.sin(i)]}}function ja(){return 64}function Ha(){return"circle"}function Wa(t){var e=Math.sqrt(t/Bo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Va(t,e,n){return Eo(t,ju),t.namespace=e,t.id=n,t}function Ga(t,e,n,i){var r=t.id,a=t.namespace;return j(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function qa(t){return null==t&&(t=""),function(){this.textContent=t}}function Xa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ya(t,e,n,i,r){var a=t[n]||(t[n]={active:0,count:0}),o=a[i];if(!o){var s=r.time;o=a[i]={tween:new u,time:s,delay:r.delay,duration:r.duration,ease:r.ease},r=null,++a.count,no.timer(function(r){function u(n){return a.active>i?l(!1):(a.active=i,o.event&&o.event.start.call(t,d,e),o.tween.forEach(function(n,i){(i=i.call(t,d,e))&&g.push(i)}),p=o.ease,h=o.duration,void no.timer(function(){return m.c=c(n||1)?Le:c,1},0,s))}function c(e){if(a.active!==i)return l(!1);for(var n=e/h,r=p(n),o=g.length;o>0;)g[--o].call(t,r);return n>=1?l(!0):void 0}function l(r){return o.event&&o.event[r?"end":"interrupt"].call(t,d,e),--a.count?delete a[i]:delete t[n],1}var h,p,d=t.__data__,f=o.delay,m=us,g=[];return m.t=f+s,r>=f?u(r-f):void(m.c=u)},0,s)}}function Za(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ka(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Ja(t){return t.toISOString()}function Qa(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=no.bisect(Ku,r);return a==Ku.length?[e.year,Yr(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Ku[a-1]<Ku[a]/r?a-1:a]:[$u,Yr(t,n)[2]]}return i.invert=function(e){return $a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map($a)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,$a(+n+1),e).length}var a=i.domain(),o=Ur(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(Hr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=$a(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=$a(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Ur(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],$a(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Qa(t.copy(),e,n)},qr(i,t)}function $a(t){return new Date(t)}function to(t){return JSON.parse(t.responseText)}function eo(t){var e=ao.createRange();return e.selectNode(ao.body),e.createContextualFragment(t.responseText)}var no={version:"3.5.0"};Date.now||(Date.now=function(){return+new Date});var io=[].slice,ro=function(t){return io.call(t)},ao=document,oo=ao.documentElement,so=window;try{ro(oo.childNodes)[0].nodeType}catch(uo){ro=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{ao.createElement("div").style.setProperty("opacity",0,"")}catch(co){var lo=so.Element.prototype,ho=lo.setAttribute,po=lo.setAttributeNS,fo=so.CSSStyleDeclaration.prototype,mo=fo.setProperty;lo.setAttribute=function(t,e){ho.call(this,t,e+"")},lo.setAttributeNS=function(t,e,n){po.call(this,t,e,n+"")},fo.setProperty=function(t,e,n){mo.call(this,t,e+"",n)}}no.ascending=t,no.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},no.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},no.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},no.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},no.sum=function(t,e){var n,r=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)i(n=+t[o])&&(r+=n);else for(;++o<a;)i(n=+e.call(t,t[o],o))&&(r+=n);return r},no.mean=function(t,e){var r,a=0,o=t.length,s=-1,u=o;if(1===arguments.length)for(;++s<o;)i(r=n(t[s]))?a+=r:--u;else for(;++s<o;)i(r=n(e.call(t,t[s],s)))?a+=r:--u;return u?a/u:void 0},no.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},no.median=function(e,r){var a,o=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)i(a=n(e[u]))&&o.push(a);else for(;++u<s;)i(a=n(r.call(e,e[u],u)))&&o.push(a);return o.length?no.quantile(o.sort(t),.5):void 0};var go=r(t);no.bisectLeft=go.left,no.bisect=no.bisectRight=go.right,no.bisector=function(e){return r(1===e.length?function(n,i){return t(e(n),i)}:e)},no.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,2>a&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},no.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},no.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(0>i?0:i);i>n;)a[n]=[e=r,r=t[++n]];return a},no.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=no.min(arguments,a),n=new Array(e);++t<e;)for(var i,r=-1,o=n[t]=new Array(i);++r<i;)o[r]=arguments[r][t];return n},no.transpose=function(t){return no.zip.apply(no,t)},no.keys=function(t){var e=[];for(var n in t)e.push(n);return e},no.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},no.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},no.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var vo=Math.abs;no.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=o(vo(n)),s=-1;if(t*=a,e*=a,n*=a,0>n)for(;(i=t+n*++s)>e;)r.push(i/a);else for(;(i=t+n*++s)<e;)r.push(i/a);return r},no.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var yo="__proto__",_o="\x00";s(u,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:p,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:l(e),value:this._[e]});return t},size:f,empty:m,forEach:function(t){for(var e in this._)t.call(this,l(e),this._[e])}}),no.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var c,l,h,p,d=-1,f=o.length,m=a[s++],g=new u;++d<f;)(p=g.get(c=m(l=o[d])))?p.push(l):g.set(c,[l]);return e?(l=e(),h=function(n,i){l.set(n,t(e,i,s))}):(l={},h=function(n,i){l[n]=t(e,i,s)}),g.forEach(h),l}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(no.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},no.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},s(g,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:p,values:d,size:f,empty:m,forEach:function(t){for(var e in this._)t.call(this,l(e))}}),no.behavior={},no.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=v(t,e,e[n]);return t};var xo=["webkit","ms","moz","Moz","o","O"];no.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},no.event=null,no.requote=function(t){return t.replace(bo,"\\$&")};var bo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Eo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},wo=function(t,e){return e.querySelector(t)},Co=function(t,e){return e.querySelectorAll(t)},To=oo.matches||oo[y(oo,"matchesSelector")],Mo=function(t,e){return To.call(t,e)};"function"==typeof Sizzle&&(wo=function(t,e){return Sizzle(t,e)[0]||null},Co=Sizzle,Mo=Sizzle.matchesSelector),no.selection=function(){return Lo};var So=no.selection.prototype=[];So.select=function(t){var e,n,i,r,a=[];t=M(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var u=-1,c=i.length;++u<c;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return T(a)},So.selectAll=function(t){var e,n,i=[];t=S(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,u=o.length;++s<u;)(n=o[s])&&(i.push(e=ro(t.call(n,n.__data__,s,r))),e.parentNode=n);return T(i)};var Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};no.ns={prefix:Ao,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Ao.hasOwnProperty(n)?{space:Ao[n],local:t}:t}},So.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=no.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},So.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!L(t[r]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},So.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(R(n,t[n],e));return this}if(2>i)return so.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(R(t,e,n))},So.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},So.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},So.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},So.append=function(t){return t=O(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},So.insert=function(t,e){return t=O(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},So.remove=function(){return this.each(B)},So.data=function(t,e){function n(t,n){var i,r,a,o=t.length,h=n.length,p=Math.min(o,h),d=new Array(h),f=new Array(h),m=new Array(o);if(e){var g,v=new u,y=new Array(o);for(i=-1;++i<o;)v.has(g=e.call(r=t[i],r.__data__,i))?m[i]=r:v.set(g,r),y[i]=g;for(i=-1;++i<h;)(r=v.get(g=e.call(n,a=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=a):f[i]=F(a),v.set(g,!0);for(i=-1;++i<o;)v.get(y[i])!==!0&&(m[i]=t[i])}else{for(i=-1;++i<p;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):f[i]=F(a);for(;h>i;++i)f[i]=F(n[i]);for(;o>i;++i)m[i]=t[i]}f.update=d,f.parentNode=d.parentNode=m.parentNode=t.parentNode,s.push(f),c.push(d),l.push(m)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=H([]),c=T([]),l=T([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return c.enter=function(){return s},c.exit=function(){return l},c},So.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},So.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=U(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return T(r)},So.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},So.sort=function(t){t=z.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},So.each=function(t){return j(this,function(e,n,i){t.call(e,e.__data__,n,i)})},So.call=function(t){var e=ro(arguments);return t.apply(e[0]=this,e),this},So.empty=function(){return!this.node()},So.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},So.size=function(){var t=0;return j(this,function(){++t}),t};var ko=[];no.selection.enter=H,no.selection.enter.prototype=ko,ko.append=So.append,ko.empty=So.empty,ko.node=So.node,ko.call=So.call,ko.size=So.size,ko.select=function(t){for(var e,n,i,r,a,o=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,l=r.length;++c<l;)(a=r[c])?(e.push(i[c]=n=t.call(r.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return T(o)},ko.insert=function(t,e){return arguments.length<2&&(e=W(this)),So.insert.call(this,t,e)},So.transition=function(t){for(var e,n,i=Bu||++Hu,r=Xa(t),a=[],o=Fu||{time:Date.now(),ease:Si,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(n=c[l])&&Ya(n,l,r,i,o),e.push(n)}return Va(a,r,i)},So.interrupt=function(t){var e=Xa(t);return this.each(function(){var t=this[e];t&&++t.active})},no.select=function(t){var e=["string"==typeof t?wo(t,ao):t];return e.parentNode=oo,T([e])},no.selectAll=function(t){var e=ro("string"==typeof t?Co(t,ao):t);return e.parentNode=oo,T([e])};var Lo=no.select(oo);So.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(G(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(G(t,e,n))};var Po=no.map({mouseenter:"mouseover",mouseleave:"mouseout"});Po.forEach(function(t){"on"+t in ao&&Po.remove(t)});var No="onselectstart"in ao?null:y(oo.style,"userSelect"),Do=0;no.mouse=function(t){return Z(t,w())};var Ro=/WebKit/.test(so.navigator.userAgent)?-1:0;no.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,a=e.length;a>r;++r)if((i=e[r]).identifier===n)return Z(t,i)},no.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function e(t,e,r,a,o){return function(){function s(){var t,n,i=e(p,m);i&&(t=i[0]-_[0],n=i[1]-_[1],f|=t|n,_=i,d({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:t,dy:n}))}function u(){e(p,m)&&(v.on(a+g,null).on(o+g,null),y(f&&no.event.target===h),d({type:"dragend"}))}var c,l=this,h=no.event.target,p=l.parentNode,d=n.of(l,arguments),f=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=no.select(r()).on(a+g,s).on(o+g,u),y=Y(),_=e(p,m);i?(c=i.apply(l,arguments),c=[c.x-_[0],c.y-_[1]]):c=[0,0],d({type:"dragstart"})}}var n=C(t,"drag","dragstart","dragend"),i=null,r=e(_,no.mouse,Q,"mousemove","mouseup"),a=e(K,no.touch,J,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},no.rebind(t,n,"on")},no.touches=function(t,e){return arguments.length<2&&(e=w().touches),e?ro(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Io=1e-6,Oo=Io*Io,Bo=Math.PI,Fo=2*Bo,Uo=Fo-Io,zo=Bo/2,jo=Bo/180,Ho=180/Bo,Wo=Math.SQRT2,Vo=2,Go=4;no.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=rt(m),o=a/(Vo*p)*(n*at(Wo*e+m)-it(m));return[i+o*c,r+o*l,a*n/rt(Wo*e+m)]}return[i+t*c,r+t*l,a*Math.exp(Wo*e)]}var i=t[0],r=t[1],a=t[2],o=e[0],s=e[1],u=e[2],c=o-i,l=s-r,h=c*c+l*l,p=Math.sqrt(h),d=(u*u-a*a+Go*h)/(2*a*Vo*p),f=(u*u-a*a-Go*h)/(2*u*Vo*p),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(f*f+1)-f),v=g-m,y=(v||Math.log(u/a))/Wo;return n.duration=1e3*y,n},no.behavior.zoom=function(){function t(t){t.on(L,l).on(Yo+".zoom",p).on("dblclick.zoom",d).on(D,h)}function e(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function i(t){T.k=Math.max(S[0],Math.min(S[1],t))}function r(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function a(e,n,a,o){e.__chart__={x:T.x,y:T.y,k:T.k},i(Math.pow(2,o)),r(m=n,a),e=no.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function o(){x&&x.domain(_.range().map(function(t){return(t-T.x)/T.k}).map(_.invert)),w&&w.domain(b.range().map(function(t){return(t-T.y)/T.k}).map(b.invert))}function s(t){k++||t({type:"zoomstart"})}function u(t){o(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function c(t){--k||t({type:"zoomend"}),m=null}function l(){function t(){l=1,r(no.mouse(i),p),u(o)}function n(){h.on(P,null).on(N,null),d(l&&no.event.target===a),c(o)}var i=this,a=no.event.target,o=R.of(i,arguments),l=0,h=no.select(so).on(P,t).on(N,n),p=e(no.mouse(i)),d=Y();V(i),s(o)}function h(){function t(){var t=no.touches(f);return d=T.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=no.event.target;no.select(e).on(x,o).on(b,p),w.push(e);for(var n=no.event.changedTouches,i=0,r=n.length;r>i;++i)g[n[i].identifier]=null;var s=t(),u=Date.now();if(1===s.length){if(500>u-y){var c=s[0];a(f,c,g[c.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),E()}y=u}else if(s.length>1){var c=s[0],l=s[1],h=c[0]-l[0],d=c[1]-l[1];v=h*h+d*d}}function o(){var t,e,n,a,o=no.touches(f);V(f);for(var s=0,c=o.length;c>s;++s,a=null)if(n=o[s],a=g[n.identifier]){if(e)break;t=n,e=a}if(a){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,h=v&&Math.sqrt(l/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],i(h*d)}y=null,r(t,e),u(m)}function p(){if(no.event.touches.length){for(var e=no.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var r in g)return void t()}no.selectAll(w).on(_,null),C.on(L,l).on(D,h),M(),c(m)}var d,f=this,m=R.of(f,arguments),g={},v=0,_=".zoom-"+no.event.changedTouches[0].identifier,x="touchmove"+_,b="touchend"+_,w=[],C=no.select(f),M=Y();n(),s(m),C.on(L,null).on(D,n)}function p(){var t=R.of(this,arguments);v?clearTimeout(v):(f=e(m=g||no.mouse(this)),V(this),s(t)),v=setTimeout(function(){v=null,c(t)},50),E(),i(Math.pow(2,.002*qo())*T.k),r(m,f),u(t)}function d(){var t=no.mouse(this),n=Math.log(T.k)/Math.LN2;a(this,t,e(t),no.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var f,m,g,v,y,_,x,b,w,T={x:0,y:0,k:1},M=[960,500],S=Xo,A=250,k=0,L="mousedown.zoom",P="mousemove.zoom",N="mouseup.zoom",D="touchstart.zoom",R=C(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=T;Bu?no.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=M[0],i=M[1],r=m?m[0]:n/2,a=m?m[1]:i/2,o=no.interpolateZoom([(r-T.x)/T.k,(a-T.y)/T.k,n/T.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=T={x:r-i[0]*s,y:a-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=T,s(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},o(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:+e},o(),t):T.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Xo:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(x=e,_=e.copy(),T={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(w=e,b=e.copy(),T={x:0,y:0,k:1},t):w},no.rebind(t,R,"on")};var qo,Xo=[0,1/0],Yo="onwheel"in ao?(qo=function(){return-no.event.deltaY*(no.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ao?(qo=function(){return no.event.wheelDelta},"mousewheel"):(qo=function(){return-no.event.detail},"MozMousePixelScroll");no.color=st,st.prototype.toString=function(){return this.rgb()+""},no.hsl=ut;var Zo=ut.prototype=new st;Zo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},Zo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},Zo.rgb=function(){return ct(this.h,this.s,this.l)},no.hcl=lt;var Ko=lt.prototype=new st;Ko.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?t:1)))},Ko.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?t:1)))},Ko.rgb=function(){return ht(this.h,this.c,this.l).rgb()},no.lab=pt;var Jo=18,Qo=.95047,$o=1,ts=1.08883,es=pt.prototype=new st;es.brighter=function(t){return new pt(Math.min(100,this.l+Jo*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new pt(Math.max(0,this.l-Jo*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return dt(this.l,this.a,this.b)},no.rgb=yt;var ns=yt.prototype=new st;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=no.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,_t(e))}),no.functor=St,no.xhr=kt(At),no.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Lt(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(l>=c)return o;if(r)return r=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++l):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>l;){var i=t.charCodeAt(l++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(l)&&(++l,++s);else if(i!==u)continue;return t.slice(e,l-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],c=t.length,l=0,h=0;(i=n())!==o;){for(var p=[];i!==a&&i!==o;)p.push(i),i=n();e&&null==(p=e(p,h++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new g,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},no.csv=no.dsv(",","text/csv"),no.tsv=no.dsv("	","text/tab-separated-values");var rs,as,os,ss,us,cs=so[y(so,"requestAnimationFrame")]||function(t){setTimeout(t,17)};no.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,a={c:t,t:r,f:!1,n:null};as?as.n=a:rs=a,as=a,os||(ss=clearTimeout(ss),os=1,cs(Dt))},no.timer.flush=function(){Rt(),It()},no.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Bt);no.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=no.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var hs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ps=no.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=no.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),ds=no.time={},fs=Date;zt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;ds.year=jt(function(t){return t=ds.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=jt(function(t){var e=new fs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ds[t]=jt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ds[t+"s"]=n.range,ds[t+"s"].utc=n.utc.range,ds[t+"OfYear"]=function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;no.locale=function(t){return{numberFormat:Ft(t),timeFormat:Wt(t)}};var _s=no.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});no.format=_s.numberFormat,no.geo={},le.prototype={s:0,t:0,add:function(t){he(t,this.t,xs),he(xs.s,this.s,this),
this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new le;no.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):pe(t,e)};var bs={Feature:function(t,e){pe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)pe(n[i].geometry,e)}},Es={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)pe(n[i],e)}};no.geo.area=function(t){return ws=0,no.geo.stream(t,Ts),ws};var ws,Cs=new le,Ts={sphere:function(){ws+=4*Bo},point:_,lineStart:_,lineEnd:_,polygonStart:function(){Cs.reset(),Ts.lineStart=me},polygonEnd:function(){var t=2*Cs;ws+=0>t?4*Bo+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=_}};no.geo.bounds=function(){function t(t,e){_.push(x=[l=t,p=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var i=ge([e*jo,n*jo]);if(v){var r=ye(v,i),a=[r[1],-r[0],0],o=ye(a,r);be(o),o=Ee(o);var u=e-f,c=u>0?1:-1,m=o[0]*Ho*c,g=vo(u)>180;if(g^(m>c*f&&c*e>m)){var y=o[1]*Ho;y>d&&(d=y)}else if(m=(m+360)%360-180,g^(m>c*f&&c*e>m)){var y=-o[1]*Ho;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);g?f>e?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e):p>=l?(l>e&&(l=e),e>p&&(p=e)):e>f?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e)}else t(e,n);v=i,f=e}function n(){b.point=e}function i(){x[0]=l,x[1]=p,b.point=t,v=null}function r(t,n){if(v){var i=t-f;y+=vo(i)>180?i+(i>0?360:-360):i}else m=t,g=n;Ts.point(t,n),e(t,n)}function a(){Ts.lineStart()}function o(){r(m,g),Ts.lineEnd(),vo(y)>Io&&(l=-(p=180)),x[0]=l,x[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,p,d,f,m,g,v,y,_,x,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=o,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>Cs?(l=-(p=180),h=-(d=90)):y>Io?d=90:-Io>y&&(h=-90),x[0]=l,x[1]=p}};return function(t){d=p=-(l=h=1/0),_=[],no.geo.stream(t,b);var e=_.length;if(e){_.sort(u);for(var n,i=1,r=_[0],a=[r];e>i;++i)n=_[i],c(n[0],r)||c(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,f=-(1/0),e=a.length-1,i=0,r=a[e];e>=i;r=n,++i)n=a[i],(o=s(r[1],n[0]))>f&&(f=o,l=n[0],p=r[1])}return _=x=null,l===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,h],[p,d]]}}(),no.geo.centroid=function(t){Ms=Ss=As=ks=Ls=Ps=Ns=Ds=Rs=Is=Os=0,no.geo.stream(t,Bs);var e=Rs,n=Is,i=Os,r=e*e+n*n+i*i;return Oo>r&&(e=Ps,n=Ns,i=Ds,Io>Ss&&(e=As,n=ks,i=Ls),r=e*e+n*n+i*i,Oo>r)?[NaN,NaN]:[Math.atan2(n,e)*Ho,nt(i/Math.sqrt(r))*Ho]};var Ms,Ss,As,ks,Ls,Ps,Ns,Ds,Rs,Is,Os,Bs={sphere:_,point:Ce,lineStart:Me,lineEnd:Se,polygonStart:function(){Bs.lineStart=Ae},polygonEnd:function(){Bs.lineStart=Me}},Fs=Re(Le,Fe,ze,[-Bo,-Bo/2]),Us=1e9;no.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=Ve(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(no.geo.conicEqualArea=function(){return Ge(qe)}).raw=qe,no.geo.albers=function(){return no.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},no.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=no.geo.albers(),o=no.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=no.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var c=a.scale(),l=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,i=o.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Io,h+.12*c+Io],[l-.214*c-Io,h+.234*c-Io]]).stream(u).point,r=s.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Io,h+.166*c+Io],[l-.115*c-Io,h+.234*c-Io]]).stream(u).point,t},t.scale(1070)};var zs,js,Hs,Ws,Vs,Gs,qs={point:_,lineStart:_,lineEnd:_,polygonStart:function(){js=0,qs.lineStart=Xe},polygonEnd:function(){qs.lineStart=qs.lineEnd=qs.point=_,zs+=vo(js/2)}},Xs={point:Ye,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Ys={point:Je,lineStart:Qe,lineEnd:$e,polygonStart:function(){Ys.lineStart=tn},polygonEnd:function(){Ys.point=Je,Ys.lineStart=Qe,Ys.lineEnd=$e}};no.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),no.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return zs=0,no.geo.stream(t,r(qs)),zs},t.centroid=function(t){return As=ks=Ls=Ps=Ns=Ds=Rs=Is=Os=0,no.geo.stream(t,r(Ys)),Os?[Rs/Os,Is/Os]:Ds?[Ps/Ds,Ns/Ds]:Ls?[As/Ls,ks/Ls]:[NaN,NaN]},t.bounds=function(t){return Vs=Gs=-(Hs=Ws=1/0),no.geo.stream(t,r(Xs)),[[Hs,Ws],[Vs,Gs]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||rn(t):At,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Ze:new en(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(no.geo.albersUsa()).context(null)},no.geo.transform=function(t){return{stream:function(e){var n=new an(e);for(var i in t)n[i]=t[i];return n}}},an.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},no.geo.projection=sn,no.geo.projectionMutator=un,(no.geo.equirectangular=function(){return sn(ln)}).raw=ln.invert=ln,no.geo.rotation=function(t){function e(e){return e=t(e[0]*jo,e[1]*jo),e[0]*=Ho,e[1]*=Ho,e}return t=pn(t[0]%360*jo,t[1]*jo,t.length>2?t[2]*jo:0),e.invert=function(e){return e=t.invert(e[0]*jo,e[1]*jo),e[0]*=Ho,e[1]*=Ho,e},e},hn.invert=ln,no.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=pn(-t[0]*jo,-t[1]*jo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ho,t[1]*=Ho}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*jo,r*jo),t):e},t.precision=function(i){return arguments.length?(n=gn(e*jo,(r=+i)*jo),t):r},t.angle(90)},no.geo.distance=function(t,e){var n,i=(e[0]-t[0])*jo,r=t[1]*jo,a=e[1]*jo,o=Math.sin(i),s=Math.cos(i),u=Math.sin(r),c=Math.cos(r),l=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=c*l-u*h*s)*n),u*l+c*h*s)},no.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return no.range(Math.ceil(a/g)*g,r,g).map(p).concat(no.range(Math.ceil(c/v)*v,u,v).map(d)).concat(no.range(Math.ceil(i/f)*f,n,f).filter(function(t){return vo(t%g)>Io}).map(l)).concat(no.range(Math.ceil(s/m)*m,o,m).filter(function(t){return vo(t%v)>Io}).map(h))}var n,i,r,a,o,s,u,c,l,h,p,d,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(d(u).slice(1),p(r).reverse().slice(1),d(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],c=+e[0][1],u=+e[1][1],a>r&&(e=a,a=r,r=e),c>u&&(e=c,c=u,u=e),t.precision(y)):[[a,c],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,l=yn(s,o,90),h=_n(i,n,y),p=yn(c,u,90),d=_n(a,r,y),t):y},t.majorExtent([[-180,-90+Io],[180,90-Io]]).minorExtent([[-180,-80-Io],[180,80+Io]])},no.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=xn,r=bn;return t.distance=function(){return no.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},no.geo.interpolate=function(t,e){return En(t[0]*jo,t[1]*jo,e[0]*jo,e[1]*jo)},no.geo.length=function(t){return Zs=0,no.geo.stream(t,Ks),Zs};var Zs,Ks={sphere:_,point:_,lineStart:wn,lineEnd:_,polygonStart:_,polygonEnd:_},Js=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(no.geo.azimuthalEqualArea=function(){return sn(Js)}).raw=Js;var Qs=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},At);(no.geo.azimuthalEquidistant=function(){return sn(Qs)}).raw=Qs,(no.geo.conicConformal=function(){return Ge(Tn)}).raw=Tn,(no.geo.conicEquidistant=function(){return Ge(Mn)}).raw=Mn;var $s=Cn(function(t){return 1/t},Math.atan);(no.geo.gnomonic=function(){return sn($s)}).raw=$s,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-zo]},(no.geo.mercator=function(){return An(Sn)}).raw=Sn;var tu=Cn(function(){return 1},Math.asin);(no.geo.orthographic=function(){return sn(tu)}).raw=tu;var eu=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(no.geo.stereographic=function(){return sn(eu)}).raw=eu,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-zo]},(no.geo.transverseMercator=function(){var t=An(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=kn,no.geom={},no.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=St(n),a=St(i),o=t.length,s=[],u=[];for(e=0;o>e;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(Dn),e=0;o>e;e++)u.push([s[e][0],-s[e][1]]);var c=Nn(s),l=Nn(u),h=l[0]===c[0],p=l[l.length-1]===c[c.length-1],d=[];for(e=c.length-1;e>=0;--e)d.push(t[s[c[e]][2]]);for(e=+h;e<l.length-p;++e)d.push(t[s[l[e]][2]]);return d}var n=Ln,i=Pn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},no.geom.polygon=function(t){return Eo(t,nu),t};var nu=no.geom.polygon.prototype=[];nu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},nu.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},nu.clip=function(t){for(var e,n,i,r,a,o,s=On(t),u=-1,c=this.length-On(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,r=this[u],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],Rn(o,l,r)?(Rn(a,l,r)||t.push(In(a,o,l,r)),t.push(o)):Rn(a,l,r)&&t.push(In(a,o,l,r)),a=o;s&&t.push(t[0]),l=r}return t};var iu,ru,au,ou,su,uu=[],cu=[];Vn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(qn),e.length},ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ii.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=si(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ai(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ai(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?si(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ai(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ai(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ai(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},no.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return ui(n(t),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=a&&c.y>=r&&c.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];l.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Io)*Io,y:Math.round(o(t,e)/Io)*Io,i:e}})}var i=Ln,r=Pn,a=i,o=r,s=lu;return t?e(t):(e.links=function(t){return ui(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ui(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(qn),u=-1,c=s.length,l=s[c-1].edge,h=l.l===o?l.r:l.l;++u<c;)r=l,a=h,l=s[u].edge,h=l.l===o?l.r:l.l,i<a.i&&i<h.i&&li(o,a,h)<0&&e.push([t[i],t[a.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(a=St(i=t),e):i},e.y=function(t){return arguments.length?(o=St(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?lu:t,e):s===lu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===lu?null:s&&s[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];no.geom.delaunay=function(t){return no.geom.voronoi().triangles(t)},no.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(vo(u-n)+vo(l-i)<.01)c(t,e,n,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,r,a,o,s),c(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,a,o,s)}function c(t,e,n,i,r,o,s,u){var c=.5*(r+s),l=.5*(o+u),h=n>=c,p=i>=l,d=p<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=di()),h?r=c:s=c,p?o=l:u=l,a(t,e,n,i,r,o,s,u)}var l,h,p,d,f,m,g,v,y,_=St(s),x=St(u);if(null!=e)m=e,g=n,v=i,y=r;else if(v=y=-(m=g=1/0),h=[],p=[],f=t.length,o)for(d=0;f>d;++d)l=t[d],l.x<m&&(m=l.x),l.y<g&&(g=l.y),l.x>v&&(v=l.x),l.y>y&&(y=l.y),h.push(l.x),p.push(l.y);else for(d=0;f>d;++d){var b=+_(l=t[d],d),E=+x(l,d);m>b&&(m=b),g>E&&(g=E),b>v&&(v=b),E>y&&(y=E),h.push(b),p.push(E)}var w=v-m,C=y-g;w>C?y=g+w:v=m+C;var T=di();if(T.add=function(t){a(T,t,+_(t,++d),+x(t,d),m,g,v,y)},T.visit=function(t){fi(t,T,m,g,v,y)},T.find=function(t){return mi(T,t[0],t[1],m,g,v,y)},d=-1,null==e){for(;++d<f;)a(T,t[d],h[d],p[d],m,g,v,y);--d}else t.forEach(T.add);return h=p=t=l=null,T}var o,s=Ln,u=Pn;return(o=arguments.length)?(s=hi,u=pi,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(u=t,a):u},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},no.interpolateRgb=gi,no.interpolateObject=vi,no.interpolateNumber=yi,no.interpolateString=_i;var hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pu=new RegExp(hu.source,"g");no.interpolate=xi,no.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gi:_i:e instanceof st?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?vi:yi)(t,e)}],no.interpolateArray=bi;var du=function(){return At},fu=no.map({linear:du,poly:Ai,quad:function(){return Ti},cubic:function(){return Mi},sin:function(){return ki},exp:function(){return Li},circle:function(){return Pi},elastic:Ni,back:Di,bounce:function(){return Ri}}),mu=no.map({"in":At,out:wi,"in-out":Ci,"out-in":function(t){return Ci(wi(t))}});no.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=fu.get(n)||du,i=mu.get(i)||At,Ei(i(n.apply(null,io.call(arguments,1))))},no.interpolateHcl=Ii,no.interpolateHsl=Oi,no.interpolateLab=Bi,no.interpolateRound=Fi,no.transform=function(t){var e=ao.createElementNS(no.ns.prefix.svg,"g");return(no.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ui(n?n.matrix:gu)})(t)},Ui.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};no.interpolateTransform=Wi,no.layout={},no.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(qi(t[n]));return e}},no.layout.chord=function(){function t(){var t,c,h,p,d,f={},m=[],g=no.range(a),v=[];for(n=[],i=[],t=0,p=-1;++p<a;){for(c=0,d=-1;++d<a;)c+=r[p][d];m.push(c),v.push(no.range(a)),t+=c}for(o&&g.sort(function(t,e){return o(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Fo-l*a)/t,c=0,p=-1;++p<a;){for(h=c,d=-1;++d<a;){var y=g[p],_=v[y][d],x=r[y][_],b=c,E=c+=x*t;f[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:E,value:x}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=l}for(p=-1;++p<a;)for(d=p-1;++d<a;){var w=f[p+"-"+d],C=f[d+"-"+p];(w.value||C.value)&&n.push(w.value<C.value?{source:C,target:w}:{source:w,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(l=t,n=i=null,c):l},c.sortGroups=function(t){return arguments.length?(o=t,n=i=null,c):o},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},no.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,u=a*a+o*o;if(u>s*s/g){if(f>u){var c=e.charge/u;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&u&&f>u){var c=e.pointCharge/u;t.px-=a*c,t.py-=o*c}}return!e.charge}}function e(t){t.px=no.event.x,t.py=no.event.y,s.resume()}var n,i,r,a,o,s={},u=no.dispatch("start","tick","end"),c=[1,1],l=.9,h=vu,p=yu,d=-30,f=_u,m=.1,g=.64,v=[],y=[];return s.tick=function(){if((i*=.99)<.005)return u.end({type:"end",alpha:i=0}),!0;var e,n,s,h,p,f,g,_,x,b=v.length,E=y.length;for(n=0;E>n;++n)s=y[n],h=s.source,p=s.target,_=p.x-h.x,x=p.y-h.y,(f=_*_+x*x)&&(f=i*a[n]*((f=Math.sqrt(f))-r[n])/f,_*=f,x*=f,p.x-=_*(g=h.weight/(p.weight+h.weight)),p.y-=x*g,h.x+=_*(g=1-g),h.y+=x*g);if((g=i*m)&&(_=c[0]/2,x=c[1]/2,n=-1,g))for(;++n<b;)s=v[n],s.x+=(_-s.x)*g,s.y+=(x-s.y)*g;if(d)for($i(e=no.geom.quadtree(v),i,o),n=-1;++n<b;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<b;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);u.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(f=t*t,s):Math.sqrt(f)},s.gravity=function(t){return arguments.length?(m=+t,s):m},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(u.start({type:"start",alpha:i=t}),no.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var r=y[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,o=n[e],s=-1,c=o.length;++s<c;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var e,n,i,u=v.length,l=y.length,f=c[0],m=c[1];for(e=0;u>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;l>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;u>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",f)),isNaN(i.y)&&(i.y=t("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(e=0;l>e;++e)r[e]=+h.call(this,y[e],e);else for(e=0;l>e;++e)r[e]=h;if(a=[],"function"==typeof p)for(e=0;l>e;++e)a[e]=+p.call(this,y[e],e);else for(e=0;l>e;++e)a[e]=p;if(o=[],"function"==typeof d)for(e=0;u>e;++e)o[e]=+d.call(this,v[e],e);else for(e=0;u>e;++e)o[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=no.behavior.drag().origin(At).on("dragstart.force",Zi).on("drag.force",e).on("dragend.force",Ki)),arguments.length?void this.on("mouseover.force",Ji).on("mouseout.force",Qi).call(n):n},no.rebind(s,u,"on")};var vu=20,yu=1,_u=1/0;no.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(c=n.call(t,a,a.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)o.push(l=c[u]),l.parent=a,l.depth=a.depth+1;i&&(a.value=0),a.children=c}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return nr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=ar,n=ir,i=rr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(er(e,function(t){t.children&&(t.value=0)}),nr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},no.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,u,c=-1;for(i=e.value?i/e.value:0;++c<o;)t(s=a[c],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=no.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},tr(n,i)},no.layout.pie=function(){function t(o){var s,u=o.length,c=o.map(function(n,i){return+e.call(t,n,i)}),l=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-l,p=Math.min(Math.abs(h)/u,+("function"==typeof a?a.apply(this,arguments):a)),d=p*(0>h?-1:1),f=(h-u*d)/no.sum(c),m=no.range(u),g=[];return null!=n&&m.sort(n===xu?function(t,e){return c[e]-c[t]}:function(t,e){return n(o[t],o[e])}),m.forEach(function(t){g[t]={data:o[t],value:s=c[t],startAngle:l,endAngle:l+=s*f+d,padAngle:p}}),g}var e=Number,n=xu,i=0,r=Fo,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var xu={};no.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var c=s.map(function(n,i){return e.call(t,n,i)}),l=c.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),h=n.call(t,l,u);c=no.permute(c,h),l=no.permute(l,h);var p,d,f,m,g=i.call(t,l,u),v=c[0].length;for(f=0;v>f;++f)for(r.call(t,c[0][f],m=g[f],l[0][f][1]),d=1;p>d;++d)r.call(t,c[d][f],m+=l[d-1][f][1],l[d][f][1]);return s}var e=At,n=lr,i=hr,r=cr,a=sr,o=ur;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:bu.get(e)||lr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:Eu.get(e)||hr,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var bu=no.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(pr),a=t.map(dr),o=no.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,c=[],l=[];for(e=0;i>e;++e)n=o[e],u>s?(s+=a[n],c.push(n)):(u+=a[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return no.range(t.length).reverse()},"default":lr}),Eu=no.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,u=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;a>n;++n)u[n]=(s-o[n])/2;return u},wiggle:function(t){var e,n,i,r,a,o,s,u,c,l=t.length,h=t[0],p=h.length,d=[];for(d[0]=u=c=0,n=1;p>n;++n){for(e=0,r=0;l>e;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];l>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}d[n]=u-=r?a/r*s:0,c>u&&(c=u)}for(n=0;p>n;++n)d[n]-=c;return d},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:hr});no.layout.histogram=function(){function t(t,a){for(var o,s,u=[],c=t.map(n,this),l=i.call(this,c,a),h=r.call(this,l,c,a),a=-1,p=c.length,d=h.length-1,f=e?1:1/p;++a<d;)o=u[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;if(d>0)for(a=-1;++a<p;)s=c[a],s>=l[0]&&s<=l[1]&&(o=u[no.bisect(h,s,1,d)-1],o.y+=f,o.push(t[a]));return u}var e=!0,n=Number,i=vr,r=mr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=St(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return gr(t,e)}:St(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},no.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],u=r[0],c=r[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,nr(s,function(t){t.r=+l(t.value)}),nr(s,Er),i){var h=i*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;nr(s,function(t){t.r+=h}),nr(s,Er),nr(s,function(t){t.r-=h})}return Tr(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),o}var e,n=no.layout.hierarchy().sort(yr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},tr(t,n)},no.layout.tree=function(){function t(t,r){var l=o.call(this,t,r),h=l[0],p=e(h);if(nr(p,n),p.parent.m=-p.z,er(p,i),c)er(h,a);else{var d=h,f=h,m=h;er(h,function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>m.depth&&(m=t)});var g=s(d,f)/2-d.x,v=u[0]/(f.x+s(f,d)/2+g),y=u[1]/(m.depth||1);er(h,function(t){t.x=(t.x+g)*v,t.y=t.depth*y})}return l}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Pr(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,u=r.parent.children[0],c=r.m,l=a.m,h=o.m,p=u.m;o=kr(o),r=Ar(r),o&&r;)u=Ar(u),a=kr(a),a.a=t,i=o.z+h-r.z-c+s(o._,r._),i>0&&(Lr(Nr(o,t,n),t,i),c+=i,l+=i),h+=o.m,c+=r.m,p+=u.m,l+=a.m;o&&!kr(a)&&(a.t=o,a.m+=h-l),r&&!Ar(u)&&(u.t=r,u.m+=c-p,n=t)}return n}function a(t){t.x*=u[0],t.y=t.depth*u[1]}var o=no.layout.hierarchy().sort(null).value(null),s=Sr,u=[1,1],c=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(c=null==(u=e)?a:null,t):c?null:u},t.nodeSize=function(e){return arguments.length?(c=null==(u=e)?null:a,t):c?u:null},tr(t,o)},no.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),u=s[0],c=0;nr(u,function(t){var e=t.children;e&&e.length?(t.x=Rr(e),t.y=Dr(e)):(t.x=o?c+=n(t,o):0,t.y=0,o=t)});var l=Ir(u),h=Or(u),p=l.x-n(l,h)/2,d=h.x+n(h,l)/2;return nr(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-p)/(d-p)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=no.layout.hierarchy().sort(null).value(null),n=Sr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},tr(t,e)},no.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,u,c=h(n),l=[],p=a.slice(),f=1/0,m="slice"===d?c.dx:"dice"===d?c.dy:"slice-dice"===d?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(p,c.dx*c.dy/n.value),l.area=0;(u=p.length)>0;)l.push(o=p[u-1]),l.area+=o.area,"squarify"!==d||(s=i(l,m))<=f?(p.pop(),f=s):(l.area-=l.pop().area,r(l,m,c,!1),m=Math.min(c.dx,c.dy),l.length=l.area=0,f=1/0);l.length&&(r(l,m,c,!0),l.length=l.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=h(e),s=i.slice(),u=[];for(t(s,o.dx*o.dy/e.value),u.area=0;a=s.pop();)u.push(a),u.area+=a.area,null!=a.z&&(r(u,a.z?o.dx:o.dy,o,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*f/i,i/(e*a*f)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++a<o;)r=t[a],r.x=s,r.y=c,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?u(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++a<o;)r=t[a],r.x=s,r.y=c,r.dx=l,c+=r.dy=Math.min(n.y+n.dy-c,l?u(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=c[0],a.dy=c[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),
p&&(o=r),r}var o,s=no.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=Br,p=!1,d="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(c=t,a):c},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Br(e):Fr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Fr(e,t)}if(!arguments.length)return l;var i;return h=null==(l=t)?Br:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(u=t?Math.round:Number,a):u!=Number},a.sticky=function(t){return arguments.length?(p=t,o=null,a):p},a.ratio=function(t){return arguments.length?(f=t,a):f},a.mode=function(t){return arguments.length?(d=t+"",a):d},tr(a,s)},no.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=no.random.normal.apply(no,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=no.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},no.scale={};var wu={floor:At,ceil:At};no.scale.linear=function(){return Gr([0,1],[0,1],xi,!1)};var Cu={s:1,g:1,p:1,r:1,e:1};no.scale.log=function(){return $r(no.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=no.format(".0e"),Mu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};no.scale.pow=function(){return ta(no.scale.linear(),1,[0,1])},no.scale.sqrt=function(){return no.scale.pow().exponent(.5)},no.scale.ordinal=function(){return na([],{t:"range",a:[[]]})},no.scale.category10=function(){return no.scale.ordinal().range(Su)},no.scale.category20=function(){return no.scale.ordinal().range(Au)},no.scale.category20b=function(){return no.scale.ordinal().range(ku)},no.scale.category20c=function(){return no.scale.ordinal().range(Lu)};var Su=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),ku=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Lu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);no.scale.quantile=function(){return ia([],[])},no.scale.quantize=function(){return ra(0,1,[0,1])},no.scale.threshold=function(){return aa([.5],[0,1])},no.scale.identity=function(){return oa([0,1])},no.svg={},no.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+i.apply(this,arguments)),l=o.apply(this,arguments)-zo,h=s.apply(this,arguments)-zo,p=Math.abs(h-l),d=l>h?0:1;if(t>c&&(f=c,c=t,t=f),p>=Uo)return e(c,d)+(t?e(t,1-d):"")+"Z";var f,m,g,v,y,_,x,b,E,w,C,T,M=0,S=0,A=[];if((v=(+u.apply(this,arguments)||0)/2)&&(g=a===Pu?Math.sqrt(t*t+c*c):+a.apply(this,arguments),d||(S*=-1),c&&(S=nt(g/c*Math.sin(v))),t&&(M=nt(g/t*Math.sin(v)))),c){y=c*Math.cos(l+S),_=c*Math.sin(l+S),x=c*Math.cos(h-S),b=c*Math.sin(h-S);var k=Math.abs(h-l-2*S)<=Bo?0:1;if(S&&da(y,_,x,b)===d^k){var L=(l+h)/2;y=c*Math.cos(L),_=c*Math.sin(L),x=b=null}}else y=_=0;if(t){E=t*Math.cos(h-M),w=t*Math.sin(h-M),C=t*Math.cos(l+M),T=t*Math.sin(l+M);var P=Math.abs(l-h+2*M)<=Bo?0:1;if(M&&da(E,w,C,T)===1-d^P){var N=(l+h)/2;E=t*Math.cos(N),w=t*Math.sin(N),C=T=null}}else E=w=0;if((f=Math.min(Math.abs(c-t)/2,+r.apply(this,arguments)))>.001){m=c>t^d?0:1;var D=null==C?[E,w]:null==x?[y,_]:In([y,_],[C,T],[x,b],[E,w]),R=y-D[0],I=_-D[1],O=x-D[0],B=b-D[1],F=1/Math.sin(Math.acos((R*O+I*B)/(Math.sqrt(R*R+I*I)*Math.sqrt(O*O+B*B)))/2),U=Math.sqrt(D[0]*D[0]+D[1]*D[1]);if(null!=x){var z=Math.min(f,(c-U)/(F+1)),j=fa(null==C?[E,w]:[C,T],[y,_],c,z,d),H=fa([x,b],[E,w],c,z,d);f===z?A.push("M",j[0],"A",z,",",z," 0 0,",m," ",j[1],"A",c,",",c," 0 ",1-d^da(j[1][0],j[1][1],H[1][0],H[1][1]),",",d," ",H[1],"A",z,",",z," 0 0,",m," ",H[0]):A.push("M",j[0],"A",z,",",z," 0 1,",m," ",H[0])}else A.push("M",y,",",_);if(null!=C){var W=Math.min(f,(t-U)/(F-1)),V=fa([y,_],[C,T],t,-W,d),G=fa([E,w],null==x?[y,_]:[x,b],t,-W,d);f===W?A.push("L",G[0],"A",W,",",W," 0 0,",m," ",G[1],"A",t,",",t," 0 ",d^da(G[1][0],G[1][1],V[1][0],V[1][1]),",",1-d," ",V[1],"A",W,",",W," 0 0,",m," ",V[0]):A.push("L",G[0],"A",W,",",W," 0 0,",m," ",V[0])}else A.push("L",E,",",w)}else A.push("M",y,",",_),null!=x&&A.push("A",c,",",c," 0 ",k,",",d," ",x,",",b),A.push("L",E,",",w),null!=C&&A.push("A",t,",",t," 0 ",P,",",1-d," ",C,",",T);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ua,i=ca,r=sa,a=Pu,o=la,s=ha,u=pa;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(i=St(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=St(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==Pu?Pu:St(e),t):a},t.startAngle=function(e){return arguments.length?(o=St(e),t):o},t.endAngle=function(e){return arguments.length?(s=St(e),t):s},t.padAngle=function(e){return arguments.length?(u=St(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-zo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Pu="auto";no.svg.line=function(){return ma(At)};var Nu=no.map({linear:ga,"linear-closed":va,step:ya,"step-before":_a,"step-after":xa,basis:Ma,"basis-open":Sa,"basis-closed":Aa,bundle:ka,cardinal:wa,"cardinal-open":ba,"cardinal-closed":Ea,monotone:Ia});Nu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Du=[0,2/3,1/3,0],Ru=[0,1/3,2/3,0],Iu=[0,1/6,2/3,1/6];no.svg.line.radial=function(){var t=ma(Oa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},_a.reverse=xa,xa.reverse=_a,no.svg.area=function(){return Ba(At)},no.svg.area.radial=function(){var t=Ba(Oa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},no.svg.chord=function(){function t(t,s){var u=e(this,a,t,s),c=e(this,o,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,c)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=u.call(t,r,i)-zo,l=c.call(t,r,i)-zo;return{r:a,a0:o,a1:l,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Bo)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=xn,o=bn,s=Fa,u=la,c=ha;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(a=St(e),t):a},t.target=function(e){return arguments.length?(o=St(e),t):o},t.startAngle=function(e){return arguments.length?(u=St(e),t):u},t.endAngle=function(e){return arguments.length?(c=St(e),t):c},t},no.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=xn,n=bn,i=Ua;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},no.svg.diagonal.radial=function(){var t=no.svg.diagonal(),e=Ua,n=t.projection;return t.projection=function(t){return arguments.length?n(za(e=t)):e},t},no.svg.symbol=function(){function t(t,i){return(Ou.get(e.call(this,t,i))||Wa)(n.call(this,t,i))}var e=Ha,n=ja;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Ou=no.map({circle:Wa,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zu)),n=e*zu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Uu),n=e*Uu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Uu),n=e*Uu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});no.svg.symbolTypes=Ou.keys();var Bu,Fu,Uu=Math.sqrt(3),zu=Math.tan(30*jo),ju=[],Hu=0;ju.call=So.call,ju.empty=So.empty,ju.node=So.node,ju.size=So.size,no.transition=function(t){return arguments.length?Bu?t.transition():t:Lo.transition()},no.transition.prototype=ju,ju.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=M(t);for(var s=-1,u=this.length;++s<u;){o.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(i=c[l])&&(n=t.call(i,i.__data__,l,s))?("__data__"in i&&(n.__data__=i.__data__),Ya(n,l,a,r,i[a][r]),e.push(n)):e.push(null)}return Va(o,a,r)},ju.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,u=[];t=S(t);for(var c=-1,l=this.length;++c<l;)for(var h=this[c],p=-1,d=h.length;++p<d;)if(i=h[p]){a=i[s][o],n=t.call(i,i.__data__,p,c),u.push(e=[]);for(var f=-1,m=n.length;++f<m;)(r=n[f])&&Ya(r,f,s,o,a),e.push(r)}return Va(u,s,o)},ju.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=U(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]);for(var n=this[a],s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Va(r,this.namespace,this.id)},ju.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):j(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},ju.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Wi:xi,s=no.ns.qualify(t);return Ga(this,"attr."+t,e,s.local?a:r)},ju.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=no.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},ju.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=so.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=xi(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Ga(this,"style."+t,e,r)},ju.styleTween=function(t,e,n){function i(i,r){var a=e.call(this,i,r,so.getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},ju.text=function(t){return Ga(this,"text",t,qa)},ju.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ju.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=no.ease.apply(no,arguments)),j(this,function(i){i[n][e].ease=t}))},ju.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:j(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},ju.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:j(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},ju.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Fu,a=Bu;Bu=n,j(this,function(e,r,a){Fu=e[i][n],t.call(e,e.__data__,r,a)}),Fu=r,Bu=a}else j(this,function(r){var a=r[i][n];(a.event||(a.event=no.dispatch("start","end","interrupt"))).on(t,e)});return this},ju.transition=function(){for(var t,e,n,i,r=this.id,a=++Hu,o=this.namespace,s=[],u=0,c=this.length;c>u;u++){s.push(t=[]);for(var e=this[u],l=0,h=e.length;h>l;l++)(n=e[l])&&(i=n[o][r],Ya(n,l,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Va(s,o,a)},no.svg.axis=function(){function t(t){t.each(function(){var t,c=no.select(this),l=this.__chart__||n,h=this.__chart__=n.copy(),p=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):At:e,f=c.selectAll(".tick").data(p,h),m=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Io),g=no.transition(f.exit()).style("opacity",Io).remove(),v=no.transition(f.order()).style("opacity",1),y=Math.max(r,0)+o,_=zr(h),x=c.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),no.transition(x));m.append("line"),m.append("text");var E,w,C,T,M=m.select("line"),S=v.select("line"),A=f.select("text").text(d),k=m.select("text"),L=v.select("text"),P="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Za,E="x",C="y",w="x2",T="y2",A.attr("dy",0>P?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+_[0]+","+P*a+"V0H"+_[1]+"V"+P*a)):(t=Ka,E="y",C="x",w="y2",T="x2",A.attr("dy",".32em").style("text-anchor",0>P?"end":"start"),b.attr("d","M"+P*a+","+_[0]+"H0V"+_[1]+"H"+P*a)),M.attr(T,P*r),k.attr(C,P*y),S.attr(w,0).attr(T,P*r),L.attr(E,0).attr(C,P*y),h.rangeBand){var N=h,D=N.rangeBand()/2;l=h=function(t){return N(t)+D}}else l.rangeBand?l=h:g.call(t,h,l);m.call(t,l,h),v.call(t,h,h)})}var e,n=no.scale.linear(),i=Wu,r=6,a=6,o=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Vu?e+"":Wu,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Wu="bottom",Vu={top:1,right:1,bottom:1,left:1};no.svg.brush=function(){function t(a){a.each(function(){var a=no.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(f,At);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Gu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=no.transition(a),p=no.transition(o);u&&(l=zr(u),p.attr("x",l[0]).attr("width",l[1]-l[0]),n(h)),c&&(l=zr(c),p.attr("y",l[0]).attr("height",l[1]-l[0]),i(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function r(){function r(){32==no.event.keyCode&&(A||(y=null,L[0]-=l[1],L[1]-=h[1],A=2),E())}function f(){32==no.event.keyCode&&2==A&&(L[0]+=l[1],L[1]+=h[1],A=0,E())}function m(){var t=no.mouse(x),r=!1;_&&(t[0]+=_[0],t[1]+=_[1]),A||(no.event.altKey?(y||(y=[(l[0]+l[1])/2,(h[0]+h[1])/2]),L[0]=l[+(t[0]<y[0])],L[1]=h[+(t[1]<y[1])]):y=null),M&&g(t,u,0)&&(n(C),r=!0),S&&g(t,c,1)&&(i(C),r=!0),r&&(e(C),w({type:"brush",mode:A?"move":"resize"}))}function g(t,e,n){var i,r,s=zr(e),u=s[0],c=s[1],f=L[n],m=n?h:l,g=m[1]-m[0];return A&&(u-=f,c-=g+f),i=(n?d:p)?Math.max(u,Math.min(c,t[n])):t[n],A?r=(i+=f)+g:(y&&(f=Math.max(u,Math.min(c,2*y[n]-i))),i>f?(r=i,i=f):r=f),m[0]!=i||m[1]!=r?(n?o=null:a=null,m[0]=i,m[1]=r,!0):void 0}function v(){m(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),no.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),w({type:"brushend"})}var y,_,x=this,b=no.select(no.event.target),w=s.of(x,arguments),C=no.select(x),T=b.datum(),M=!/^(n|s)$/.test(T)&&u,S=!/^(e|w)$/.test(T)&&c,A=b.classed("extent"),k=Y(),L=no.mouse(x),P=no.select(so).on("keydown.brush",r).on("keyup.brush",f);if(no.event.changedTouches?P.on("touchmove.brush",m).on("touchend.brush",v):P.on("mousemove.brush",m).on("mouseup.brush",v),C.interrupt().selectAll("*").interrupt(),A)L[0]=l[0]-L[0],L[1]=h[0]-L[1];else if(T){var N=+/w$/.test(T),D=+/^n/.test(T);_=[l[1-N]-L[0],h[1-D]-L[1]],L[0]=l[N],L[1]=h[D]}else no.event.altKey&&(y=L.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),no.select("body").style("cursor",b.style("cursor")),w({type:"brushstart"}),m()}var a,o,s=C(t,"brushstart","brush","brushend"),u=null,c=null,l=[0,0],h=[0,0],p=!0,d=!0,f=qu[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:l,y:h,i:a,j:o},n=this.__chart__||e;this.__chart__=e,Bu?no.select(this).transition().each("start.brush",function(){a=n.i,o=n.j,l=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(l,e.x),i=bi(h,e.y);return a=o=null,function(r){l=e.x=n(r),h=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,f=qu[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,f=qu[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(p=!!e[0],d=!!e[1]):u?p=!!e:c&&(d=!!e),t):u&&c?[p,d]:u?p:c?d:null},t.extent=function(e){var n,i,r,s,p;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(p=n,n=i,i=p),(n!=l[0]||i!=l[1])&&(l=[n,i])),c&&(r=e[0],s=e[1],u&&(r=r[1],s=s[1]),o=[r,s],c.invert&&(r=c(r),s=c(s)),r>s&&(p=r,r=s,s=p),(r!=h[0]||s!=h[1])&&(h=[r,s])),t):(u&&(a?(n=a[0],i=a[1]):(n=l[0],i=l[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(p=n,n=i,i=p))),c&&(o?(r=o[0],s=o[1]):(r=h[0],s=h[1],c.invert&&(r=c.invert(r),s=c.invert(s)),r>s&&(p=r,r=s,s=p))),u&&c?[[n,r],[i,s]]:u?[n,i]:c&&[r,s])},t.clear=function(){return t.empty()||(l=[0,0],h=[0,0],a=o=null),t},t.empty=function(){return!!u&&l[0]==l[1]||!!c&&h[0]==h[1]},no.rebind(t,s,"on")};var Gu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xu=ds.format=_s.timeFormat,Yu=Xu.utc,Zu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Xu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ja:Zu,Ja.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ja.toString=Zu.toString,ds.second=jt(function(t){return new fs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=jt(function(t){return new fs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=jt(function(t){return t=ds.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Ku=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ju=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Qu=Xu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Le]]),$u={range:function(t,e,n){return no.range(Math.ceil(t/n)*n,+e,n).map($a)},floor:At,ceil:At};Ju.year=ds.year,ds.scale=function(){return Qa(no.scale.linear(),Ju,Qu)};var tc=Ju.map(function(t){return[t[0].utc,t[1]]}),ec=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Le]]);tc.year=ds.year.utc,ds.scale.utc=function(){return Qa(no.scale.linear(),tc,ec)},no.text=kt(function(t){return t.responseText}),no.json=function(t,e){return Lt(t,"application/json",to,e)},no.html=function(t,e){return Lt(t,"text/html",eo,e)},no.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(no):"object"==typeof e&&e.exports&&(e.exports=no),this.d3=no}()},{}],98:[function(t,e,n){!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function s(t){return t.length}function u(t){for(var e=1;t*e%1;)e*=10;return e}function c(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function h(t){return(t+="")===go||t[0]===vo?vo+t:t}function p(t){return(t+="")[0]===vo?t.slice(1):t}function d(t){return h(t)in this._}function f(t){return(t=h(t))in this._&&delete this._[t]}function m(){var t=[];for(var e in this._)t.push(p(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function v(){for(var t in this._)return!1;return!0}function y(){this._=Object.create(null)}function _(t){return t}function x(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=yo.length;i>n;++n){var r=yo[n]+e;if(r in t)return r}}function E(){}function w(){}function C(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function T(){no.event.preventDefault()}function M(){for(var t,e=no.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new w,n=0,i=arguments.length;++n<i;)e[arguments[n]]=C(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=no.event;r.target=t,no.event=r,e[r.type].apply(n,i)}finally{no.event=a}}},e}function A(t){return xo(t,Co),t}function k(t){return"function"==typeof t?t:function(){return bo(t,this)}}function L(t){return"function"==typeof t?t:function(){return Eo(t,this)}}function P(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=no.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function N(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+no.requote(t)+"(?:\\s+|$)","g")}function R(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=R(t).map(O);var r=t.length;return"function"==typeof e?i:n}function O(t){var e=D(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",N(r+" "+t))):n.setAttribute("class",N(r.replace(e," ")))}}function B(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function F(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function U(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=no.ns.qualify(t)).local?n:e}function z(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function H(t){return function(){return wo(this,t)}}function W(t){return arguments.length||(t=i),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function V(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,a=t[n],o=0,s=a.length;s>o;o++)(r=a[o])&&e(r,o,n);return t}function G(t){return xo(t,Mo),t}function q(t){var e,n;return function(i,r,a){var o,s=t[a].update,u=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<u;);return o}}function X(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=u(e,ro(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+no.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),u=Y;s>0&&(t=t.slice(0,s));var c=So.get(t);return c&&(t=c,u=Z),s?e?r:i:e?E:a}function Y(t,e){return function(n){var i=no.event;no.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{no.event=i}}}function Z(t,e){var n=Y(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function K(e){var i=".dragsuppress-"+ ++ko,r="click"+i,a=no.select(n(e)).on("touchmove"+i,T).on("dragstart"+i,T).on("selectstart"+i,T);if(null==Ao&&(Ao="onselectstart"in e?!1:b(e.style,"userSelect")),Ao){var o=t(e).style,s=o[Ao];o[Ao]="none"}return function(t){if(a.on(i,null),Ao&&(o[Ao]=s),t){var e=function(){a.on(r,null)};a.on(r,function(){T(),e()},!0),setTimeout(e,0)}}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Lo){var a=n(t);if(a.scrollX||a.scrollY){i=no.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=i[0][0].getScreenCTM();Lo=!(o.f||o.e),i.remove()}}return Lo?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Q(){return no.event.changedTouches[0].identifier}function $(t){return t>0?1:0>t?-1:0}function tt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function et(t){return t>1?0:-1>t?Do:Math.acos(t)}function nt(t){return t>1?Oo:-1>t?-Oo:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function st(){}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):Et(""+t,wt,ut):new ut(t,e,n)}function ct(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new yt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):t instanceof pt?ft(t.l,t.a,t.b):ft((t=Ct((t=no.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ht(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new pt(n,Math.cos(t*=Bo)*e,Math.sin(t)*e)}function pt(t,e,n){return this instanceof pt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof pt?new pt(t.l,t.a,t.b):t instanceof lt?ht(t.h,t.c,t.l):Ct((t=yt(t)).r,t.g,t.b):new pt(t,e,n)}function dt(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=mt(r)*Yo,i=mt(i)*Zo,a=mt(a)*Ko,new yt(vt(3.2404542*r-1.5371385*i-.4985314*a),vt(-.969266*r+1.8760108*i+.041556*a),vt(.0556434*r-.2040259*i+1.0572252*a))}function ft(t,e,n){return t>0?new lt(Math.atan2(n,e)*Fo,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function mt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):Et(""+t,yt,ct):new yt(t,e,n)}function _t(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return _t(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Et(t,e,n){t=t.toLowerCase();var i,r,a,o=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Mt(r[0]),Mt(r[1]),Mt(r[2]))}return(a=$o.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,u=15&a,u=u<<4|u):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),e(o,s,u))}function wt(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,u=(o+a)/2;return s?(r=.5>u?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,
i*=60):(i=NaN,r=u>0&&1>u?0:i),new ut(i,r,u)}function Ct(t,e,n){t=Tt(t),e=Tt(e),n=Tt(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/Yo),r=gt((.2126729*t+.7151522*e+.072175*n)/Zo),a=gt((.0193339*t+.119192*e+.9503041*n)/Ko);return pt(116*r-16,500*(i-r),200*(r-a))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function At(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(e,n,t,i)}}function kt(t,e,n,i){function r(){var t,e=u.status;if(!e&&Pt(u)||e>=200&&300>e||304===e){try{t=n.call(a,u)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,u)}var a={},o=no.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=no.event;no.event=t;try{o.progress.call(a,u)}finally{no.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ro(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,u),u.send(null==i?null:i),a},a.abort=function(){return u.abort(),a},no.rebind(a,o,"on"),null==i?a:a.get(Lt(i))}function Lt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Pt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Nt(){var t=Dt(),e=Rt()-t;e>24?(isFinite(e)&&(clearTimeout(is),is=setTimeout(Nt,e)),ns=0):(ns=1,as(Nt))}function Dt(){var t=Date.now();for(rs=ts;rs;)t>=rs.t&&(rs.f=rs.c(t-rs.t)),rs=rs.n;return t}function Rt(){for(var t,e=ts,n=1/0;e;)e.f?e=t?t.n=e.n:ts=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return es=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ot(t,e){var n=Math.pow(10,3*mo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Bt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),a.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:_;return function(t){var n=ss.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],l=+n[6],h=n[7],p=n[8],d=n[9],f=1,m="",g="",v=!1,y=!0;switch(p&&(p=+p.substring(1)),(c||"0"===i&&"="===o)&&(c=i="0",o="="),d){case"n":h=!0,d="g";break;case"%":f=100,g="%",d="f";break;case"p":f=100,g="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,p=0;break;case"s":f=-1,d="r"}"$"===u&&(m=r[0],g=r[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):("e"==d||"f"==d)&&(p=Math.max(0,Math.min(20,p)))),d=us.get(d)||Ft;var _=c&&h;return function(t){var n=g;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>f){var u=no.formatPrefix(t,p);t=u.scale(t),n=u.symbol+g}else t*=f;t=d(t,p);var x,b,E=t.lastIndexOf(".");if(0>E){var w=y?t.lastIndexOf("e"):-1;0>w?(x=t,b=""):(x=t.substring(0,w),b=t.substring(w))}else x=t.substring(0,E),b=e+t.substring(E+1);!c&&h&&(x=a(x,1/0));var C=m.length+x.length+b.length+(_?0:r.length),T=l>C?new Array(C=l-C+1).join(i):"";return _&&(x=a(T+x,T.length?l-b.length:1/0)),r+=m,t=x+b,("<"===o?r+t+T:">"===o?T+r+t:"^"===o?T.substring(0,C>>=1)+r+t+T.substring(C):r+(_?t:T+t))+n}}}function Ft(t){return t+""}function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function zt(t,e,n){function i(e){var n=t(e),i=a(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ls(n-1)),1),n}function a(t,n){return e(t=new ls(+t),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;i>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;i>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{ls=Ut;var i=new Ut;return i._=t,o(i,e,n)}finally{ls=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var u=t.utc=jt(t);return u.floor=u,u.round=jt(i),u.ceil=jt(r),u.offset=jt(a),u.range=s,t}function jt(t){return function(e,n){try{ls=Ut;var i=new Ut;return i._=e,t(i,n)._}finally{ls=Date}}}function Ht(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=ps[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=A[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),u=s+1);return o.push(t.slice(u,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&ls!==Ut,o=new(a?Ut:ls);return"j"in i?o.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,u=e.length,c=n.length;u>s;){if(i>=c)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=k[o in ps?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=b.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){M.lastIndex=0;var i=M.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=T.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,A.c.toString(),e,i)}function u(t,e,i){return n(t,A.x.toString(),e,i)}function c(t,e,i){return n(t,A.X.toString(),e,i)}function l(t,e,n){var i=_.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,p=t.date,d=t.time,f=t.periods,m=t.days,g=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ls=Ut;var e=new ls;return e._=t,i(e)}finally{ls=Date}}var i=e(t);return n.parse=function(t){try{ls=Ut;var e=i.parse(t);return e&&e._}finally{ls=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ue;var _=no.map(),x=Vt(m),b=Gt(m),E=Vt(g),w=Gt(g),C=Vt(v),T=Gt(v),M=Vt(y),S=Gt(y);f.forEach(function(t,e){_.set(t.toLowerCase(),e)});var A={a:function(t){return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+cs.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(cs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(cs.mondayOfYear(t),e,2)},x:e(p),X:e(d),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},k={a:i,A:r,b:a,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ae,m:$t,M:ie,p:l,S:re,U:Xt,w:qt,W:Yt,x:u,X:c,y:Kt,Y:Zt,Z:Jt,"%":se};return e}function Wt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(e)+r:r)}function Vt(t){return new RegExp("^(?:"+t.map(no.requote).join("|")+")","i")}function Gt(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Xt(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Yt(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Zt(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Kt(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.y=Qt(+i[0]),n+i[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qt(t){return t+(t>68?1900:2e3)}function $t(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ae(t,e,n){ds.lastIndex=0;var i=ds.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=mo(e)/60|0,r=mo(e)%60;return n+Wt(i,"0",2)+Wt(r,"0",2)}function se(t,e,n){fs.lastIndex=0;var i=fs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ce(){}function le(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function he(t,e){t&&ys.hasOwnProperty(t.type)&&ys[t.type](t,e)}function pe(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)pe(t[n],e,1);e.polygonEnd()}function fe(){function t(t,e){t*=Bo,e=e*Bo/2+Do/4;var n=t-i,o=n>=0?1:-1,s=o*n,u=Math.cos(e),c=Math.sin(e),l=a*c,h=r*u+l*Math.cos(s),p=l*o*Math.sin(s);xs.add(Math.atan2(p,h)),i=t,r=u,a=c}var e,n,i,r,a;bs.point=function(o,s){bs.point=t,i=(e=o)*Bo,r=Math.cos(s=(n=s)*Bo/2+Do/4),a=Math.sin(s)},bs.lineEnd=function(){t(e,n)}}function me(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function Ee(t,e){return mo(t[0]-e[0])<Po&&mo(t[1]-e[1])<Po}function we(t,e){t*=Bo;var n=Math.cos(e*=Bo);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){++Es,Cs+=(t-Cs)/Es,Ts+=(e-Ts)/Es,Ms+=(n-Ms)/Es}function Te(){function t(t,r){t*=Bo;var a=Math.cos(r*=Bo),o=a*Math.cos(t),s=a*Math.sin(t),u=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*u-i*s)*c+(c=i*o-e*u)*c+(c=e*s-n*o)*c),e*o+n*s+i*u);ws+=c,Ss+=c*(e+(e=o)),As+=c*(n+(n=s)),ks+=c*(i+(i=u)),Ce(e,n,i)}var e,n,i;Ds.point=function(r,a){r*=Bo;var o=Math.cos(a*=Bo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Ds.point=t,Ce(e,n,i)}}function Me(){Ds.point=we}function Se(){function t(t,e){t*=Bo;var n=Math.cos(e*=Bo),o=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=r*u-a*s,l=a*o-i*u,h=i*s-r*o,p=Math.sqrt(c*c+l*l+h*h),d=i*o+r*s+a*u,f=p&&-et(d)/p,m=Math.atan2(p,d);Ls+=f*c,Ps+=f*l,Ns+=f*h,ws+=m,Ss+=m*(i+(i=o)),As+=m*(r+(r=s)),ks+=m*(a+(a=u)),Ce(i,r,a)}var e,n,i,r,a;Ds.point=function(o,s){e=o,n=s,Ds.point=t,o*=Bo;var u=Math.cos(s*=Bo);i=u*Math.cos(o),r=u*Math.sin(o),a=Math.sin(s),Ce(i,r,a)},Ds.lineEnd=function(){t(e,n),Ds.lineEnd=Me,Ds.point=we}}function Ae(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function ke(){return!0}function Le(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Ee(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new Ne(n,t,null,!0),c=new Ne(n,null,u,!1);u.o=c,a.push(u),o.push(c),u=new Ne(i,t,null,!1),c=new Ne(i,null,u,!0),u.o=c,a.push(u),o.push(c)}}),o.sort(e),Pe(a),Pe(o),a.length){for(var s=0,u=n,c=o.length;c>s;++s)o[s].e=u=!u;for(var l,h,p=a[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;l=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(var s=0,c=l.length;c>s;++s)r.point((h=l[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f){l=d.p.z;for(var s=l.length-1;s>=0;--s)r.point((h=l[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,l=d.z,f=!f}while(!d.v);r.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ne(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);g.point(n[0],n[1])}function u(){y.point=s,g.lineStart()}function c(){y.point=o,g.lineEnd()}function l(t,e){m.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function h(){x.lineStart(),m=[]}function p(){l(m[0][0],m[0][1]),x.lineEnd();var t,e=x.clean(),n=_.buffer(),i=n.length;if(m.pop(),f.push(m),m=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Re))}var d,f,m,g=e(a),v=r.invert(i[0],i[1]),y={point:o,lineStart:u,lineEnd:c,polygonStart:function(){y.point=l,y.lineStart=h,y.lineEnd=p,d=[],f=[]},polygonEnd:function(){y.point=o,y.lineStart=u,y.lineEnd=c,d=no.merge(d);var t=ze(v,f);d.length?(b||(a.polygonStart(),b=!0),Le(d,Oe,t,n,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),d=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},_=Ie(),x=e(_),b=!1;return y}}function Re(t){return t.length>1}function Ie(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:E,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Oe(t,e){return((t=t.x)[0]<0?t[1]-Oo-Po:Oo-t[1])-((e=e.x)[0]<0?e[1]-Oo-Po:Oo-e[1])}function Be(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Do:-Do,u=mo(a-n);mo(u-Do)<Po?(t.point(n,i=(i+o)/2>0?Oo:-Oo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&u>=Do&&(mo(n-r)<Po&&(n-=r*Po),mo(a-s)<Po&&(a-=s*Po),i=Fe(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Fe(t,e,n,i){var r,a,o=Math.sin(t-n);return mo(o)>Po?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function Ue(t,e,n,i){var r;if(null==t)r=n*Oo,i.point(-Do,r),i.point(0,r),i.point(Do,r),i.point(Do,0),i.point(Do,-r),i.point(0,-r),i.point(-Do,-r),i.point(-Do,0),i.point(-Do,r);else if(mo(t[0]-e[0])>Po){var a=t[0]<e[0]?Do:-Do;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function ze(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;xs.reset();for(var s=0,u=e.length;u>s;++s){var c=e[s],l=c.length;if(l)for(var h=c[0],p=h[0],d=h[1]/2+Do/4,f=Math.sin(d),m=Math.cos(d),g=1;;){g===l&&(g=0),t=c[g];var v=t[0],y=t[1]/2+Do/4,_=Math.sin(y),x=Math.cos(y),b=v-p,E=b>=0?1:-1,w=E*b,C=w>Do,T=f*_;if(xs.add(Math.atan2(T*E*Math.sin(w),m*x+T*Math.cos(w))),a+=C?b+E*Ro:b,C^p>=n^v>=n){var M=ve(me(h),me(t));xe(M);var S=ve(r,M);xe(S);var A=(C^b>=0?-1:1)*nt(S[2]);(i>A||i===A&&(M[0]||M[1]))&&(o+=C^b>=0?1:-1)}if(!g++)break;p=v,f=_,m=x,h=t}}return(-Po>a||Po>a&&0>xs)^1&o}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,p){var d,f=[h,p],m=e(h,p),g=o?m?0:r(h,p):m?r(h+(0>h?Do:-Do),p):0;if(!n&&(c=u=m)&&t.lineStart(),m!==u&&(d=i(n,f),(Ee(n,d)||Ee(f,d))&&(f[0]+=Po,f[1]+=Po,m=e(f[0],f[1]))),m!==u)l=0,m?(t.lineStart(),d=i(f,n),t.point(d[0],d[1])):(d=i(n,f),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&o^m){var v;g&a||!(v=i(f,n,!0))||(l=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Ee(n,f)||t.point(f[0],f[1]),n=f,u=m,a=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function i(t,e,n){var i=me(t),r=me(e),o=[1,0,0],s=ve(i,r),u=ge(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var h=a*u/l,p=-a*c/l,d=ve(o,s),f=_e(o,h),m=_e(s,p);ye(f,m);var g=d,v=ge(f,g),y=ge(g,g),_=v*v-y*(ge(f,f)-1);if(!(0>_)){var x=Math.sqrt(_),b=_e(g,(-v-x)/y);if(ye(b,f),b=be(b),!n)return b;var E,w=t[0],C=e[0],T=t[1],M=e[1];w>C&&(E=w,w=C,C=E);var S=C-w,A=mo(S-Do)<Po,k=A||Po>S;if(!A&&T>M&&(E=T,T=M,M=E),k?A?T+M>0^b[1]<(mo(b[0]-w)<Po?T:M):T<=b[1]&&b[1]<=M:S>Do^(w<=b[0]&&b[0]<=C)){var L=_e(g,(-v+x)/y);return ye(L,f),[b,be(L)]}}}function r(e,n){var i=o?t:Do-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=mo(a)>Po,u=mn(t,6*Bo);return De(e,n,u,o?[0,-t]:[-Do,t-Do])}function He(t,e,n,i){return function(r){var a,o=r.a,s=r.b,u=o.x,c=o.y,l=s.x,h=s.y,p=0,d=1,f=l-u,m=h-c;if(a=t-u,f||!(a>0)){if(a/=f,0>f){if(p>a)return;d>a&&(d=a)}else if(f>0){if(a>d)return;a>p&&(p=a)}if(a=n-u,f||!(0>a)){if(a/=f,0>f){if(a>d)return;a>p&&(p=a)}else if(f>0){if(p>a)return;d>a&&(d=a)}if(a=e-c,m||!(a>0)){if(a/=m,0>m){if(p>a)return;d>a&&(d=a)}else if(m>0){if(a>d)return;a>p&&(p=a)}if(a=i-c,m||!(0>a)){if(a/=m,0>m){if(a>d)return;a>p&&(p=a)}else if(m>0){if(p>a)return;d>a&&(d=a)}return p>0&&(r.a={x:u+p*f,y:c+p*m}),1>d&&(r.b={x:u+d*f,y:c+d*m}),r}}}}}}function We(t,e,n,i){function r(i,r){return mo(i[0]-t)<Po?r>0?0:3:mo(i[0]-n)<Po?r>0?2:1:mo(i[1]-e)<Po?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=g.length,i=t[1],r=0;n>r;++r)for(var a,o=1,s=g[r],u=s.length,c=s[0];u>o;++o)a=s[o],c[1]<=i?a[1]>i&&tt(c,a,t)>0&&++e:a[1]<=i&&tt(c,a,t)<0&&--e,c=a;return 0!==e}function c(a,s,u,c){var l=0,h=0;if(null==a||(l=r(a,u))!==(h=r(s,u))||o(a,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?i:e);while((l=(l+u+4)%4)!==h)}else c.point(s[0],s[1])}function l(r,a){return r>=t&&n>=r&&a>=e&&i>=a}function h(t,e){l(t,e)&&s.point(t,e)}function p(){k.point=f,g&&g.push(v=[]),C=!0,w=!1,b=E=NaN}function d(){m&&(f(y,_),x&&w&&S.rejoin(),m.push(S.buffer())),k.point=h,w&&s.lineEnd()}function f(t,e){t=Math.max(-Is,Math.min(Is,t)),e=Math.max(-Is,Math.min(Is,e));var n=l(t,e);if(g&&v.push([t,e]),C)y=t,_=e,x=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&w)s.point(t,e);else{var i={a:{x:b,y:E},b:{x:t,y:e}};A(i)?(w||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}b=t,E=e,w=n}var m,g,v,y,_,x,b,E,w,C,T,M=s,S=Ie(),A=He(t,e,n,i),k={point:h,lineStart:p,lineEnd:d,polygonStart:function(){s=S,m=[],g=[],T=!0},polygonEnd:function(){s=M,m=no.merge(m);var e=u([t,i]),n=T&&e,r=m.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),r&&Le(m,a,e,c,s),s.polygonEnd()),m=g=v=null}};return k}}function Ve(t){var e=0,n=Do/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Do/180,n=t[1]*Do/180):[e/Do*180,n/Do*180]},r}function Ge(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,nt((a-(t*t+n*n)*r*r)/(2*r))]},n}function qe(){function t(t,e){Bs+=r*t-i*e,i=t,r=e}var e,n,i,r;Hs.point=function(a,o){Hs.point=t,e=i=a,n=r=o},Hs.lineEnd=function(){t(e,n)}}function Xe(t,e){Fs>t&&(Fs=t),t>zs&&(zs=t),Us>e&&(Us=e),e>js&&(js=e)}function Ye(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=Ze(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=Ze(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ze(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){Cs+=t,Ts+=e,++Ms}function Je(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);Ss+=o*(e+t)/2,As+=o*(n+i)/2,ks+=o,Ke(e=t,n=i)}var e,n;Vs.point=function(i,r){Vs.point=t,Ke(e=i,n=r)}}function Qe(){Vs.point=Ke}function $e(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);Ss+=o*(i+t)/2,As+=o*(r+e)/2,ks+=o,o=r*t-i*e,Ls+=o*(i+t),Ps+=o*(r+e),Ns+=3*o,Ke(i=t,r=e)}var e,n,i,r;Vs.point=function(a,o){Vs.point=t,Ke(e=i=a,n=r=o)},Vs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Ro)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:E};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return an(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){_=NaN,C.point=a,e.lineStart()}function a(n,i){var a=me([n,i]),o=t(n,i);r(_,x,y,b,E,w,_=o[0],x=o[1],y=n,b=a[0],E=a[1],w=a[2],s,e),e.point(_,x)}function o(){C.point=n,e.lineEnd()}function u(){i(),C.point=c,C.lineEnd=l}function c(t,e){a(h=t,p=e),d=_,f=x,m=b,g=E,v=w,C.point=a}function l(){r(_,x,y,b,E,w,d,f,h,m,g,v,s,e),C.lineEnd=o,o()}var h,p,d,f,m,g,v,y,_,x,b,E,w,C={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,s,u,c,l,h,p,d,f,m,g,v){var y=l-e,_=h-n,x=y*y+_*_;if(x>4*a&&g--){var b=s+d,E=u+f,w=c+m,C=Math.sqrt(b*b+E*E+w*w),T=Math.asin(w/=C),M=mo(mo(w)-1)<Po||mo(i-p)<Po?(i+p)/2:Math.atan2(E,b),S=t(M,T),A=S[0],k=S[1],L=A-e,P=k-n,N=_*L-y*P;(N*N/x>a||mo((y*L+_*P)/x-.5)>.3||o>s*d+u*f+c*m)&&(r(e,n,i,s,u,c,A,k,M,b/=C,E/=C,w,g,v),v.point(A,k),r(A,k,M,b,E,w,l,h,p,d,f,m,g,v))}}var a=.5,o=Math.cos(30*Bo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function nn(t){var e=en(function(e,n){return t([e*Fo,n*Fo])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function an(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Bo,t[1]*Bo),[t[0]*p+u,c-t[1]*p]}function n(t){return t=s.invert((t[0]-u)/p,(c-t[1])/p),t&&[t[0]*Fo,t[1]*Fo]}function i(){s=Ae(o=hn(v,y,x),a);var t=a(m,g);return u=d-t[0]*p,c=f+t[1]*p,r()}function r(){return l&&(l.valid=!1,l=null),e}var a,o,s,u,c,l,h=en(function(t,e){return t=a(t,e),[t[0]*p+u,c-t[1]*p]}),p=150,d=480,f=250,m=0,g=0,v=0,y=0,x=0,b=Rs,E=_,w=null,C=null;return e.stream=function(t){return l&&(l.valid=!1),l=un(b(o,h(E(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Rs):je((w=+t)*Bo),r()):w},e.clipExtent=function(t){return arguments.length?(C=t,E=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):_,r()):C},e.scale=function(t){return arguments.length?(p=+t,i()):p},e.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],i()):[d,f]},e.center=function(t){return arguments.length?(m=t[0]%360*Bo,g=t[1]%360*Bo,i()):[m*Fo,g*Fo]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Bo,y=t[1]%360*Bo,x=t.length>2?t[2]%360*Bo:0,i()):[v*Fo,y*Fo,x*Fo]},no.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function un(t){return an(t,function(e,n){t.point(e*Bo,n*Bo)})}function cn(t,e){return[t,e]}function ln(t,e){return[t>Do?t-Ro:-Do>t?t+Ro:t,e]}function hn(t,e,n){return t?e||n?Ae(dn(t),fn(e,n)):dn(t):e||n?fn(e,n):ln}function pn(t){return function(e,n){return e+=t,[e>Do?e-Ro:-Do>e?e+Ro:e,n]}}function dn(t){var e=pn(t);return e.invert=pn(-t),e}function fn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*i+s*r;return[Math.atan2(u*a-l*o,s*i-c*r),nt(l*a+u*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*a-u*o;return[Math.atan2(u*a+c*o,s*i+l*r),nt(l*i-s*r)]},n}function mn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var u=o*e;null!=r?(r=gn(n,r),a=gn(n,a),(o>0?a>r:r>a)&&(r+=o*Ro)):(r=t+o*Ro,a=t-.5*u);for(var c,l=r;o>0?l>a:a>l;l-=u)s.point((c=be([n,-i*Math.cos(l),-i*Math.sin(l)]))[0],c[1])}}function gn(t,e){var n=me(e);n[0]-=t,xe(n);var i=et(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Po)%(2*Math.PI)}function vn(t,e,n){var i=no.range(t,e-Po,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=no.range(t,e-Po,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function _n(t){return t.source}function xn(t){return t.target}function bn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),c=r*Math.sin(t),l=o*Math.cos(n),h=o*Math.sin(n),p=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(p),f=p?function(t){var e=Math.sin(t*=p)*d,n=Math.sin(p-t)*d,i=n*u+e*l,r=n*c+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Fo,Math.atan2(o,Math.sqrt(i*i+r*r))*Fo]}:function(){return[t*Fo,e*Fo]};return f.distance=p,f}function En(){function t(t,r){var a=Math.sin(r*=Bo),o=Math.cos(r),s=mo((t*=Bo)-e),u=Math.cos(s);Gs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*u)*s),n*a+i*o*u),e=t,n=a,i=o}var e,n,i;qs.point=function(r,a){e=r*Bo,n=Math.sin(a*=Bo),i=Math.cos(a),qs.point=t},qs.lineEnd=function(){qs.point=qs.lineEnd=E}}function wn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function Cn(t,e){function n(t,e){o>0?-Oo+Po>e&&(e=-Oo+Po):e>Oo-Po&&(e=Oo-Po);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Do/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=$(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-Oo]},n):Mn}function Tn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return mo(r)<Po?cn:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-$(r)*Math.sqrt(t*t+n*n)]},n)}function Mn(t,e){return[t,Math.log(Math.tan(Do/4+e/2))]}function Sn(t){var e,n=on(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Do*i(),u=r();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Do/4+e/2)),-t]}function kn(t){return t[0]}function Ln(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&tt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,u=t[1],c=n[1],l=e[1]-u,h=i[1]-c,p=(s*(u-c)-h*(r-a))/(h*o-s*l);return[r+p*o,u+p*l]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function On(){ii(this),this.edge=this.site=this.circle=null}function Bn(t){var e=ru.pop()||new On;return e.site=t,e}function Fn(t){Yn(t),eu.remove(t),ru.push(t),ii(t)}function Un(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Fn(t);for(var u=a;u.circle&&mo(n-u.circle.x)<Po&&mo(i-u.circle.cy)<Po;)a=u.P,s.unshift(u),Fn(u),u=a;s.unshift(u),Yn(u);for(var c=o;c.circle&&mo(n-c.circle.x)<Po&&mo(i-c.circle.cy)<Po;)o=c.N,s.push(c),Fn(c),c=o;s.push(c),Yn(c);var l,h=s.length;for(l=1;h>l;++l)c=s[l],u=s[l-1],ti(c.edge,u.site,c.site,r);u=s[0],c=s[h-1],c.edge=Qn(u.site,c.site,null,r),Xn(u),Xn(c)}function zn(t){for(var e,n,i,r,a=t.x,o=t.y,s=eu._;s;)if(i=jn(s,o)-a,i>Po)s=s.L;else{if(r=a-Hn(s,o),!(r>Po)){i>-Po?(e=s.P,n=s):r>-Po?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Bn(t);if(eu.insert(e,u),e||n){if(e===n)return Yn(e),n=Bn(e.site),eu.insert(u,n),u.edge=n.edge=Qn(e.site,u.site),Xn(e),void Xn(n);if(!n)return void(u.edge=Qn(e.site,u.site));Yn(e),Yn(n);var c=e.site,l=c.x,h=c.y,p=t.x-l,d=t.y-h,f=n.site,m=f.x-l,g=f.y-h,v=2*(p*g-d*m),y=p*p+d*d,_=m*m+g*g,x={x:(g*y-d*_)/v+l,y:(p*_-m*y)/v+h};ti(n.edge,c,f,x),u.edge=Qn(c,t,null,x),n.edge=Qn(t,f,null,x),Xn(e),Xn(n)}}function jn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var l=s-i,h=1/a-1/c,p=l/c;return h?(-p+Math.sqrt(p*p-2*h*(l*l/(-2*c)-u+c/2+r-a/2)))/h+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return jn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Wn(t){this.site=t,this.edges=[]}function Vn(t){for(var e,n,i,r,a,o,s,u,c,l,h=t[0][0],p=t[1][0],d=t[0][1],f=t[1][1],m=tu,g=m.length;g--;)if(a=m[g],a&&a.prepare())for(s=a.edges,u=s.length,o=0;u>o;)l=s[o].end(),i=l.x,r=l.y,c=s[++o%u].start(),e=c.x,n=c.y,(mo(i-e)>Po||mo(r-n)>Po)&&(s.splice(o,0,new ei($n(a.site,l,mo(i-h)<Po&&f-r>Po?{x:h,y:mo(e-h)<Po?n:f}:mo(r-f)<Po&&p-i>Po?{x:mo(n-f)<Po?e:p,y:f}:mo(i-p)<Po&&r-d>Po?{x:p,y:mo(e-p)<Po?n:d}:mo(r-d)<Po&&i-h>Po?{x:mo(n-d)<Po?e:h,y:d}:null),a.site,null)),++u)}function Gn(t,e){return e.angle-t.angle}function qn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,u=i.x-o,c=i.y-s,l=a.x-o,h=a.y-s,p=2*(u*h-c*l);if(!(p>=-No)){var d=u*u+c*c,f=l*l+h*h,m=(h*d-c*f)/p,g=(u*f-l*d)/p,h=g+s,v=au.pop()||new qn;v.arc=t,v.site=r,v.x=m+o,v.y=h+Math.sqrt(m*m+g*g),v.cy=h,t.circle=v;for(var y=null,_=iu._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}iu.insert(y,v),y||(nu=v)}}}}function Yn(t){var e=t.circle;e&&(e.P||(nu=e.N),iu.remove(e),au.push(e),ii(e),t.circle=null)}function Zn(t){for(var e,n=$s,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Kn(e,t)||!i(e)||mo(e.a.x-e.b.x)<Po&&mo(e.a.y-e.b.y)<Po)&&(e.a=e.b=null,n.splice(r,1))}function Kn(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,h=t.r,p=l.x,d=l.y,f=h.x,m=h.y,g=(p+f)/2,v=(d+m)/2;if(m===d){if(o>g||g>=s)return;if(p>f){if(a){if(a.y>=c)return}else a={x:g,y:u};n={x:g,y:c}}else{if(a){if(a.y<u)return}else a={x:g,y:c};n={
x:g,y:u}}}else if(i=(p-f)/(m-d),r=v-i*g,-1>i||i>1)if(p>f){if(a){if(a.y>=c)return}else a={x:(u-r)/i,y:u};n={x:(c-r)/i,y:c}}else{if(a){if(a.y<u)return}else a={x:(c-r)/i,y:c};n={x:(u-r)/i,y:u}}else if(m>d){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Jn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qn(t,e,n,i){var r=new Jn(t,e);return $s.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),tu[t.i].edges.push(new ei(r,t,e)),tu[e.i].edges.push(new ei(r,e,t)),r}function $n(t,e,n){var i=new Jn(t,null);return i.a=e,i.b=n,$s.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ai(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function oi(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,a=t.sort(ui).pop();for($s=[],tu=new Array(t.length),eu=new ni,iu=new ni;;)if(r=nu,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(tu[a.i]=new Wn(a),zn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;Un(r.arc)}e&&(Zn(e),Vn(e));var o={cells:tu,edges:$s};return eu=iu=$s=tu=null,o}function ui(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function li(t){return t.x}function hi(t){return t.y}function pi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),u=e.nodes;u[0]&&di(t,u[0],n,i,o,s),u[1]&&di(t,u[1],o,i,r,s),u[2]&&di(t,u[2],n,s,o,a),u[3]&&di(t,u[3],o,s,r,a)}}function fi(t,e,n,i,r,a,o){var s,u=1/0;return function c(t,l,h,p,d){if(!(l>a||h>o||i>p||r>d)){if(f=t.point){var f,m=e-t.x,g=n-t.y,v=m*m+g*g;if(u>v){var y=Math.sqrt(u=v);i=e-y,r=n-y,a=e+y,o=n+y,s=f}}for(var _=t.nodes,x=.5*(l+p),b=.5*(h+d),E=e>=x,w=n>=b,C=w<<1|E,T=C+4;T>C;++C)if(t=_[3&C])switch(3&C){case 0:c(t,l,h,x,b);break;case 1:c(t,x,h,p,b);break;case 2:c(t,l,b,x,d);break;case 3:c(t,x,b,p,d)}}}(t,i,r,a,o),s}function mi(t,e){t=no.rgb(t),e=no.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+a*t))+bt(Math.round(i+o*t))+bt(Math.round(r+s*t))}}function gi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=_i(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,r,a=su.lastIndex=uu.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=su.exec(t))&&(i=uu.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:vi(n,i)})),a=uu.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function _i(t,e){for(var n,i=no.interpolators.length;--i>=0&&!(n=no.interpolators[i](t,e)););return n}function xi(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(_i(t[n],e[n]));for(;a>n;++n)r[n]=t[n];for(;o>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ei(t){return function(e){return 1-t(1-e)}}function wi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ci(t){return t*t}function Ti(t){return t*t*t}function Mi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Si(t){return function(e){return Math.pow(e,t)}}function Ai(t){return 1-Math.cos(t*Oo)}function ki(t){return Math.pow(2,10*(t-1))}function Li(t){return 1-Math.sqrt(1-t*t)}function Pi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ro*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ro/e)}}function Ni(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Di(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=no.hcl(t),e=no.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ht(n+a*t,i+o*t,r+s*t)+""}}function Ii(t,e){t=no.hsl(t),e=no.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ct(n+a*t,i+o*t,r+s*t)+""}}function Oi(t,e){t=no.lab(t),e=no.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return dt(n+a*t,i+o*t,r+s*t)+""}}function Bi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Fi(t){var e=[t.a,t.b],n=[t.c,t.d],i=zi(e),r=Ui(e,n),a=zi(ji(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Fo,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Fo:0}function Ui(t,e){return t[0]*e[0]+t[1]*e[1]}function zi(t){var e=Math.sqrt(Ui(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ji(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t,e){var n,i=[],r=[],a=no.transform(t),o=no.transform(e),s=a.translate,u=o.translate,c=a.rotate,l=o.rotate,h=a.skew,p=o.skew,d=a.scale,f=o.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:vi(s[0],u[0])},{i:3,x:vi(s[1],u[1])})):u[0]||u[1]?i.push("translate("+u+")"):i.push(""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:vi(c,l)})):l&&i.push(i.pop()+"rotate("+l+")"),h!=p?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:vi(h,p)}):p&&i.push(i.pop()+"skewX("+p+")"),d[0]!=f[0]||d[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:vi(d[0],f[0])},{i:n-2,x:vi(d[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=r.length,function(t){for(var e,a=-1;++a<n;)i[(e=r[a]).i]=e.x(t);return i.join("")}}function Wi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Vi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Gi(t){for(var e=t.source,n=t.target,i=Xi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Xi(t,e){if(t===e)return t;for(var n=qi(t),i=qi(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function Yi(t){t.fixed|=2}function Zi(t){t.fixed&=-7}function Ki(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ji(t){t.fixed&=-5}function Qi(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,u=-1;++u<s;)a=o[u],null!=a&&(Qi(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function $i(t,e){return no.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ar,t}function tr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function er(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function nr(t){return t.children}function ir(t){return t.value}function rr(t,e){return e.value-t.value}function ar(t){return no.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function or(t){return t.x}function sr(t){return t.y}function ur(t,e,n){t.y0=e,t.y=n}function cr(t){return no.range(t.length)}function lr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function hr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function pr(t){return t.reduce(dr,0)}function dr(t,e){return t+e[1]}function fr(t,e){return mr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function mr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function gr(t){return[no.min(t),no.max(t)]}function vr(t,e){return t.value-e.value}function yr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function _r(t,e){t._pack_next=e,e._pack_prev=t}function xr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function br(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),p=Math.min(t.y-t.r,p),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(c=n.length)){var n,i,r,a,o,s,u,c,l=1/0,h=-(1/0),p=1/0,d=-(1/0);if(n.forEach(Er),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(a=n[2],Tr(i,r,a),e(a),yr(i,a),i._pack_prev=a,yr(a,r),r=i._pack_next,o=3;c>o;o++){Tr(i,r,a=n[o]);var f=0,m=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,m++)if(xr(s,a)){f=1;break}if(1==f)for(u=i._pack_prev;u!==s._pack_prev&&!xr(u,a);u=u._pack_prev,g++);f?(g>m||m==g&&r.r<i.r?_r(i,r=s):_r(i=u,r),o--):(yr(i,a),r=a,e(a))}var v=(l+h)/2,y=(p+d)/2,_=0;for(o=0;c>o;o++)a=n[o],a.x-=v,a.y-=y,_=Math.max(_,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=_,n.forEach(wr)}}function Er(t){t._pack_next=t._pack_prev=t}function wr(t){delete t._pack_next,delete t._pack_prev}function Cr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Cr(r[a],e,n,i)}function Tr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var u=.5+(i-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+u*r+c*a,n.y=t.y+u*a-c*r}else n.x=t.x+i,n.y=t.y}function Mr(t,e){return t.parent==e.parent?1:2}function Sr(t){var e=t.children;return e.length?e[0]:t.t}function Ar(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function kr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Lr(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Pr(t,e,n){return t.a.parent===e.parent?t.a:n}function Nr(t){return 1+no.max(t,function(t){return t.y})}function Dr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Rr(t){var e=t.children;return e&&e.length?Rr(e[0]):t}function Ir(t){var e,n=t.children;return n&&(e=n.length)?Ir(n[e-1]):t}function Or(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Br(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Fr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ur(t){return t.rangeExtent?t.rangeExtent():Fr(t.range())}function zr(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function jr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return a>o&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Hr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:_u}function Wr(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=no.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function Vr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Wr:zr,u=i?Vi:Wi;return o=r(t,e,u,n),s=r(e,t,u,_i),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Bi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return Yr(t,e)},a.tickFormat=function(e,n){return Zr(t,e,n)},a.nice=function(e){return qr(t,e),r()},a.copy=function(){return Vr(t,e,n,i)},r()}function Gr(t,e){return no.rebind(t,e,"range","rangeRound","interpolate","clamp")}function qr(t,e){return jr(t,Hr(Xr(t,e)[2]))}function Xr(t,e){null==e&&(e=10);var n=Fr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Yr(t,e){return no.range.apply(no,Xr(t,e))}function Zr(t,e,n){var i=Xr(t,e);if(n){var r=ss.exec(n);if(r.shift(),"s"===r[8]){var a=no.formatPrefix(Math.max(mo(i[0]),mo(i[1])));return r[7]||(r[7]="."+Kr(a.scale(i[2]))),r[8]="f",n=no.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+Jr(r[8],i)),n=r.join("")}else n=",."+Kr(i[2])+"f";return no.format(n)}function Kr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Jr(t,e){var n=Kr(e[2]);return t in xu?Math.abs(n-Kr(Math.max(mo(e[0]),mo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Qr(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=jr(i.map(r),n?Math:Eu);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Fr(i),o=[],s=t[0],u=t[1],c=Math.floor(r(s)),l=Math.ceil(r(u)),h=e%1?2:e;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var p=1;h>p;p++)o.push(a(c)*p);o.push(a(c))}else for(o.push(a(c));c++<l;)for(var p=h-1;p>0;p--)o.push(a(c)*p);for(c=0;o[c]<s;c++);for(l=o.length;o[l-1]>u;l--);o=o.slice(c,l)}return o},o.tickFormat=function(t,e){if(!arguments.length)return bu;arguments.length<2?e=bu:"function"!=typeof e&&(e=no.format(e));var i,s=Math.max(.1,t/o.ticks().length),u=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/a(u(r(t)+i))<=s?e(t):""}},o.copy=function(){return Qr(t.copy(),e,n,i)},Gr(o,t)}function $r(t,e,n){function i(e){return t(r(e))}var r=ta(e),a=ta(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Yr(n,t)},i.tickFormat=function(t,e){return Zr(n,t,e)},i.nice=function(t){return i.domain(qr(n,t))},i.exponent=function(o){return arguments.length?(r=ta(e=o),a=ta(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return $r(t.copy(),e,n)},Gr(i,t)}function ta(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ea(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%a.length]}function i(e,n){return no.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new l;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],c=r[1],l=t.length<2?(u=(u+c)/2,0):(c-u)/(t.length-1+s);return a=i(u+l*s/2,l),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],c=r[1],l=t.length<2?(u=c=Math.round((u+c)/2),0):(c-u)/(t.length-1+s)|0;return a=i(u+Math.round(l*s/2+(c-u-(t.length-1+s)*l)/2),l),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=r[1]<r[0],l=r[c-0],h=r[1-c],p=(h-l)/(t.length-s+2*u);return a=i(l+p*u,p),c&&a.reverse(),o=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var c=r[1]<r[0],l=r[c-0],h=r[1-c],p=Math.floor((h-l)/(t.length-s+2*u));return a=i(l+Math.round((h-l-(t.length-s)*p)/2),p),c&&a.reverse(),o=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Fr(e.a[0])},n.copy=function(){return ea(t,e)},n.domain(t)}function na(t,e){function n(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=no.quantile(t,n/i);return o}function o(t){return isNaN(t=+t)?void 0:e[no.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(r).filter(a).sort(i),n()):t},o.range=function(t){return arguments.length?(e=t,n()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return na(t,e)},n()}function ia(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/a+t,[e,e+1/a]},i.copy=function(){return ia(t,e,n)},r()}function ra(t,e){function n(n){return n>=n?e[no.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ra(t,e)},n}function aa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Yr(t,e)},e.tickFormat=function(e,n){return Zr(t,e,n)},e.copy=function(){return aa(t)},e}function oa(){return 0}function sa(t){return t.innerRadius}function ua(t){return t.outerRadius}function ca(t){return t.startAngle}function la(t){return t.endAngle}function ha(t){return t&&t.padAngle}function pa(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function da(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),u=s*o,c=-s*a,l=t[0]+u,h=t[1]+c,p=e[0]+u,d=e[1]+c,f=(l+p)/2,m=(h+d)/2,g=p-l,v=d-h,y=g*g+v*v,_=n-i,x=l*d-p*h,b=(0>v?-1:1)*Math.sqrt(_*_*y-x*x),E=(x*v-g*b)/y,w=(-x*g-v*b)/y,C=(x*v+g*b)/y,T=(-x*g+v*b)/y,M=E-f,S=w-m,A=C-f,k=T-m;return M*M+S*S>A*A+k*k&&(E=C,w=T),[[E-u,w-c],[E*n/_,w*n/_]]}function fa(t){function e(e){function o(){c.push("M",a(t(l),s))}for(var u,c=[],l=[],h=-1,p=e.length,d=St(n),f=St(i);++h<p;)r.call(this,u=e[h],h)?l.push([+d.call(this,u,h),+f.call(this,u,h)]):l.length&&(o(),l=[]);return l.length&&o(),c.length?c.join(""):null}var n=kn,i=Ln,r=ke,a=ma,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Au.get(t)||ma).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ma(t){return t.join("L")}function ga(t){return ma(t)+"Z"}function va(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function ya(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function _a(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function xa(t,e){return t.length<4?ma(t):t[1]+wa(t.slice(1,-1),Ca(t,e))}function ba(t,e){return t.length<3?ma(t):t[0]+wa((t.push(t[0]),t),Ca([t[t.length-2]].concat(t,[t[1]]),e))}function Ea(t,e){return t.length<3?ma(t):t[0]+wa(t,Ca(t,e))}function wa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ma(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,u=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,u++)a=t[u],s=e[c],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var l=t[u];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+l[0]+","+l[1]}return i}function Ca(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,u=t.length;++s<u;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Ta(t){if(t.length<3)return ma(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],u=[r,",",a,"L",ka(Pu,o),",",ka(Pu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),La(u,o,s);return t.pop(),u.push("L",i),u.join("")}function Ma(t){if(t.length<4)return ma(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(ka(Pu,a)+","+ka(Pu,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),La(n,a,o);return n.join("")}function Sa(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[ka(Pu,o),",",ka(Pu,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),La(e,o,s);return e.join("")}function Aa(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,u=t[n][1]-o,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*u);return Ta(t)}function ka(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function La(t,e,n){t.push("C",ka(ku,e),",",ka(ku,n),",",ka(Lu,e),",",ka(Lu,n),",",ka(Pu,e),",",ka(Pu,n))}function Pa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Na(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Pa(r,a);++e<n;)i[e]=(o+(o=Pa(r=a,a=t[e+1])))/2;return i[e]=o,i}function Da(t){for(var e,n,i,r,a=[],o=Na(t),s=-1,u=t.length-1;++s<u;)e=Pa(t[s],t[s+1]),mo(e)<Po?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Ra(t){return t.length<3?ma(t):t[0]+wa(t,Da(t))}function Ia(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-Oo,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Oa(t){function e(e){function u(){m.push("M",s(t(v),h),l,c(t(g.reverse()),h),"Z")}for(var p,d,f,m=[],g=[],v=[],y=-1,_=e.length,x=St(n),b=St(r),E=n===i?function(){return d}:St(i),w=r===a?function(){return f}:St(a);++y<_;)o.call(this,p=e[y],y)?(g.push([d=+x.call(this,p,y),f=+b.call(this,p,y)]),v.push([+E.call(this,p,y),+w.call(this,p,y)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),m.length?m.join(""):null}var n=kn,i=kn,r=0,a=Ln,o=ke,s=ma,u=s.key,c=s,l="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Au.get(t)||ma).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ba(t){return t.radius}function Fa(t){return[t.x,t.y]}function Ua(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Oo;return[n*Math.cos(i),n*Math.sin(i)]}}function za(){return 64}function ja(){return"circle"}function Ha(t){var e=Math.sqrt(t/Do);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wa(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Va(t,e,n){return xo(t,Fu),t.namespace=e,t.id=n,t}function Ga(t,e,n,i){var r=t.id,a=t.namespace;return V(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function qa(t){return null==t&&(t=""),function(){this.textContent=t}}function Xa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ya(t,e,n,i,r){var a=t[n]||(t[n]={active:0,count:0}),o=a[i];if(!o){var s=r.time;o=a[i]={tween:new l,time:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++a.count,no.timer(function(r){function u(n){if(a.active>i)return l();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),a.active=i,o.event&&o.event.start.call(t,t.__data__,e),o.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&m.push(i)}),p=o.ease,h=o.duration,no.timer(function(){return f.c=c(n||1)?ke:c,1},0,s)}function c(n){if(a.active!==i)return 1;for(var r=n/h,s=p(r),u=m.length;u>0;)m[--u].call(t,s);return r>=1?(o.event&&o.event.end.call(t,t.__data__,e),l()):void 0}function l(){return--a.count?delete a[i]:delete t[n],1}var h,p,d=o.delay,f=rs,m=[];return f.t=d+s,r>=d?u(r-d):void(f.c=u)},0,s)}}function Za(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ka(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Ja(t){return t.toISOString()}function Qa(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=no.bisect(Xu,r);return a==Xu.length?[e.year,Xr(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/Xu[a-1]<Xu[a]/r?a-1:a]:[Ku,Xr(t,n)[2]]}return i.invert=function(e){return $a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map($a)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,$a(+n+1),e).length}var a=i.domain(),o=Fr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(jr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=$a(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=$a(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Fr(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],$a(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Qa(t.copy(),e,n)},Gr(i,t)}function $a(t){return new Date(t)}function to(t){return JSON.parse(t.responseText)}function eo(t){var e=ao.createRange();return e.selectNode(ao.body),e.createContextualFragment(t.responseText)}var no={version:"3.5.6"},io=[].slice,ro=function(t){return io.call(t)},ao=this.document;if(ao)try{ro(ao.documentElement.childNodes)[0].nodeType}catch(oo){ro=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ao)try{ao.createElement("DIV").style.setProperty("opacity",0,"")}catch(so){var uo=this.Element.prototype,co=uo.setAttribute,lo=uo.setAttributeNS,ho=this.CSSStyleDeclaration.prototype,po=ho.setProperty;uo.setAttribute=function(t,e){co.call(this,t,e+"")},uo.setAttributeNS=function(t,e,n){lo.call(this,t,e,n+"")},ho.setProperty=function(t,e,n){po.call(this,t,e+"",n)}}no.ascending=i,no.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},no.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},no.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},no.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},no.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)a(n=+t[o])&&(i+=n);else for(;++o<r;)a(n=+e.call(t,t[o],o))&&(i+=n);return i},no.mean=function(t,e){var n,i=0,o=t.length,s=-1,u=o;if(1===arguments.length)for(;++s<o;)a(n=r(t[s]))?i+=n:--u;else for(;++s<o;)a(n=r(e.call(t,t[s],s)))?i+=n:--u;return u?i/u:void 0},no.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},no.median=function(t,e){var n,o=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)a(n=r(t[u]))&&o.push(n);else for(;++u<s;)a(n=r(e.call(t,t[u],u)))&&o.push(n);return o.length?no.quantile(o.sort(i),.5):void 0},no.variance=function(t,e){var n,i,o=t.length,s=0,u=0,c=-1,l=0;if(1===arguments.length)for(;++c<o;)a(n=r(t[c]))&&(i=n-s,s+=i/++l,u+=i*(n-s));else for(;++c<o;)a(n=r(e.call(t,t[c],c)))&&(i=n-s,s+=i/++l,u+=i*(n-s));return l>1?u/(l-1):void 0},no.deviation=function(){var t=no.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fo=o(i);no.bisectLeft=fo.left,no.bisect=no.bisectRight=fo.right,no.bisector=function(t){return o(1===t.length?function(e,n){return i(t(e),n)}:t)},no.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,2>a&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},no.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},no.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(0>i?0:i);i>n;)a[n]=[e=r,r=t[++n]];return a},no.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=no.min(arguments,s),n=new Array(e);++t<e;)for(var i,r=-1,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n},no.transpose=function(t){return no.zip.apply(no,t)},no.keys=function(t){var e=[];for(var n in t)e.push(n);return e},no.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},no.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},no.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var mo=Math.abs;no.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=u(mo(n)),o=-1;if(t*=a,e*=a,n*=a,0>n)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},no.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var go="__proto__",vo="\x00";c(l,{has:d,get:function(t){return this._[h(t)]},set:function(t,e){return this._[h(t)]=e},remove:f,keys:m,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:p(e),value:this._[e]});return t},size:g,empty:v,forEach:function(t){for(var e in this._)t.call(this,p(e),this._[e])}}),no.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var u,c,h,p,d=-1,f=o.length,m=a[s++],g=new l;++d<f;)(p=g.get(u=m(c=o[d])))?p.push(c):g.set(u,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,s))}):(c={},h=function(n,i){c[n]=t(e,i,s)}),g.forEach(h),c}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(no.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},no.set=function(t){var e=new y;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},c(y,{has:d,add:function(t){return this._[h(t+="")]=!0,t},remove:f,values:m,size:g,empty:v,forEach:function(t){for(var e in this._)t.call(this,p(e))}}),no.behavior={},no.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=x(t,e,e[n]);
return t};var yo=["webkit","ms","moz","Moz","o","O"];no.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},no.event=null,no.requote=function(t){return t.replace(_o,"\\$&")};var _o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},bo=function(t,e){return e.querySelector(t)},Eo=function(t,e){return e.querySelectorAll(t)},wo=function(t,e){var n=t.matches||t[b(t,"matchesSelector")];return(wo=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(bo=function(t,e){return Sizzle(t,e)[0]||null},Eo=Sizzle,wo=Sizzle.matchesSelector),no.selection=function(){return no.select(ao.documentElement)};var Co=no.selection.prototype=[];Co.select=function(t){var e,n,i,r,a=[];t=k(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var u=-1,c=i.length;++u<c;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return A(a)},Co.selectAll=function(t){var e,n,i=[];t=L(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,u=o.length;++s<u;)(n=o[s])&&(i.push(e=ro(t.call(n,n.__data__,s,r))),e.parentNode=n);return A(i)};var To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};no.ns={prefix:To,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),To.hasOwnProperty(n)?{space:To[n],local:t}:t}},Co.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=no.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},Co.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=R(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!D(t[r]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},Co.style=function(t,e,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(i in t)this.each(B(i,t[i],e));return this}if(2>r){var a=this.node();return n(a).getComputedStyle(a,null).getPropertyValue(t)}i=""}return this.each(B(t,e,i))},Co.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Co.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Co.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Co.append=function(t){return t=U(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Co.insert=function(t,e){return t=U(t),e=k(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Co.remove=function(){return this.each(z)},Co.data=function(t,e){function n(t,n){var i,r,a,o=t.length,h=n.length,p=Math.min(o,h),d=new Array(h),f=new Array(h),m=new Array(o);if(e){var g,v=new l,y=new Array(o);for(i=-1;++i<o;)v.has(g=e.call(r=t[i],r.__data__,i))?m[i]=r:v.set(g,r),y[i]=g;for(i=-1;++i<h;)(r=v.get(g=e.call(n,a=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=a):f[i]=j(a),v.set(g,!0);for(i=-1;++i<o;)v.get(y[i])!==!0&&(m[i]=t[i])}else{for(i=-1;++i<p;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):f[i]=j(a);for(;h>i;++i)f[i]=j(n[i]);for(;o>i;++i)m[i]=t[i]}f.update=d,f.parentNode=d.parentNode=m.parentNode=t.parentNode,s.push(f),u.push(d),c.push(m)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=G([]),u=A([]),c=A([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return u.enter=function(){return s},u.exit=function(){return c},u},Co.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Co.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=H(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return A(r)},Co.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Co.sort=function(t){t=W.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Co.each=function(t){return V(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Co.call=function(t){var e=ro(arguments);return t.apply(e[0]=this,e),this},Co.empty=function(){return!this.node()},Co.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},Co.size=function(){var t=0;return V(this,function(){++t}),t};var Mo=[];no.selection.enter=G,no.selection.enter.prototype=Mo,Mo.append=Co.append,Mo.empty=Co.empty,Mo.node=Co.node,Mo.call=Co.call,Mo.size=Co.size,Mo.select=function(t){for(var e,n,i,r,a,o=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,l=r.length;++c<l;)(a=r[c])?(e.push(i[c]=n=t.call(r.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return A(o)},Mo.insert=function(t,e){return arguments.length<2&&(e=q(this)),Co.insert.call(this,t,e)},no.select=function(e){var n;return"string"==typeof e?(n=[bo(e,ao)],n.parentNode=ao.documentElement):(n=[e],n.parentNode=t(e)),A([n])},no.selectAll=function(t){var e;return"string"==typeof t?(e=ro(Eo(t,ao)),e.parentNode=ao.documentElement):(e=t,e.parentNode=null),A([e])},Co.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(X(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(X(t,e,n))};var So=no.map({mouseenter:"mouseover",mouseleave:"mouseout"});ao&&So.forEach(function(t){"on"+t in ao&&So.remove(t)});var Ao,ko=0;no.mouse=function(t){return J(t,M())};var Lo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;no.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var i,r=0,a=e.length;a>r;++r)if((i=e[r]).identifier===n)return J(t,i)},no.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function e(t,e,n,a,o){return function(){function s(){var t,n,i=e(p,m);i&&(t=i[0]-_[0],n=i[1]-_[1],f|=t|n,_=i,d({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:t,dy:n}))}function u(){e(p,m)&&(v.on(a+g,null).on(o+g,null),y(f&&no.event.target===h),d({type:"dragend"}))}var c,l=this,h=no.event.target,p=l.parentNode,d=i.of(l,arguments),f=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=no.select(n(h)).on(a+g,s).on(o+g,u),y=K(h),_=e(p,m);r?(c=r.apply(l,arguments),c=[c.x-_[0],c.y-_[1]]):c=[0,0],d({type:"dragstart"})}}var i=S(t,"drag","dragstart","dragend"),r=null,a=e(E,no.mouse,n,"mousemove","mouseup"),o=e(Q,no.touch,_,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},no.rebind(t,i,"on")},no.touches=function(t,e){return arguments.length<2&&(e=M().touches),e?ro(e).map(function(e){var n=J(t,e);return n.identifier=e.identifier,n}):[]};var Po=1e-6,No=Po*Po,Do=Math.PI,Ro=2*Do,Io=Ro-Po,Oo=Do/2,Bo=Do/180,Fo=180/Do,Uo=Math.SQRT2,zo=2,jo=4;no.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=rt(m),o=a/(zo*p)*(n*at(Uo*e+m)-it(m));return[i+o*c,r+o*l,a*n/rt(Uo*e+m)]}return[i+t*c,r+t*l,a*Math.exp(Uo*e)]}var i=t[0],r=t[1],a=t[2],o=e[0],s=e[1],u=e[2],c=o-i,l=s-r,h=c*c+l*l,p=Math.sqrt(h),d=(u*u-a*a+jo*h)/(2*a*zo*p),f=(u*u-a*a-jo*h)/(2*u*zo*p),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(f*f+1)-f),v=g-m,y=(v||Math.log(u/a))/Uo;return n.duration=1e3*y,n},no.behavior.zoom=function(){function t(t){t.on(P,h).on(Wo+".zoom",d).on("dblclick.zoom",f).on(R,p)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function i(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function r(t){C.k=Math.max(A[0],Math.min(A[1],t))}function a(t,e){e=i(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function o(e,n,i,o){e.__chart__={x:C.x,y:C.y,k:C.k},r(Math.pow(2,o)),a(g=n,i),e=no.select(e),k>0&&(e=e.transition().duration(k)),e.call(t.event)}function s(){b&&b.domain(x.range().map(function(t){return(t-C.x)/C.k}).map(x.invert)),w&&w.domain(E.range().map(function(t){return(t-C.y)/C.k}).map(E.invert))}function u(t){L++||t({type:"zoomstart"})}function c(t){s(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function l(t){--L||(t({type:"zoomend"}),g=null)}function h(){function t(){h=1,a(no.mouse(r),d),c(s)}function i(){p.on(N,null).on(D,null),f(h&&no.event.target===o),l(s)}var r=this,o=no.event.target,s=I.of(r,arguments),h=0,p=no.select(n(r)).on(N,t).on(D,i),d=e(no.mouse(r)),f=K(r);Bu.call(r),u(s)}function p(){function t(){var t=no.touches(f);return d=C.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=no.event.target;no.select(e).on(x,i).on(b,s),E.push(e);for(var n=no.event.changedTouches,r=0,a=n.length;a>r;++r)g[n[r].identifier]=null;var u=t(),c=Date.now();if(1===u.length){if(500>c-_){var l=u[0];o(f,l,g[l.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),T()}_=c}else if(u.length>1){var l=u[0],h=u[1],p=l[0]-h[0],d=l[1]-h[1];v=p*p+d*d}}function i(){var t,e,n,i,o=no.touches(f);Bu.call(f);for(var s=0,u=o.length;u>s;++s,i=null)if(n=o[s],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,h=v&&Math.sqrt(l/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*d)}_=null,a(t,e),c(m)}function s(){if(no.event.touches.length){for(var e=no.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var r in g)return void t()}no.selectAll(E).on(y,null),w.on(P,h).on(R,p),M(),l(m)}var d,f=this,m=I.of(f,arguments),g={},v=0,y=".zoom-"+no.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,E=[],w=no.select(f),M=K(f);n(),u(m),w.on(P,null).on(R,n)}function d(){var t=I.of(this,arguments);y?clearTimeout(y):(Bu.call(this),m=e(g=v||no.mouse(this)),u(t)),y=setTimeout(function(){y=null,l(t)},50),T(),r(Math.pow(2,.002*Ho())*C.k),a(g,m),c(t)}function f(){var t=no.mouse(this),n=Math.log(C.k)/Math.LN2;o(this,t,e(t),no.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,g,v,y,_,x,b,E,w,C={x:0,y:0,k:1},M=[960,500],A=Vo,k=250,L=0,P="mousedown.zoom",N="mousemove.zoom",D="mouseup.zoom",R="touchstart.zoom",I=S(t,"zoomstart","zoom","zoomend");return Wo||(Wo="onwheel"in ao?(Ho=function(){return-no.event.deltaY*(no.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ao?(Ho=function(){return no.event.wheelDelta},"mousewheel"):(Ho=function(){return-no.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=I.of(this,arguments),e=C;Iu?no.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=M[0],i=M[1],r=g?g[0]:n/2,a=g?g[1]:i/2,o=no.interpolateZoom([(r-C.x)/C.k,(a-C.y)/C.k,n/C.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=C={x:r-i[0]*s,y:a-i[1]*s,k:s},c(t)}}).each("interrupt.zoom",function(){l(t)}).each("end.zoom",function(){l(t)}):(this.__chart__=C,u(t),c(t),l(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},s(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},s(),t):C.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?Vo:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(k=+e,t):k},t.x=function(e){return arguments.length?(b=e,x=e.copy(),C={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(w=e,E=e.copy(),C={x:0,y:0,k:1},t):w},no.rebind(t,I,"on")};var Ho,Wo,Vo=[0,1/0];no.color=st,st.prototype.toString=function(){return this.rgb()+""},no.hsl=ut;var Go=ut.prototype=new st;Go.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},Go.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},Go.rgb=function(){return ct(this.h,this.s,this.l)},no.hcl=lt;var qo=lt.prototype=new st;qo.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Xo*(arguments.length?t:1)))},qo.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Xo*(arguments.length?t:1)))},qo.rgb=function(){return ht(this.h,this.c,this.l).rgb()},no.lab=pt;var Xo=18,Yo=.95047,Zo=1,Ko=1.08883,Jo=pt.prototype=new st;Jo.brighter=function(t){return new pt(Math.min(100,this.l+Xo*(arguments.length?t:1)),this.a,this.b)},Jo.darker=function(t){return new pt(Math.max(0,this.l-Xo*(arguments.length?t:1)),this.a,this.b)},Jo.rgb=function(){return dt(this.l,this.a,this.b)},no.rgb=yt;var Qo=yt.prototype=new st;Qo.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},Qo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},Qo.hsl=function(){return wt(this.r,this.g,this.b)},Qo.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var $o=no.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$o.forEach(function(t,e){$o.set(t,_t(e))}),no.functor=St,no.xhr=At(_),no.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=kt(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(l>=c)return o;if(r)return r=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++l):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>l;){var i=t.charCodeAt(l++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(l)&&(++l,++s);else if(i!==u)continue;return t.slice(e,l-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],c=t.length,l=0,h=0;(i=n())!==o;){for(var p=[];i!==a&&i!==o;)p.push(i),i=n();e&&null==(p=e(p,h++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new y,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},no.csv=no.dsv(",","text/csv"),no.tsv=no.dsv("	","text/tab-separated-values");var ts,es,ns,is,rs,as=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};no.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,a={c:t,t:r,f:!1,n:null};es?es.n=a:ts=a,es=a,ns||(is=clearTimeout(is),ns=1,as(Nt))},no.timer.flush=function(){Dt(),Rt()},no.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var os=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ot);no.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=no.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),os[8+n/3]};var ss=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,us=no.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=no.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),cs=no.time={},ls=Date;Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hs.setUTCDate.apply(this._,arguments)},setDay:function(){hs.setUTCDay.apply(this._,arguments)},setFullYear:function(){hs.setUTCFullYear.apply(this._,arguments)},setHours:function(){hs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hs.setUTCSeconds.apply(this._,arguments)},setTime:function(){hs.setTime.apply(this._,arguments)}};var hs=Date.prototype;cs.year=zt(function(t){return t=cs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),cs.years=cs.year.range,cs.years.utc=cs.year.utc.range,cs.day=zt(function(t){var e=new ls(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),cs.days=cs.day.range,cs.days.utc=cs.day.utc.range,cs.dayOfYear=function(t){var e=cs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=cs[t]=zt(function(t){return(t=cs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=cs.year(t).getDay();return Math.floor((cs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});cs[t+"s"]=n.range,cs[t+"s"].utc=n.utc.range,cs[t+"OfYear"]=function(t){var n=cs.year(t).getDay();return Math.floor((cs.dayOfYear(t)+(n+e)%7)/7)}}),cs.week=cs.sunday,cs.weeks=cs.sunday.range,cs.weeks.utc=cs.sunday.utc.range,cs.weekOfYear=cs.sundayOfYear;var ps={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,fs=/^%/;no.locale=function(t){return{numberFormat:Bt(t),timeFormat:Ht(t)}};var ms=no.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});no.format=ms.numberFormat,no.geo={},ce.prototype={s:0,t:0,add:function(t){le(t,this.t,gs),le(gs.s,this.s,this),this.s?this.t+=gs.t:this.s=gs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gs=new ce;no.geo.stream=function(t,e){t&&vs.hasOwnProperty(t.type)?vs[t.type](t,e):he(t,e)};var vs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},ys={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){pe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)pe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};no.geo.area=function(t){return _s=0,no.geo.stream(t,bs),_s};var _s,xs=new ce,bs={sphere:function(){_s+=4*Do},point:E,lineStart:E,lineEnd:E,polygonStart:function(){xs.reset(),bs.lineStart=fe},polygonEnd:function(){var t=2*xs;_s+=0>t?4*Do+t:t,bs.lineStart=bs.lineEnd=bs.point=E}};no.geo.bounds=function(){function t(t,e){_.push(x=[l=t,p=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var i=me([e*Bo,n*Bo]);if(v){var r=ve(v,i),a=[r[1],-r[0],0],o=ve(a,r);xe(o),o=be(o);var u=e-f,c=u>0?1:-1,m=o[0]*Fo*c,g=mo(u)>180;if(g^(m>c*f&&c*e>m)){var y=o[1]*Fo;y>d&&(d=y)}else if(m=(m+360)%360-180,g^(m>c*f&&c*e>m)){var y=-o[1]*Fo;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);g?f>e?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e):p>=l?(l>e&&(l=e),e>p&&(p=e)):e>f?s(l,e)>s(l,p)&&(p=e):s(e,p)>s(l,p)&&(l=e)}else t(e,n);v=i,f=e}function n(){b.point=e}function i(){x[0]=l,x[1]=p,b.point=t,v=null}function r(t,n){if(v){var i=t-f;y+=mo(i)>180?i+(i>0?360:-360):i}else m=t,g=n;bs.point(t,n),e(t,n)}function a(){bs.lineStart()}function o(){r(m,g),bs.lineEnd(),mo(y)>Po&&(l=-(p=180)),x[0]=l,x[1]=p,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,p,d,f,m,g,v,y,_,x,b={point:t,lineStart:n,lineEnd:i,polygonStart:function(){b.point=r,b.lineStart=a,b.lineEnd=o,y=0,bs.polygonStart()},polygonEnd:function(){bs.polygonEnd(),b.point=t,b.lineStart=n,b.lineEnd=i,0>xs?(l=-(p=180),h=-(d=90)):y>Po?d=90:-Po>y&&(h=-90),x[0]=l,x[1]=p}};return function(t){d=p=-(l=h=1/0),_=[],no.geo.stream(t,b);var e=_.length;if(e){_.sort(u);for(var n,i=1,r=_[0],a=[r];e>i;++i)n=_[i],c(n[0],r)||c(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,f=-(1/0),e=a.length-1,i=0,r=a[e];e>=i;r=n,++i)n=a[i],(o=s(r[1],n[0]))>f&&(f=o,l=n[0],p=r[1])}return _=x=null,l===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,h],[p,d]]}}(),no.geo.centroid=function(t){Es=ws=Cs=Ts=Ms=Ss=As=ks=Ls=Ps=Ns=0,no.geo.stream(t,Ds);var e=Ls,n=Ps,i=Ns,r=e*e+n*n+i*i;return No>r&&(e=Ss,n=As,i=ks,Po>ws&&(e=Cs,n=Ts,i=Ms),r=e*e+n*n+i*i,No>r)?[NaN,NaN]:[Math.atan2(n,e)*Fo,nt(i/Math.sqrt(r))*Fo]};var Es,ws,Cs,Ts,Ms,Ss,As,ks,Ls,Ps,Ns,Ds={sphere:E,point:we,lineStart:Te,lineEnd:Me,polygonStart:function(){Ds.lineStart=Se},polygonEnd:function(){Ds.lineStart=Te}},Rs=De(ke,Be,Ue,[-Do,-Do/2]),Is=1e9;no.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=We(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(no.geo.conicEqualArea=function(){return Ve(Ge)}).raw=Ge,no.geo.albers=function(){return no.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},no.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=no.geo.albers(),o=no.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=no.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?o:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var c=a.scale(),l=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,i=o.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Po,h+.12*c+Po],[l-.214*c-Po,h+.234*c-Po]]).stream(u).point,r=s.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Po,h+.166*c+Po],[l-.115*c-Po,h+.234*c-Po]]).stream(u).point,t},t.scale(1070)};var Os,Bs,Fs,Us,zs,js,Hs={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Bs=0,Hs.lineStart=qe},polygonEnd:function(){Hs.lineStart=Hs.lineEnd=Hs.point=E,Os+=mo(Bs/2)}},Ws={point:Xe,lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E},Vs={point:Ke,lineStart:Je,lineEnd:Qe,polygonStart:function(){Vs.lineStart=$e},polygonEnd:function(){Vs.point=Ke,Vs.lineStart=Je,Vs.lineEnd=Qe}};no.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),no.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return Os=0,no.geo.stream(t,r(Hs)),Os},t.centroid=function(t){return Cs=Ts=Ms=Ss=As=ks=Ls=Ps=Ns=0,no.geo.stream(t,r(Vs)),Ns?[Ls/Ns,Ps/Ns]:ks?[Ss/ks,As/ks]:Ms?[Cs/Ms,Ts/Ms]:[NaN,NaN]},t.bounds=function(t){return zs=js=-(Fs=Us=1/0),no.geo.stream(t,r(Ws)),[[Fs,Us],[zs,js]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):_,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Ye:new tn(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(no.geo.albersUsa()).context(null)},no.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},no.geo.projection=on,no.geo.projectionMutator=sn,(no.geo.equirectangular=function(){return on(cn)}).raw=cn.invert=cn,no.geo.rotation=function(t){function e(e){return e=t(e[0]*Bo,e[1]*Bo),e[0]*=Fo,e[1]*=Fo,e}return t=hn(t[0]%360*Bo,t[1]*Bo,t.length>2?t[2]*Bo:0),e.invert=function(e){return e=t.invert(e[0]*Bo,e[1]*Bo),e[0]*=Fo,e[1]*=Fo,e},e},ln.invert=cn,no.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=hn(-t[0]*Bo,-t[1]*Bo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Fo,t[1]*=Fo}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=mn((e=+i)*Bo,r*Bo),t):e},t.precision=function(i){return arguments.length?(n=mn(e*Bo,(r=+i)*Bo),t):r},t.angle(90)},no.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Bo,r=t[1]*Bo,a=e[1]*Bo,o=Math.sin(i),s=Math.cos(i),u=Math.sin(r),c=Math.cos(r),l=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=c*l-u*h*s)*n),u*l+c*h*s)},no.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return no.range(Math.ceil(a/g)*g,r,g).map(p).concat(no.range(Math.ceil(c/v)*v,u,v).map(d)).concat(no.range(Math.ceil(i/f)*f,n,f).filter(function(t){return mo(t%g)>Po}).map(l)).concat(no.range(Math.ceil(s/m)*m,o,m).filter(function(t){return mo(t%v)>Po}).map(h))}var n,i,r,a,o,s,u,c,l,h,p,d,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(d(u).slice(1),p(r).reverse().slice(1),d(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],c=+e[0][1],u=+e[1][1],a>r&&(e=a,a=r,r=e),c>u&&(e=c,c=u,u=e),t.precision(y)):[[a,c],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){
return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,l=vn(s,o,90),h=yn(i,n,y),p=vn(c,u,90),d=yn(a,r,y),t):y},t.majorExtent([[-180,-90+Po],[180,90-Po]]).minorExtent([[-180,-80-Po],[180,80+Po]])},no.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=_n,r=xn;return t.distance=function(){return no.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},no.geo.interpolate=function(t,e){return bn(t[0]*Bo,t[1]*Bo,e[0]*Bo,e[1]*Bo)},no.geo.length=function(t){return Gs=0,no.geo.stream(t,qs),Gs};var Gs,qs={sphere:E,point:E,lineStart:En,lineEnd:E,polygonStart:E,polygonEnd:E},Xs=wn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(no.geo.azimuthalEqualArea=function(){return on(Xs)}).raw=Xs;var Ys=wn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},_);(no.geo.azimuthalEquidistant=function(){return on(Ys)}).raw=Ys,(no.geo.conicConformal=function(){return Ve(Cn)}).raw=Cn,(no.geo.conicEquidistant=function(){return Ve(Tn)}).raw=Tn;var Zs=wn(function(t){return 1/t},Math.atan);(no.geo.gnomonic=function(){return on(Zs)}).raw=Zs,Mn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Oo]},(no.geo.mercator=function(){return Sn(Mn)}).raw=Mn;var Ks=wn(function(){return 1},Math.asin);(no.geo.orthographic=function(){return on(Ks)}).raw=Ks;var Js=wn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(no.geo.stereographic=function(){return on(Js)}).raw=Js,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Oo]},(no.geo.transverseMercator=function(){var t=Sn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=An,no.geom={},no.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=St(n),a=St(i),o=t.length,s=[],u=[];for(e=0;o>e;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(Nn),e=0;o>e;e++)u.push([s[e][0],-s[e][1]]);var c=Pn(s),l=Pn(u),h=l[0]===c[0],p=l[l.length-1]===c[c.length-1],d=[];for(e=c.length-1;e>=0;--e)d.push(t[s[c[e]][2]]);for(e=+h;e<l.length-p;++e)d.push(t[s[l[e]][2]]);return d}var n=kn,i=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},no.geom.polygon=function(t){return xo(t,Qs),t};var Qs=no.geom.polygon.prototype=[];Qs.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Qs.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Qs.clip=function(t){for(var e,n,i,r,a,o,s=In(t),u=-1,c=this.length-In(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,r=this[u],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],Dn(o,l,r)?(Dn(a,l,r)||t.push(Rn(a,o,l,r)),t.push(o)):Dn(a,l,r)&&t.push(Rn(a,o,l,r)),a=o;s&&t.push(t[0]),l=r}return t};var $s,tu,eu,nu,iu,ru=[],au=[];Wn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Gn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ai(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ai(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?oi(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ai(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ai(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ai(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},no.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=a&&c.y>=r&&c.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];l.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Po)*Po,y:Math.round(o(t,e)/Po)*Po,i:e}})}var i=kn,r=Ln,a=i,o=r,s=ou;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort(Gn),u=-1,c=s.length,l=s[c-1].edge,h=l.l===o?l.r:l.l;++u<c;)r=l,a=h,l=s[u].edge,h=l.l===o?l.r:l.l,i<a.i&&i<h.i&&ci(o,a,h)<0&&e.push([t[i],t[a.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(a=St(i=t),e):i},e.y=function(t){return arguments.length?(o=St(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?ou:t,e):s===ou?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ou?null:s&&s[1]},e)};var ou=[[-1e6,-1e6],[1e6,1e6]];no.geom.delaunay=function(t){return no.geom.voronoi().triangles(t)},no.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(mo(u-n)+mo(l-i)<.01)c(t,e,n,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,r,a,o,s),c(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,a,o,s)}function c(t,e,n,i,r,o,s,u){var c=.5*(r+s),l=.5*(o+u),h=n>=c,p=i>=l,d=p<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=pi()),h?r=c:s=c,p?o=l:u=l,a(t,e,n,i,r,o,s,u)}var l,h,p,d,f,m,g,v,y,_=St(s),x=St(u);if(null!=e)m=e,g=n,v=i,y=r;else if(v=y=-(m=g=1/0),h=[],p=[],f=t.length,o)for(d=0;f>d;++d)l=t[d],l.x<m&&(m=l.x),l.y<g&&(g=l.y),l.x>v&&(v=l.x),l.y>y&&(y=l.y),h.push(l.x),p.push(l.y);else for(d=0;f>d;++d){var b=+_(l=t[d],d),E=+x(l,d);m>b&&(m=b),g>E&&(g=E),b>v&&(v=b),E>y&&(y=E),h.push(b),p.push(E)}var w=v-m,C=y-g;w>C?y=g+w:v=m+C;var T=pi();if(T.add=function(t){a(T,t,+_(t,++d),+x(t,d),m,g,v,y)},T.visit=function(t){di(t,T,m,g,v,y)},T.find=function(t){return fi(T,t[0],t[1],m,g,v,y)},d=-1,null==e){for(;++d<f;)a(T,t[d],h[d],p[d],m,g,v,y);--d}else t.forEach(T.add);return h=p=t=l=null,T}var o,s=kn,u=Ln;return(o=arguments.length)?(s=li,u=hi,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(u=t,a):u},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},no.interpolateRgb=mi,no.interpolateObject=gi,no.interpolateNumber=vi,no.interpolateString=yi;var su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uu=new RegExp(su.source,"g");no.interpolate=_i,no.interpolators=[function(t,e){var n=typeof e;return("string"===n?$o.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?mi:yi:e instanceof st?mi:Array.isArray(e)?xi:"object"===n&&isNaN(e)?gi:vi)(t,e)}],no.interpolateArray=xi;var cu=function(){return _},lu=no.map({linear:cu,poly:Si,quad:function(){return Ci},cubic:function(){return Ti},sin:function(){return Ai},exp:function(){return ki},circle:function(){return Li},elastic:Pi,back:Ni,bounce:function(){return Di}}),hu=no.map({"in":_,out:Ei,"in-out":wi,"out-in":function(t){return wi(Ei(t))}});no.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=lu.get(n)||cu,i=hu.get(i)||_,bi(i(n.apply(null,io.call(arguments,1))))},no.interpolateHcl=Ri,no.interpolateHsl=Ii,no.interpolateLab=Oi,no.interpolateRound=Bi,no.transform=function(t){var e=ao.createElementNS(no.ns.prefix.svg,"g");return(no.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Fi(n?n.matrix:pu)})(t)},Fi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pu={a:1,b:0,c:0,d:1,e:0,f:0};no.interpolateTransform=Hi,no.layout={},no.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Gi(t[n]));return e}},no.layout.chord=function(){function t(){var t,c,h,p,d,f={},m=[],g=no.range(a),v=[];for(n=[],i=[],t=0,p=-1;++p<a;){for(c=0,d=-1;++d<a;)c+=r[p][d];m.push(c),v.push(no.range(a)),t+=c}for(o&&g.sort(function(t,e){return o(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Ro-l*a)/t,c=0,p=-1;++p<a;){for(h=c,d=-1;++d<a;){var y=g[p],_=v[y][d],x=r[y][_],b=c,E=c+=x*t;f[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:E,value:x}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=l}for(p=-1;++p<a;)for(d=p-1;++d<a;){var w=f[p+"-"+d],C=f[d+"-"+p];(w.value||C.value)&&n.push(w.value<C.value?{source:C,target:w}:{source:w,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(l=t,n=i=null,c):l},c.sortGroups=function(t){return arguments.length?(o=t,n=i=null,c):o},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},no.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,u=a*a+o*o;if(u>s*s/g){if(f>u){var c=e.charge/u;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&u&&f>u){var c=e.pointCharge/u;t.px-=a*c,t.py-=o*c}}return!e.charge}}function e(t){t.px=no.event.x,t.py=no.event.y,s.resume()}var n,i,r,a,o,s={},u=no.dispatch("start","tick","end"),c=[1,1],l=.9,h=du,p=fu,d=-30,f=mu,m=.1,g=.64,v=[],y=[];return s.tick=function(){if((i*=.99)<.005)return u.end({type:"end",alpha:i=0}),!0;var e,n,s,h,p,f,g,_,x,b=v.length,E=y.length;for(n=0;E>n;++n)s=y[n],h=s.source,p=s.target,_=p.x-h.x,x=p.y-h.y,(f=_*_+x*x)&&(f=i*a[n]*((f=Math.sqrt(f))-r[n])/f,_*=f,x*=f,p.x-=_*(g=h.weight/(p.weight+h.weight)),p.y-=x*g,h.x+=_*(g=1-g),h.y+=x*g);if((g=i*m)&&(_=c[0]/2,x=c[1]/2,n=-1,g))for(;++n<b;)s=v[n],s.x+=(_-s.x)*g,s.y+=(x-s.y)*g;if(d)for(Qi(e=no.geom.quadtree(v),i,o),n=-1;++n<b;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<b;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);u.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(f=t*t,s):Math.sqrt(f)},s.gravity=function(t){return arguments.length?(m=+t,s):m},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(u.start({type:"start",alpha:i=t}),no.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var r=y[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,o=n[e],s=-1,c=o.length;++s<c;)if(!isNaN(a=o[s][t]))return a;return Math.random()*i}var e,n,i,u=v.length,l=y.length,f=c[0],m=c[1];for(e=0;u>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;l>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;u>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",f)),isNaN(i.y)&&(i.y=t("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(e=0;l>e;++e)r[e]=+h.call(this,y[e],e);else for(e=0;l>e;++e)r[e]=h;if(a=[],"function"==typeof p)for(e=0;l>e;++e)a[e]=+p.call(this,y[e],e);else for(e=0;l>e;++e)a[e]=p;if(o=[],"function"==typeof d)for(e=0;u>e;++e)o[e]=+d.call(this,v[e],e);else for(e=0;u>e;++e)o[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=no.behavior.drag().origin(_).on("dragstart.force",Yi).on("drag.force",e).on("dragend.force",Zi)),arguments.length?void this.on("mouseover.force",Ki).on("mouseout.force",Ji).call(n):n},no.rebind(s,u,"on")};var du=20,fu=1,mu=1/0;no.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(c=n.call(t,a,a.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)o.push(l=c[u]),l.parent=a,l.depth=a.depth+1;i&&(a.value=0),a.children=c}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return er(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=rr,n=nr,i=ir;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(tr(e,function(t){t.children&&(t.value=0)}),er(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},no.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,u,c=-1;for(i=e.value?i/e.value:0;++c<o;)t(s=a[c],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=no.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},$i(n,i)},no.layout.pie=function(){function t(o){var s,u=o.length,c=o.map(function(n,i){return+e.call(t,n,i)}),l=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-l,p=Math.min(Math.abs(h)/u,+("function"==typeof a?a.apply(this,arguments):a)),d=p*(0>h?-1:1),f=(h-u*d)/no.sum(c),m=no.range(u),g=[];return null!=n&&m.sort(n===gu?function(t,e){return c[e]-c[t]}:function(t,e){return n(o[t],o[e])}),m.forEach(function(t){g[t]={data:o[t],value:s=c[t],startAngle:l,endAngle:l+=s*f+d,padAngle:p}}),g}var e=Number,n=gu,i=0,r=Ro,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var gu={};no.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var c=s.map(function(n,i){return e.call(t,n,i)}),l=c.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),h=n.call(t,l,u);c=no.permute(c,h),l=no.permute(l,h);var p,d,f,m,g=i.call(t,l,u),v=c[0].length;for(f=0;v>f;++f)for(r.call(t,c[0][f],m=g[f],l[0][f][1]),d=1;p>d;++d)r.call(t,c[d][f],m+=l[d-1][f][1],l[d][f][1]);return s}var e=_,n=cr,i=lr,r=ur,a=or,o=sr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:vu.get(e)||cr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:yu.get(e)||lr,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var vu=no.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(hr),a=t.map(pr),o=no.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,c=[],l=[];for(e=0;i>e;++e)n=o[e],u>s?(s+=a[n],c.push(n)):(u+=a[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return no.range(t.length).reverse()},"default":cr}),yu=no.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,u=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;a>n;++n)u[n]=(s-o[n])/2;return u},wiggle:function(t){var e,n,i,r,a,o,s,u,c,l=t.length,h=t[0],p=h.length,d=[];for(d[0]=u=c=0,n=1;p>n;++n){for(e=0,r=0;l>e;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];l>e;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}d[n]=u-=r?a/r*s:0,c>u&&(c=u)}for(n=0;p>n;++n)d[n]-=c;return d},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;a>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:lr});no.layout.histogram=function(){function t(t,a){for(var o,s,u=[],c=t.map(n,this),l=i.call(this,c,a),h=r.call(this,l,c,a),a=-1,p=c.length,d=h.length-1,f=e?1:1/p;++a<d;)o=u[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;if(d>0)for(a=-1;++a<p;)s=c[a],s>=l[0]&&s<=l[1]&&(o=u[no.bisect(h,s,1,d)-1],o.y+=f,o.push(t[a]));return u}var e=!0,n=Number,i=gr,r=fr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=St(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return mr(t,e)}:St(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},no.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],u=r[0],c=r[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,er(s,function(t){t.r=+l(t.value)}),er(s,br),i){var h=i*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;er(s,function(t){t.r+=h}),er(s,br),er(s,function(t){t.r-=h})}return Cr(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),o}var e,n=no.layout.hierarchy().sort(vr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},$i(t,n)},no.layout.tree=function(){function t(t,r){var l=o.call(this,t,r),h=l[0],p=e(h);if(er(p,n),p.parent.m=-p.z,tr(p,i),c)tr(h,a);else{var d=h,f=h,m=h;tr(h,function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>m.depth&&(m=t)});var g=s(d,f)/2-d.x,v=u[0]/(f.x+s(f,d)/2+g),y=u[1]/(m.depth||1);tr(h,function(t){t.x=(t.x+g)*v,t.y=t.depth*y})}return l}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;s>o;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Lr(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,u=r.parent.children[0],c=r.m,l=a.m,h=o.m,p=u.m;o=Ar(o),r=Sr(r),o&&r;)u=Sr(u),a=Ar(a),a.a=t,i=o.z+h-r.z-c+s(o._,r._),i>0&&(kr(Pr(o,t,n),t,i),c+=i,l+=i),h+=o.m,c+=r.m,p+=u.m,l+=a.m;o&&!Ar(a)&&(a.t=o,a.m+=h-l),r&&!Sr(u)&&(u.t=r,u.m+=c-p,n=t)}return n}function a(t){t.x*=u[0],t.y=t.depth*u[1]}var o=no.layout.hierarchy().sort(null).value(null),s=Mr,u=[1,1],c=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(c=null==(u=e)?a:null,t):c?null:u},t.nodeSize=function(e){return arguments.length?(c=null==(u=e)?null:a,t):c?u:null},$i(t,o)},no.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),u=s[0],c=0;er(u,function(t){var e=t.children;e&&e.length?(t.x=Dr(e),t.y=Nr(e)):(t.x=o?c+=n(t,o):0,t.y=0,o=t)});var l=Rr(u),h=Ir(u),p=l.x-n(l,h)/2,d=h.x+n(h,l)/2;return er(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-p)/(d-p)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=no.layout.hierarchy().sort(null).value(null),n=Mr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},$i(t,e)},no.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,u,c=h(n),l=[],p=a.slice(),f=1/0,m="slice"===d?c.dx:"dice"===d?c.dy:"slice-dice"===d?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(p,c.dx*c.dy/n.value),l.area=0;(u=p.length)>0;)l.push(o=p[u-1]),l.area+=o.area,"squarify"!==d||(s=i(l,m))<=f?(p.pop(),f=s):(l.area-=l.pop().area,r(l,m,c,!1),m=Math.min(c.dx,c.dy),l.length=l.area=0,f=1/0);l.length&&(r(l,m,c,!0),l.length=l.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=h(e),s=i.slice(),u=[];for(t(s,o.dx*o.dy/e.value),u.area=0;a=s.pop();)u.push(a),u.area+=a.area,null!=a.z&&(r(u,a.z?o.dx:o.dy,o,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*f/i,i/(e*a*f)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++a<o;)r=t[a],r.x=s,r.y=c,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?u(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++a<o;)r=t[a],r.x=s,r.y=c,r.dx=l,c+=r.dy=Math.min(n.y+n.dy-c,l?u(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function a(i){var r=o||s(i),a=r[0];return a.x=0,a.y=0,a.dx=c[0],a.dy=c[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),p&&(o=r),r}var o,s=no.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=Or,p=!1,d="squarify",f=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(c=t,a):c},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Or(e):Br(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Br(e,t)}if(!arguments.length)return l;var i;return h=null==(l=t)?Or:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(u=t?Math.round:Number,a):u!=Number},a.sticky=function(t){return arguments.length?(p=t,o=null,a):p},a.ratio=function(t){return arguments.length?(f=t,a):f},a.mode=function(t){return arguments.length?(d=t+"",a):d},$i(a,s)},no.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=no.random.normal.apply(no,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=no.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},no.scale={};var _u={floor:_,ceil:_};no.scale.linear=function(){return Vr([0,1],[0,1],_i,!1)};var xu={s:1,g:1,p:1,r:1,e:1};no.scale.log=function(){return Qr(no.scale.linear().domain([0,1]),10,!0,[1,10])};var bu=no.format(".0e"),Eu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};no.scale.pow=function(){return $r(no.scale.linear(),1,[0,1])},no.scale.sqrt=function(){return no.scale.pow().exponent(.5)},no.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},no.scale.category10=function(){return no.scale.ordinal().range(wu)},no.scale.category20=function(){return no.scale.ordinal().range(Cu)},no.scale.category20b=function(){return no.scale.ordinal().range(Tu)},no.scale.category20c=function(){return no.scale.ordinal().range(Mu)};var wu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Cu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),Tu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Mu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);no.scale.quantile=function(){return na([],[])},no.scale.quantize=function(){return ia(0,1,[0,1])},no.scale.threshold=function(){return ra([.5],[0,1])},no.scale.identity=function(){return aa([0,1])},no.svg={},no.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+i.apply(this,arguments)),l=o.apply(this,arguments)-Oo,h=s.apply(this,arguments)-Oo,p=Math.abs(h-l),d=l>h?0:1;if(t>c&&(f=c,c=t,t=f),p>=Io)return e(c,d)+(t?e(t,1-d):"")+"Z";var f,m,g,v,y,_,x,b,E,w,C,T,M=0,S=0,A=[];if((v=(+u.apply(this,arguments)||0)/2)&&(g=a===Su?Math.sqrt(t*t+c*c):+a.apply(this,arguments),d||(S*=-1),c&&(S=nt(g/c*Math.sin(v))),t&&(M=nt(g/t*Math.sin(v)))),c){y=c*Math.cos(l+S),_=c*Math.sin(l+S),x=c*Math.cos(h-S),b=c*Math.sin(h-S);var k=Math.abs(h-l-2*S)<=Do?0:1;if(S&&pa(y,_,x,b)===d^k){var L=(l+h)/2;y=c*Math.cos(L),_=c*Math.sin(L),x=b=null}}else y=_=0;if(t){E=t*Math.cos(h-M),w=t*Math.sin(h-M),C=t*Math.cos(l+M),T=t*Math.sin(l+M);var P=Math.abs(l-h+2*M)<=Do?0:1;if(M&&pa(E,w,C,T)===1-d^P){var N=(l+h)/2;E=t*Math.cos(N),w=t*Math.sin(N),C=T=null}}else E=w=0;if((f=Math.min(Math.abs(c-t)/2,+r.apply(this,arguments)))>.001){m=c>t^d?0:1;var D=null==C?[E,w]:null==x?[y,_]:Rn([y,_],[C,T],[x,b],[E,w]),R=y-D[0],I=_-D[1],O=x-D[0],B=b-D[1],F=1/Math.sin(Math.acos((R*O+I*B)/(Math.sqrt(R*R+I*I)*Math.sqrt(O*O+B*B)))/2),U=Math.sqrt(D[0]*D[0]+D[1]*D[1]);if(null!=x){var z=Math.min(f,(c-U)/(F+1)),j=da(null==C?[E,w]:[C,T],[y,_],c,z,d),H=da([x,b],[E,w],c,z,d);f===z?A.push("M",j[0],"A",z,",",z," 0 0,",m," ",j[1],"A",c,",",c," 0 ",1-d^pa(j[1][0],j[1][1],H[1][0],H[1][1]),",",d," ",H[1],"A",z,",",z," 0 0,",m," ",H[0]):A.push("M",j[0],"A",z,",",z," 0 1,",m," ",H[0])}else A.push("M",y,",",_);if(null!=C){var W=Math.min(f,(t-U)/(F-1)),V=da([y,_],[C,T],t,-W,d),G=da([E,w],null==x?[y,_]:[x,b],t,-W,d);f===W?A.push("L",G[0],"A",W,",",W," 0 0,",m," ",G[1],"A",t,",",t," 0 ",d^pa(G[1][0],G[1][1],V[1][0],V[1][1]),",",1-d," ",V[1],"A",W,",",W," 0 0,",m," ",V[0]):A.push("L",G[0],"A",W,",",W," 0 0,",m," ",V[0])}else A.push("L",E,",",w)}else A.push("M",y,",",_),null!=x&&A.push("A",c,",",c," 0 ",k,",",d," ",x,",",b),A.push("L",E,",",w),null!=C&&A.push("A",t,",",t," 0 ",P,",",1-d," ",C,",",T);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=sa,i=ua,r=oa,a=Su,o=ca,s=la,u=ha;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(i=St(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=St(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==Su?Su:St(e),t):a},t.startAngle=function(e){return arguments.length?(o=St(e),t):o},t.endAngle=function(e){return arguments.length?(s=St(e),t):s},t.padAngle=function(e){return arguments.length?(u=St(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Oo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Su="auto";no.svg.line=function(){return fa(_)};var Au=no.map({linear:ma,"linear-closed":ga,step:va,"step-before":ya,"step-after":_a,basis:Ta,"basis-open":Ma,"basis-closed":Sa,bundle:Aa,cardinal:Ea,"cardinal-open":xa,"cardinal-closed":ba,monotone:Ra});Au.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ku=[0,2/3,1/3,0],Lu=[0,1/3,2/3,0],Pu=[0,1/6,2/3,1/6];no.svg.line.radial=function(){var t=fa(Ia);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=_a,_a.reverse=ya,no.svg.area=function(){return Oa(_)},no.svg.area.radial=function(){var t=Oa(Ia);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},no.svg.chord=function(){function t(t,s){var u=e(this,a,t,s),c=e(this,o,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,c)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=u.call(t,r,i)-Oo,l=c.call(t,r,i)-Oo;return{r:a,a0:o,a1:l,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Do)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=_n,o=xn,s=Ba,u=ca,c=la;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(a=St(e),t):a},t.target=function(e){return arguments.length?(o=St(e),t):o},t.startAngle=function(e){return arguments.length?(u=St(e),t):u},t.endAngle=function(e){return arguments.length?(c=St(e),t):c},t},no.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=_n,n=xn,i=Fa;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},no.svg.diagonal.radial=function(){var t=no.svg.diagonal(),e=Fa,n=t.projection;return t.projection=function(t){return arguments.length?n(Ua(e=t)):e},t},no.svg.symbol=function(){function t(t,i){return(Nu.get(e.call(this,t,i))||Ha)(n.call(this,t,i))}var e=ja,n=za;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Nu=no.map({circle:Ha,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ru)),n=e*Ru;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Du),n=e*Du/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Du),n=e*Du/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});no.svg.symbolTypes=Nu.keys();var Du=Math.sqrt(3),Ru=Math.tan(30*Bo);Co.transition=function(t){for(var e,n,i=Iu||++Uu,r=Xa(t),a=[],o=Ou||{time:Date.now(),ease:Mi,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(n=c[l])&&Ya(n,l,r,i,o),e.push(n)}return Va(a,r,i)},Co.interrupt=function(t){return this.each(null==t?Bu:Wa(Xa(t)))};var Iu,Ou,Bu=Wa(Xa()),Fu=[],Uu=0;Fu.call=Co.call,Fu.empty=Co.empty,Fu.node=Co.node,Fu.size=Co.size,no.transition=function(t,e){return t&&t.transition?Iu?t.transition(e):t:no.selection().transition(t)},no.transition.prototype=Fu,Fu.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=k(t);for(var s=-1,u=this.length;++s<u;){
o.push(e=[]);for(var c=this[s],l=-1,h=c.length;++l<h;)(i=c[l])&&(n=t.call(i,i.__data__,l,s))?("__data__"in i&&(n.__data__=i.__data__),Ya(n,l,a,r,i[a][r]),e.push(n)):e.push(null)}return Va(o,a,r)},Fu.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,u=[];t=L(t);for(var c=-1,l=this.length;++c<l;)for(var h=this[c],p=-1,d=h.length;++p<d;)if(i=h[p]){a=i[s][o],n=t.call(i,i.__data__,p,c),u.push(e=[]);for(var f=-1,m=n.length;++f<m;)(r=n[f])&&Ya(r,f,s,o,a),e.push(r)}return Va(u,s,o)},Fu.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=H(t));for(var a=0,o=this.length;o>a;a++){r.push(e=[]);for(var n=this[a],s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return Va(r,this.namespace,this.id)},Fu.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):V(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Fu.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Hi:_i,s=no.ns.qualify(t);return Ga(this,"attr."+t,e,s.local?a:r)},Fu.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=no.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Fu.style=function(t,e,i){function r(){this.style.removeProperty(t)}function a(e){return null==e?r:(e+="",function(){var r,a=n(this).getComputedStyle(this,null).getPropertyValue(t);return a!==e&&(r=_i(a,e),function(e){this.style.setProperty(t,r(e),i)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(i in t)this.style(i,t[i],e);return this}i=""}return Ga(this,"style."+t,e,a)},Fu.styleTween=function(t,e,i){function r(r,a){var o=e.call(this,r,a,n(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Fu.text=function(t){return Ga(this,"text",t,qa)},Fu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Fu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=no.ease.apply(no,arguments)),V(this,function(i){i[n][e].ease=t}))},Fu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:V(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Fu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:V(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Fu.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Ou,a=Iu;try{Iu=n,V(this,function(e,r,a){Ou=e[i][n],t.call(e,e.__data__,r,a)})}finally{Ou=r,Iu=a}}else V(this,function(r){var a=r[i][n];(a.event||(a.event=no.dispatch("start","end","interrupt"))).on(t,e)});return this},Fu.transition=function(){for(var t,e,n,i,r=this.id,a=++Uu,o=this.namespace,s=[],u=0,c=this.length;c>u;u++){s.push(t=[]);for(var e=this[u],l=0,h=e.length;h>l;l++)(n=e[l])&&(i=n[o][r],Ya(n,l,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Va(s,o,a)},no.svg.axis=function(){function t(t){t.each(function(){var t,c=no.select(this),l=this.__chart__||n,h=this.__chart__=n.copy(),p=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):_:e,f=c.selectAll(".tick").data(p,h),m=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Po),g=no.transition(f.exit()).style("opacity",Po).remove(),v=no.transition(f.order()).style("opacity",1),y=Math.max(r,0)+o,x=Ur(h),b=c.selectAll(".domain").data([0]),E=(b.enter().append("path").attr("class","domain"),no.transition(b));m.append("line"),m.append("text");var w,C,T,M,S=m.select("line"),A=v.select("line"),k=f.select("text").text(d),L=m.select("text"),P=v.select("text"),N="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Za,w="x",T="y",C="x2",M="y2",k.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),E.attr("d","M"+x[0]+","+N*a+"V0H"+x[1]+"V"+N*a)):(t=Ka,w="y",T="x",C="y2",M="x2",k.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),E.attr("d","M"+N*a+","+x[0]+"H0V"+x[1]+"H"+N*a)),S.attr(M,N*r),L.attr(T,N*y),A.attr(C,0).attr(M,N*r),P.attr(w,0).attr(T,N*y),h.rangeBand){var D=h,R=D.rangeBand()/2;l=h=function(t){return D(t)+R}}else l.rangeBand?l=h:g.call(t,h,l);m.call(t,l,h),v.call(t,h,h)})}var e,n=no.scale.linear(),i=zu,r=6,a=6,o=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in ju?e+"":zu,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var zu="bottom",ju={top:1,right:1,bottom:1,left:1};no.svg.brush=function(){function t(n){n.each(function(){var n=no.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=n.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=n.selectAll(".resize").data(m,_);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=no.transition(n),p=no.transition(o);c&&(u=Ur(c),p.attr("x",u[0]).attr("width",u[1]-u[0]),i(h)),l&&(u=Ur(l),p.attr("y",u[0]).attr("height",u[1]-u[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function a(){function a(){32==no.event.keyCode&&(k||(_=null,P[0]-=h[1],P[1]-=p[1],k=2),T())}function m(){32==no.event.keyCode&&2==k&&(P[0]+=h[1],P[1]+=p[1],k=0,T())}function g(){var t=no.mouse(b),n=!1;x&&(t[0]+=x[0],t[1]+=x[1]),k||(no.event.altKey?(_||(_=[(h[0]+h[1])/2,(p[0]+p[1])/2]),P[0]=h[+(t[0]<_[0])],P[1]=p[+(t[1]<_[1])]):_=null),S&&v(t,c,0)&&(i(C),n=!0),A&&v(t,l,1)&&(r(C),n=!0),n&&(e(C),w({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var i,r,a=Ur(e),u=a[0],c=a[1],l=P[n],m=n?p:h,g=m[1]-m[0];return k&&(u-=l,c-=g+l),i=(n?f:d)?Math.max(u,Math.min(c,t[n])):t[n],k?r=(i+=l)+g:(_&&(l=Math.max(u,Math.min(c,2*_[n]-i))),i>l?(r=i,i=l):r=l),m[0]!=i||m[1]!=r?(n?s=null:o=null,m[0]=i,m[1]=r,!0):void 0}function y(){g(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),no.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),w({type:"brushend"})}var _,x,b=this,E=no.select(no.event.target),w=u.of(b,arguments),C=no.select(b),M=E.datum(),S=!/^(n|s)$/.test(M)&&c,A=!/^(e|w)$/.test(M)&&l,k=E.classed("extent"),L=K(b),P=no.mouse(b),N=no.select(n(b)).on("keydown.brush",a).on("keyup.brush",m);if(no.event.changedTouches?N.on("touchmove.brush",g).on("touchend.brush",y):N.on("mousemove.brush",g).on("mouseup.brush",y),C.interrupt().selectAll("*").interrupt(),k)P[0]=h[0]-P[0],P[1]=p[0]-P[1];else if(M){var D=+/w$/.test(M),R=+/^n/.test(M);x=[h[1-D]-P[0],p[1-R]-P[1]],P[0]=h[D],P[1]=p[R]}else no.event.altKey&&(_=P.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),no.select("body").style("cursor",E.style("cursor")),w({type:"brushstart"}),g()}var o,s,u=S(t,"brushstart","brush","brushend"),c=null,l=null,h=[0,0],p=[0,0],d=!0,f=!0,m=Wu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:p,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Iu?no.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=xi(h,e.x),i=xi(p,e.y);return o=s=null,function(r){h=e.x=n(r),p=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(c=e,m=Wu[!c<<1|!l],t):c},t.y=function(e){return arguments.length?(l=e,m=Wu[!c<<1|!l],t):l},t.clamp=function(e){return arguments.length?(c&&l?(d=!!e[0],f=!!e[1]):c?d=!!e:l&&(f=!!e),t):c&&l?[d,f]:c?d:l?f:null},t.extent=function(e){var n,i,r,a,u;return arguments.length?(c&&(n=e[0],i=e[1],l&&(n=n[0],i=i[0]),o=[n,i],c.invert&&(n=c(n),i=c(i)),n>i&&(u=n,n=i,i=u),(n!=h[0]||i!=h[1])&&(h=[n,i])),l&&(r=e[0],a=e[1],c&&(r=r[1],a=a[1]),s=[r,a],l.invert&&(r=l(r),a=l(a)),r>a&&(u=r,r=a,a=u),(r!=p[0]||a!=p[1])&&(p=[r,a])),t):(c&&(o?(n=o[0],i=o[1]):(n=h[0],i=h[1],c.invert&&(n=c.invert(n),i=c.invert(i)),n>i&&(u=n,n=i,i=u))),l&&(s?(r=s[0],a=s[1]):(r=p[0],a=p[1],l.invert&&(r=l.invert(r),a=l.invert(a)),r>a&&(u=r,r=a,a=u))),c&&l?[[n,r],[i,a]]:c?[n,i]:l&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],p=[0,0],o=s=null),t},t.empty=function(){return!!c&&h[0]==h[1]||!!l&&p[0]==p[1]},no.rebind(t,u,"on")};var Hu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vu=cs.format=ms.timeFormat,Gu=Vu.utc,qu=Gu("%Y-%m-%dT%H:%M:%S.%LZ");Vu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ja:qu,Ja.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ja.toString=qu.toString,cs.second=zt(function(t){return new ls(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),cs.seconds=cs.second.range,cs.seconds.utc=cs.second.utc.range,cs.minute=zt(function(t){return new ls(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),cs.minutes=cs.minute.range,cs.minutes.utc=cs.minute.utc.range,cs.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ls(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),cs.hours=cs.hour.range,cs.hours.utc=cs.hour.utc.range,cs.month=zt(function(t){return t=cs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),cs.months=cs.month.range,cs.months.utc=cs.month.utc.range;var Xu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[cs.second,1],[cs.second,5],[cs.second,15],[cs.second,30],[cs.minute,1],[cs.minute,5],[cs.minute,15],[cs.minute,30],[cs.hour,1],[cs.hour,3],[cs.hour,6],[cs.hour,12],[cs.day,1],[cs.day,2],[cs.week,1],[cs.month,1],[cs.month,3],[cs.year,1]],Zu=Vu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ke]]),Ku={range:function(t,e,n){return no.range(Math.ceil(t/n)*n,+e,n).map($a)},floor:_,ceil:_};Yu.year=cs.year,cs.scale=function(){return Qa(no.scale.linear(),Yu,Zu)};var Ju=Yu.map(function(t){return[t[0].utc,t[1]]}),Qu=Gu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ke]]);Ju.year=cs.year.utc,cs.scale.utc=function(){return Qa(no.scale.linear(),Ju,Qu)},no.text=At(function(t){return t.responseText}),no.json=function(t,e){return kt(t,"application/json",to,e)},no.html=function(t,e){return kt(t,"text/html",eo,e)},no.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(no):"object"==typeof e&&e.exports&&(e.exports=no),this.d3=no}()},{}],99:[function(t,e,n){e.exports.Dispatcher=t("./lib/Dispatcher")},{"./lib/Dispatcher":100}],100:[function(t,e,n){(function(i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=t("fbjs/lib/invariant"),o="ID_",s=function(){function t(){r(this,t),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return t.prototype.register=function(t){var e=o+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){this._callbacks[t]?void 0:"production"!==i.env.NODE_ENV?a(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t):a(!1),delete this._callbacks[t]},t.prototype.waitFor=function(t){this._isDispatching?void 0:"production"!==i.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):a(!1);for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?this._isHandled[n]?void 0:"production"!==i.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):a(!1):(this._callbacks[n]?void 0:"production"!==i.env.NODE_ENV?a(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n):a(!1),this._invokeCallback(n))}},t.prototype.dispatch=function(t){this._isDispatching?"production"!==i.env.NODE_ENV?a(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):a(!1):void 0,this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();e.exports=s}).call(this,t("_process"))},{_process:95,"fbjs/lib/invariant":101}],101:[function(t,e,n){(function(t){"use strict";var n=function(e,n,i,r,a,o,s,u){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,r,a,o,s,u],h=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return l[h++]}))}throw c.framesToPop=1,c}};e.exports=n}).call(this,t("_process"))},{_process:95}],102:[function(t,e,n){!function(t,e){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.addLayers(e)}if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom);var i=t,r=this._map.getZoom();if(t.__parent)for(;i.__parent._zoom>=r;)i=i.__parent;return this._currentShownBounds.contains(i.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,i):this._animationAddLayerNonAnimated(t,i)),this},removeLayer:function(t){if(t instanceof L.LayerGroup){var e=[];for(var n in t._layers)e.push(t._layers[n]);return this.removeLayers(e)}return t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){var e,n,i,r=this._map,a=this._featureGroup,o=this._nonPointGroup;for(e=0,n=t.length;n>e;e++)if(i=t[e],i.getLatLng){if(!this.hasLayer(i))if(r){if(this._addLayer(i,this._maxZoom),i.__parent&&2===i.__parent.getChildCount()){var s=i.__parent.getAllChildMarkers(),u=s[0]===i?s[1]:s[0];a.removeLayer(u)}}else this._needsClustering.push(i)}else o.addLayer(i);return r&&(a.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(t){var e,n,i,r=this._featureGroup,a=this._nonPointGroup;if(!this._map){for(e=0,n=t.length;n>e;e++)i=t[e],this._arraySplice(this._needsClustering,i),a.removeLayer(i);return this}for(e=0,n=t.length;n>e;e++)i=t[e],i.__parent?(this._removeLayer(i,!0,!0),r.hasLayer(i)&&(r.removeLayer(i),i.setOpacity&&i.setOpacity(1))):a.removeLayer(i);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),r.eachLayer(function(t){t instanceof L.MarkerCluster&&t._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;if(this._topClusterLevel)t.extend(this._topClusterLevel._bounds);else for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),n=i.length-1;n>=0;n--)t.call(e,i[n]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(n=this._needsRemoving,e=n.length-1;e>=0;e--)if(n[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var n=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon)e();else if(t.__parent._icon){var i=function(){this.off("spiderfied",i,this),e()};this.on("spiderfied",i,this),t.__parent.spiderfy()}};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),this._map.setView(t.getLatLng(),t.__parent._zoom+1),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,n,i;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(t),this._nonPointGroup.onAdd(t),this._gridClusters||this._generateInitialClusters(),e=0,n=this._needsRemoving.length;n>e;e++)i=this._needsRemoving[e],this._removeLayer(i,!0);for(this._needsRemoving=[],e=0,n=this._needsClustering.length;n>e;e++)i=this._needsClustering[e],i.getLatLng?i.__parent||this._addLayer(i,this._maxZoom):this._featureGroup.addLayer(i);this._needsClustering=[],this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeLayer:function(t,e,n){var i=this._gridClusters,r=this._gridUnclustered,a=this._featureGroup,o=this._map;if(e)for(var s=this._maxZoom;s>=0&&r[s].removeObject(t,o.project(t.getLatLng(),s));s--);var u,c=t.__parent,l=c._markers;for(this._arraySplice(l,t);c&&(c._childCount--,!(c._zoom<0));)e&&c._childCount<=1?(u=c._markers[0]===t?c._markers[1]:c._markers[0],i[c._zoom].removeObject(c,o.project(c._cLatLng,c._zoom)),r[c._zoom].addObject(u,o.project(u.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(u),u.__parent=c.__parent,c._icon&&(a.removeLayer(c),n||a.addLayer(u))):(c._recalculateBounds(),n&&c._icon||c._updateIcon()),c=c.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},_propagateEvent:function(t){if(t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;t.type="cluster"+t.type}this.fire(t.type,t)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(e),this._gridUnclustered[n]=new L.DistanceGrid(e);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(t,e){var n,i,r=this._gridClusters,a=this._gridUnclustered;for(this.options.singleMarkerMode&&(t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}}));e>=0;e--){n=this._map.project(t.getLatLng(),e);var o=r[e].getNearObject(n);if(o)return o._addChild(t),void(t.__parent=o);if(o=a[e].getNearObject(n)){var s=o.__parent;s&&this._removeLayer(o,!1);var u=new L.MarkerCluster(this,e,o,t);r[e].addObject(u,this._map.project(u._cLatLng,e)),o.__parent=u,t.__parent=u;var c=u;for(i=e-1;i>s._zoom;i--)c=new L.MarkerCluster(this,i,c),r[i].addObject(c,this._map.project(o.getLatLng(),i));for(s._addChild(c),i=e;i>=0&&a[i].removeObject(o,this._map.project(o.getLatLng(),i));i--);return}a[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var t=this._map,e=t.getBounds(),n=e._southWest,i=e._northEast,r=L.Browser.mobile?0:Math.abs(n.lat-i.lat),a=L.Browser.mobile?0:Math.abs(n.lng-i.lng);return new L.LatLngBounds(new L.LatLng(n.lat-r,n.lng-a,!0),new L.LatLng(i.lat+r,i.lng+a,!0))},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),r=this._featureGroup;this._topClusterLevel._recursively(i,t,0,function(a){var o,s=a._latlng,u=a._markers;for(i.contains(s)||(s=null),a._isSingleParent()&&t+1===e?(r.removeLayer(a),a._recursivelyAddChildrenToMap(null,e,i)):(a.setOpacity(0),a._recursivelyAddChildrenToMap(s,e,i)),n=u.length-1;n>=0;n--)o=u[n],i.contains(o._latlng)||r.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),r.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.setOpacity(1)}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._enqueue(function(){this._topClusterLevel._recursively(i,t,0,function(t){r.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(i,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var a=t._markers[0];a.setLatLng(a.getLatLng()),a.setOpacity(1)}else t._recursively(i,n,0,function(t){t._recursivelyRemoveChildrenFromMap(i,e+1)});r._animationEnd()})},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){i.removeLayer(t),t.setOpacity(1),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),n=this._group._map,i=n.getBoundsZoom(this._bounds),r=this._zoom+1,a=n.getZoom();e.length>0&&i>r;){
r++;var o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]._childClusters);e=o}i>r?this._group._map.setView(this._latlng,r):a>=i?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._expandBounds(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_expandBounds:function(t){var e,n=t._wLatLng||t._latlng;t instanceof L.MarkerCluster?(this._bounds.extend(t._bounds),e=t._childCount):(this._bounds.extend(n),e=1),this._cLatLng||(this._cLatLng=t._cLatLng||n);var i=this._childCount+e;this._wLatLng?(this._wLatLng.lat=(n.lat*e+this._wLatLng.lat*this._childCount)/i,this._wLatLng.lng=(n.lng*e+this._wLatLng.lng*this._childCount)/i):this._latlng=this._wLatLng=new L.LatLng(n.lat,n.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,0,n-1,function(t){var n,i,r=t._markers;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(e),i.setOpacity(0))},function(t){var n,i,r=t._childClusters;for(n=r.length-1;n>=0;n--)i=r[n],i._icon&&(i._setPos(e),i.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n){this._recursively(t,n,0,function(i){i._recursivelyAnimateChildrenIn(t,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),e),i._isSingleParent()&&e-1===n?(i.setOpacity(1),i._recursivelyRemoveChildrenFromMap(t,e)):i.setOpacity(0),i._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,-1,e,function(i){if(e!==i._zoom)for(var r=i._markers.length-1;r>=0;r--){var a=i._markers[r];n.contains(a._latlng)&&(t&&(a._backupLatlng=a.getLatLng(),a.setLatLng(t),a.setOpacity&&a.setOpacity(0)),i._group._featureGroup.addLayer(a))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n){var i,r;this._recursively(t,-1,e-1,function(t){for(r=t._markers.length-1;r>=0;r--)i=t._markers[r],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.setOpacity&&i.setOpacity(1))},function(t){for(r=t._childClusters.length-1;r>=0;r--)i=t._childClusters[r],n&&n.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.setOpacity&&i.setOpacity(1))})},_recursively:function(t,e,n,i,r){var a,o,s=this._childClusters,u=this._zoom;if(e>u)for(a=s.length-1;a>=0;a--)o=s[a],t.intersects(o._bounds)&&o._recursively(t,e,n,i,r);else if(i&&i(this),r&&this._zoom===n&&r(this),n>u)for(a=s.length-1;a>=0;a--)o=s[a],t.intersects(o._bounds)&&o._recursively(t,e,n,i,r)},_recalculateBounds:function(){var t,e=this._markers,n=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,t=e.length-1;t>=0;t--)this._expandBounds(e[t]);for(t=n.length-1;t>=0;t--)this._expandBounds(n[t])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),r=this._grid,a=r[i]=r[i]||{},o=a[n]=a[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,o.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,r=this._getCoord(e.x),a=this._getCoord(e.y),o=this._grid,s=o[a]=o[a]||{},u=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=u.length;i>n;n++)if(u[n]===t)return u.splice(n,1),1===i&&delete s[r],!0},eachObject:function(t,e){var n,i,r,a,o,s,u,c=this._grid;for(n in c){o=c[n];for(i in o)for(s=o[i],r=0,a=s.length;a>r;r++)u=t.call(e,s[r]),u&&(r--,a--)}},getNearObject:function(t){var e,n,i,r,a,o,s,u,c=this._getCoord(t.x),l=this._getCoord(t.y),h=this._objectPoint,p=this._sqCellSize,d=null;for(e=l-1;l+1>=e;e++)if(r=this._grid[e])for(n=c-1;c+1>=n;n++)if(a=r[n])for(i=0,o=a.length;o>i;i++)s=a[i],u=this._sqDist(h[L.Util.stamp(s)],t),p>u&&(p=u,d=s);return d},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},function(){L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat,i=e[0].lng-e[1].lng;return i*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,r,a=0,o=null,s=[];for(n=e.length-1;n>=0;n--)i=e[n],r=this.getDistant(i,t),r>0&&(s.push(i),r>a&&(a=r,o=i));return{maxPoint:o,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints)),n=n.concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints))):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,r=null,a=null;for(e=t.length-1;e>=0;e--){var o=t[e];(n===!1||o.lat>n)&&(r=o,n=o.lat),(i===!1||o.lat<i)&&(a=o,i=o.lat)}var s=[].concat(this.buildConvexHull([a,r],t),this.buildConvexHull([r,a],t));return s}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),n=this._group,i=n._map,r=i.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,r):(r.y+=10,t=this._generatePointsCircle(e.length,r)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),a=r/this._2PI,o=this._2PI/t,s=[];for(s.length=t,n=t-1;n>=0;n--)i=this._circleStartAngle+n*o,s[n]=new L.Point(e.x+a*Math.cos(i),e.y+a*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,r=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,a=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,s=[];for(s.length=t,n=t-1;n>=0;n--)o+=r/i+5e-4*n,s[n]=new L.Point(e.x+i*Math.cos(o),e.y+i*Math.sin(o))._round(),i+=this._2PI*a/o;return s},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,r=n._featureGroup,a=this.getAllChildMarkers();for(this.setOpacity(1),e=a.length-1;e>=0;e--)t=a[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(t,n){var i,r,a,o,s=this,u=this._group,c=u._map,l=u._featureGroup,h=c.latLngToLayerPoint(this._latlng);for(i=t.length-1;i>=0;i--)r=t[i],r.setOpacity?(r.setZIndexOffset(1e6),r.setOpacity(0),l.addLayer(r),r._setPos(h)):l.addLayer(r);u._forceLayout(),u._animationStart();var p=L.Path.SVG?0:.3,d=L.Path.SVG_NS;for(i=t.length-1;i>=0;i--)if(o=c.layerPointToLatLng(n[i]),r=t[i],r._preSpiderfyLatlng=r._latlng,r.setLatLng(o),r.setOpacity&&r.setOpacity(1),a=new L.Polyline([s._latlng,o],{weight:1.5,color:"#222",opacity:p}),c.addLayer(a),r._spiderLeg=a,L.Path.SVG&&this.SVG_ANIMATION){var f=a._path.getTotalLength();a._path.setAttribute("stroke-dasharray",f+","+f);var m=e.createElementNS(d,"animate");m.setAttribute("attributeName","stroke-dashoffset"),m.setAttribute("begin","indefinite"),m.setAttribute("from",f),m.setAttribute("to",0),m.setAttribute("dur",.25),a._path.appendChild(m),m.beginElement(),m=e.createElementNS(d,"animate"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("begin","indefinite"),m.setAttribute("from",0),m.setAttribute("to",.5),m.setAttribute("dur",.25),a._path.appendChild(m),m.beginElement()}if(s.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),i=t.length-1;i>=0;i--)r=t[i]._spiderLeg,r.options.opacity=.5,r._path.setAttribute("stroke-opacity",.5);setTimeout(function(){u._animationEnd(),u.fire("spiderfied")},200)},_animationUnspiderfy:function(t){var e,n,i,r=this._group,a=r._map,o=r._featureGroup,s=t?a._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):a.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(),c=L.Path.SVG&&this.SVG_ANIMATION;for(r._animationStart(),this.setOpacity(1),n=u.length-1;n>=0;n--)e=u[n],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(s),e.setOpacity(0)):o.removeLayer(e),c&&(i=e._spiderLeg._path.childNodes[0],i.setAttribute("to",i.getAttribute("from")),i.setAttribute("from",0),i.beginElement(),i=e._spiderLeg._path.childNodes[1],i.setAttribute("from",.5),i.setAttribute("to",0),i.setAttribute("stroke-opacity",0),i.beginElement(),e._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var t=0;for(n=u.length-1;n>=0;n--)e=u[n],e._spiderLeg&&t++;for(n=u.length-1;n>=0;n--)e=u[n],e._spiderLeg&&(e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&o.removeLayer(e),a.removeLayer(e._spiderLeg),delete e._spiderLeg);r._animationEnd()},200)}}:{_animationSpiderfy:function(t,e){var n,i,r,a,o=this._group,s=o._map,u=o._featureGroup;for(n=t.length-1;n>=0;n--)a=s.layerPointToLatLng(e[n]),i=t[n],i._preSpiderfyLatlng=i._latlng,i.setLatLng(a),i.setZIndexOffset&&i.setZIndexOffset(1e6),u.addLayer(i),r=new L.Polyline([this._latlng,a],{weight:1.5,color:"#222"}),s.addLayer(r),i._spiderLeg=r;this.setOpacity(.3),o.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document)},{}],103:[function(t,e,n){!function(t,n,i){var r=t.L,a={};a.version="0.7.5","object"==typeof e&&"object"==typeof e.exports?e.exports=a:"function"==typeof define&&define.amd&&define(a),a.noConflict=function(){return t.L=r,this},t.L=a,a.Util={extend:function(t){var e,n,i,r,a=Array.prototype.slice.call(arguments,1);for(n=0,i=a.length;i>n;n++){r=a[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function a(){var o=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(a.apply(n,o),r=!1)},e),void t.apply(n,o))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return a.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=a.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var r=e[n];if(r===i)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,r=t.requestAnimationFrame||e("RequestAnimationFrame")||n,o=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};a.Util.requestAnimFrame=function(e,i,o,s){return e=a.bind(e,i),o&&r===n?void e():r.call(t,e,s)},a.Util.cancelAnimFrame=function(e){e&&o.call(t,e)}}(),a.extend=a.Util.extend,a.bind=a.Util.bind,a.stamp=a.Util.stamp,a.setOptions=a.Util.setOptions,a.Class=function(){},a.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(a.extend(e,t.statics),delete t.statics),t.includes&&(a.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=a.extend({},i.options,t.options)),a.extend(i,t),i._initHooks=[];var o=this;return e.__super__=o.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){o.prototype.callInitHooks&&o.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},a.Class.include=function(t){a.extend(this.prototype,t)},a.Class.mergeOptions=function(t){a.extend(this.prototype.options,t)},a.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var o="_leaflet_events";a.Mixin={},a.Mixin.Events={addEventListener:function(t,e,n){if(a.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,r,s,u,c,l,h,p=this[o]=this[o]||{},d=n&&n!==this&&a.stamp(n);for(t=a.Util.splitWords(t),i=0,r=t.length;r>i;i++)s={action:e,context:n||this},u=t[i],d?(c=u+"_idx",l=c+"_len",h=p[c]=p[c]||{},h[d]||(h[d]=[],p[l]=(p[l]||0)+1),h[d].push(s)):(p[u]=p[u]||[],p[u].push(s));return this},hasEventListeners:function(t){var e=this[o];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[o])return this;if(!t)return this.clearAllEventListeners();if(a.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,r,s,u,c,l,h,p,d,f=this[o],m=n&&n!==this&&a.stamp(n);for(t=a.Util.splitWords(t),i=0,r=t.length;r>i;i++)if(s=t[i],l=s+"_idx",h=l+"_len",p=f[l],e){if(u=m&&p?p[m]:f[s]){for(c=u.length-1;c>=0;c--)u[c].action!==e||n&&u[c].context!==n||(d=u.splice(c,1),d[0].action=a.Util.falseFn);n&&p&&0===u.length&&(delete p[m],f[h]--)}}else delete f[s],delete f[l],delete f[h];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,r,s,u,c=a.Util.extend({},e,{type:t,target:this}),l=this[o];if(l[t])for(n=l[t].slice(),i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,c);s=l[t+"_idx"];for(u in s)if(n=s[u].slice())for(i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,c);return this},addOneTimeEventListener:function(t,e,n){if(a.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=a.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},a.Mixin.Events.on=a.Mixin.Events.addEventListener,a.Mixin.Events.off=a.Mixin.Events.removeEventListener,a.Mixin.Events.once=a.Mixin.Events.addOneTimeEventListener,a.Mixin.Events.fire=a.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in t,r=e&&!n.addEventListener,o=navigator.userAgent.toLowerCase(),s=-1!==o.indexOf("webkit"),u=-1!==o.indexOf("chrome"),c=-1!==o.indexOf("phantom"),l=-1!==o.indexOf("android"),h=-1!==o.search("android [23]"),p=-1!==o.indexOf("gecko"),d=typeof orientation!=i+"",f=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled&&t.navigator.maxTouchPoints||f,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=n.documentElement,y=e&&"transition"in v.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,x="MozPerspective"in v.style,b="OTransition"in v.style,E=!t.L_DISABLE_3D&&(y||_||x||b)&&!c,w=!t.L_NO_TOUCH&&!c&&(m||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);a.Browser={ie:e,ielt9:r,webkit:s,gecko:p&&!s&&!t.opera&&!e,android:l,android23:h,chrome:u,ie3d:y,webkit3d:_,gecko3d:x,opera3d:b,any3d:E,mobile:d,mobileWebkit:d&&s,mobileWebkit3d:d&&_,mobileOpera:d&&t.opera,touch:w,msPointer:f,pointer:m,retina:g}}(),a.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},add:function(t){return this.clone()._add(a.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(a.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=a.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=a.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=a.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a.Util.formatNum(this.x)+", "+a.Util.formatNum(this.y)+")"}},a.point=function(t,e,n){return t instanceof a.Point?t:a.Util.isArray(t)?new a.Point(t[0],t[1]):t===i||null===t?t:new a.Point(t,e,n)},a.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},a.Bounds.prototype={extend:function(t){return t=a.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new a.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new a.Point(this.min.x,this.max.y)},getTopRight:function(){return new a.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof a.Point?a.point(t):a.bounds(t),t instanceof a.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=a.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},a.bounds=function(t,e){return!t||t instanceof a.Bounds?t:new a.Bounds(t,e)},a.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},a.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new a.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},a.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||"auto"===i)&&n.defaultView){var r=n.defaultView.getComputedStyle(t,null);i=r?r[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e,i=0,r=0,o=t,s=n.body,u=n.documentElement;do{if(i+=o.offsetTop||0,r+=o.offsetLeft||0,i+=parseInt(a.DomUtil.getStyle(o,"borderTopWidth"),10)||0,r+=parseInt(a.DomUtil.getStyle(o,"borderLeftWidth"),10)||0,e=a.DomUtil.getStyle(o,"position"),o.offsetParent===s&&"absolute"===e)break;if("fixed"===e){i+=s.scrollTop||u.scrollTop||0,r+=s.scrollLeft||u.scrollLeft||0;break}if("relative"===e&&!o.offsetLeft){var c=a.DomUtil.getStyle(o,"width"),l=a.DomUtil.getStyle(o,"max-width"),h=o.getBoundingClientRect();("none"!==c||"none"!==l)&&(r+=h.left+o.clientLeft),i+=h.top+(s.scrollTop||u.scrollTop||0);break}o=o.offsetParent}while(o);o=t;do{if(o===s)break;i-=o.scrollTop||0,r-=o.scrollLeft||0,o=o.parentNode}while(o);return new a.Point(r,i)},documentIsLtr:function(){return a.DomUtil._docIsLtrCached||(a.DomUtil._docIsLtrCached=!0,a.DomUtil._docIsLtr="ltr"===a.DomUtil.getStyle(n.body,"direction")),a.DomUtil._docIsLtr},create:function(t,e,i){var r=n.createElement(t);return r.className=e,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=a.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=a.Util.splitWords(e),r=0,o=n.length;o>r;r++)t.classList.add(n[r]);else if(!a.DomUtil.hasClass(t,e)){var s=a.DomUtil._getClass(t);a.DomUtil._setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):a.DomUtil._setClass(t,a.Util.trim((" "+a.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=a.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=a.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&a.Browser.any3d?t.style[a.DomUtil.TRANSFORM]=a.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},a.DomUtil.TRANSFORM=a.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),a.DomUtil.TRANSITION=a.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),a.DomUtil.TRANSITION_END="webkitTransition"===a.DomUtil.TRANSITION||"OTransition"===a.DomUtil.TRANSITION?a.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in n)a.extend(a.DomUtil,{disableTextSelection:function(){a.DomEvent.on(t,"selectstart",a.DomEvent.preventDefault)},enableTextSelection:function(){a.DomEvent.off(t,"selectstart",a.DomEvent.preventDefault)}});else{var e=a.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);a.extend(a.DomUtil,{disableTextSelection:function(){if(e){var t=n.documentElement.style;this._userSelect=t[e],t[e]="none"}},enableTextSelection:function(){e&&(n.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}a.extend(a.DomUtil,{disableImageDrag:function(){a.DomEvent.on(t,"dragstart",a.DomEvent.preventDefault)},enableImageDrag:function(){a.DomEvent.off(t,"dragstart",a.DomEvent.preventDefault)}})}(),a.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},a.extend(a.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),a.LatLng.prototype={equals:function(t){if(!t)return!1;t=a.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=a.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+a.Util.formatNum(this.lat,t)+", "+a.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=a.latLng(t);var e=6378137,n=a.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,r=(t.lng-this.lng)*n,o=this.lat*n,s=t.lat*n,u=Math.sin(i/2),c=Math.sin(r/2),l=u*u+c*c*Math.cos(o)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new a.LatLng(this.lat,n)}},a.latLng=function(t,e){return t instanceof a.LatLng?t:a.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new a.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new a.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new a.LatLng(t,e)},a.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},a.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=a.latLng(t);return t=null!==e?e:a.latLngBounds(t),t instanceof a.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new a.LatLng(t.lat,t.lng),this._northEast=new a.LatLng(t.lat,t.lng)):t instanceof a.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new a.LatLngBounds(new a.LatLng(e.lat-i,e.lng-r),new a.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new a.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new a.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new a.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof a.LatLng?a.latLng(t):a.latLngBounds(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof a.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=a.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=a.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},a.latLngBounds=function(t,e){return!t||t instanceof a.LatLngBounds?t:new a.LatLngBounds(t,e)},a.Projection={},a.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=a.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=t.lng*e,o=i*e;return o=Math.log(Math.tan(Math.PI/4+o/2)),new a.Point(r,o)},unproject:function(t){var e=a.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new a.LatLng(i,n)}},a.Projection.LonLat={project:function(t){return new a.Point(t.lng,t.lat)},unproject:function(t){return new a.LatLng(t.y,t.x)}},a.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return a.point(e,e)}},a.CRS.Simple=a.extend({},a.CRS,{projection:a.Projection.LonLat,transformation:new a.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),a.CRS.EPSG3857=a.extend({},a.CRS,{code:"EPSG:3857",projection:a.Projection.SphericalMercator,transformation:new a.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),a.CRS.EPSG900913=a.extend({},a.CRS.EPSG3857,{code:"EPSG:900913"}),a.CRS.EPSG4326=a.extend({},a.CRS,{code:"EPSG:4326",projection:a.Projection.LonLat,transformation:new a.Transformation(1/360,.5,-1/360,.5)}),a.Map=a.Class.extend({includes:a.Mixin.Events,options:{crs:a.CRS.EPSG3857,fadeAnimation:a.DomUtil.TRANSITION&&!a.Browser.android23,trackResize:!0,markerZoomAnimation:a.DomUtil.TRANSITION&&a.Browser.any3d},initialize:function(t,e){e=a.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=a.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(a.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(a.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof a.Point?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),u=this.containerPointToLatLng(r.add(s));
return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():a.latLngBounds(t);var n=a.point(e.paddingTopLeft||e.padding||[0,0]),i=a.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));r=e.maxZoom?Math.min(e.maxZoom,r):r;var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),u=this.project(t.getNorthEast(),r),c=this.unproject(s.add(u).divideBy(2).add(o),r);return this.setView(c,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(a.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=a.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=a.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&a.TileLayer&&t instanceof a.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=a.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&a.TileLayer&&t instanceof a.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?a.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=a.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),o=i.subtract(r);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new a.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=a.latLngBounds(t);var i,r=this.getMinZoom()-(e?1:0),o=this.getMaxZoom(),s=this.getSize(),u=t.getNorthWest(),c=t.getSouthEast(),l=!0;n=a.point(n||[0,0]);do r++,i=this.project(c,r).subtract(this.project(u,r)).add(n),l=e?i.x<s.x||i.y<s.y:s.contains(i);while(l&&o>=r);return l&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new a.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new a.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(a.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(a.point(t),e)},layerPointToLatLng:function(t){var e=a.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(a.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return a.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return a.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(a.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(a.latLng(t)))},mouseEventToContainerPoint:function(t){return a.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=a.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;a.DomUtil.addClass(t,"leaflet-container"+(a.Browser.touch?" leaflet-touch":"")+(a.Browser.retina?" leaflet-retina":"")+(a.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=a.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(a.DomUtil.addClass(t.markerPane,e),a.DomUtil.addClass(t.shadowPane,e),a.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return a.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?a.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var r=this._zoom!==e;i||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):a.DomUtil.setPosition(this._mapPane,new a.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var o=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),o&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(r||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){a.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var a=this._zoomBoundLayers[t];isNaN(a.options.minZoom)||(e=Math.min(e,a.options.minZoom)),isNaN(a.options.maxZoom)||(n=Math.max(n,a.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(a.DomEvent){e=e||"on",a.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=r.length;i>n;n++)a.DomEvent[e](this._container,r[n],this._fireMouseEvent,this);this.options.trackResize&&a.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){a.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=a.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||a.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!a.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&a.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),r=this.layerPointToLatLng(i);this.fire(e,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return a.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new a.Bounds(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new a.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),r=this.project(e.getSouthEast(),n).subtract(t.max),o=this._rebound(i.x,-r.x),s=this._rebound(i.y,-r.y);return new a.Point(o,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),a.map=function(t,e){return new a.Map(t,e)},a.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=a.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=this.R_MAJOR,o=this.R_MINOR,s=t.lng*e*r,u=i*e,c=o/r,l=Math.sqrt(1-c*c),h=l*Math.sin(u);h=Math.pow((1-h)/(1+h),.5*l);var p=Math.tan(.5*(.5*Math.PI-u))/h;return u=-r*Math.log(p),new a.Point(s,u)},unproject:function(t){for(var e,n=a.LatLng.RAD_TO_DEG,i=this.R_MAJOR,r=this.R_MINOR,o=t.x*n/i,s=r/i,u=Math.sqrt(1-s*s),c=Math.exp(-t.y/i),l=Math.PI/2-2*Math.atan(c),h=15,p=1e-7,d=h,f=.1;Math.abs(f)>p&&--d>0;)e=u*Math.sin(l),f=Math.PI/2-2*Math.atan(c*Math.pow((1-e)/(1+e),.5*u))-l,l+=f;return new a.LatLng(l*n,o)}},a.CRS.EPSG3395=a.extend({},a.CRS,{code:"EPSG:3395",projection:a.Projection.Mercator,transformation:function(){var t=a.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new a.Transformation(n,.5,-n,.5)}()}),a.TileLayer=a.Class.extend({includes:a.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:a.Browser.mobile,updateWhenIdle:a.Browser.mobile},initialize:function(t,e){e=a.setOptions(this,e),e.detectRetina&&a.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=a.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=a.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,a=t.children,o=-e(1/0,-(1/0));for(i=0,r=a.length;r>i;i++)a[i]!==this._container&&(n=parseInt(a[i].style.zIndex,10),isNaN(n)||(o=e(o,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(o)?o:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(a.Browser.ielt9)for(t in e)a.DomUtil.setOpacity(e[t],this.options.opacity);else a.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=a.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=a.DomUtil.create("div",e,this._container),this._tileContainer=a.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var r=a.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(r),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(r)}}},_addTilesFromCenterOut:function(t){var e,i,r,o=[],s=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(i=t.min.x;i<=t.max.x;i++)r=new a.Point(i,e),this._tileShouldBeLoaded(r)&&o.push(r);var u=o.length;if(0!==u){o.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)});var c=n.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;u>i;i++)this._addTile(o[i],c);this._tileContainer.appendChild(c)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),a=r.add([i,i]),o=this._map.unproject(r),s=this._map.unproject(a);if(e.continuousWorld||e.noWrap||(o=o.wrap(),s=s.wrap()),!e.bounds.intersects([o,s]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(a.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),a.Browser.android||(e.onload=null,e.src=a.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();a.DomUtil.setPosition(i,n,a.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return a.Util.template(this._url,a.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=a.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=a.Util.falseFn,a.Browser.ielt9&&this.options.opacity!==i&&a.DomUtil.setOpacity(t,this.options.opacity),a.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&a.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(a.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==a.Util.emptyImageUrl&&(a.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),a.tileLayer=function(t,e){return new a.TileLayer(t,e)},a.TileLayer.WMS=a.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=a.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&a.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(n[r]=e[r]);this.wmsParams=n,a.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,a.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),r=i.add([n,n]),o=this._crs.project(e.unproject(i,t.z)),s=this._crs.project(e.unproject(r,t.z)),u=this._wmsVersion>=1.3&&this._crs===a.CRS.EPSG4326?[s.y,o.x,o.y,s.x].join(","):[o.x,s.y,s.x,o.y].join(","),c=a.Util.template(this._url,{s:this._getSubdomain(t)});return c+a.Util.getParamString(this.wmsParams,c,!0)+"&BBOX="+u},setParams:function(t,e){return a.extend(this.wmsParams,t),e||this.redraw(),this}}),a.tileLayer.wms=function(t,e){return new a.TileLayer.WMS(t,e)},a.TileLayer.Canvas=a.TileLayer.extend({options:{async:!1},initialize:function(t){a.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=a.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=a.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),a.tileLayer.canvas=function(t){return new a.TileLayer.Canvas(t)},a.ImageOverlay=a.Class.extend({includes:a.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=a.latLngBounds(e),a.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&a.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=a.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&a.Browser.any3d?a.DomUtil.addClass(this._image,"leaflet-zoom-animated"):a.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),a.extend(this._image,{galleryimg:"no",onselectstart:a.Util.falseFn,onmousemove:a.Util.falseFn,onload:a.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),o=this._bounds.getSouthEast(),s=e._latLngToNewLayerPoint(r,t.zoom,t.center),u=e._latLngToNewLayerPoint(o,t.zoom,t.center)._subtract(s),c=s._add(u._multiplyBy(.5*(1-1/i)));n.style[a.DomUtil.TRANSFORM]=a.DomUtil.getTranslateString(c)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);a.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){a.DomUtil.setOpacity(this._image,this.options.opacity)}}),a.imageOverlay=function(t,e,n){return new a.ImageOverlay(t,e,n)},a.Icon=a.Class.extend({options:{className:""},initialize:function(t){a.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,r=a.point(i[e+"Size"]);n="shadow"===e?a.point(i.shadowAnchor||i.iconAnchor):a.point(i.iconAnchor),!n&&r&&(n=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return a.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),a.icon=function(t){return new a.Icon(t)},a.Icon.Default=a.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];a.Browser.retina&&"icon"===t&&(t+="-2x");var n=a.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),a.Icon.Default.imagePath=function(){var t,e,i,r,a,o=n.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=o.length;e>t;t++)if(i=o[t].src,r=i.match(s))return a=i.split(s)[0],(a?a+"/":"")+"images"}(),a.Marker=a.Class.extend({includes:a.Mixin.Events,options:{icon:new a.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){a.setOptions(this,e),this._latlng=a.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=a.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),o=!1;r!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(r.title=t.title),t.alt&&(r.alt=t.alt)),a.DomUtil.addClass(r,i),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&a.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var s=t.icon.createShadow(this._shadow),u=!1;s!==this._shadow&&(this._removeShadow(),u=!0),s&&a.DomUtil.addClass(s,i),this._shadow=s,t.opacity<1&&this._updateOpacity();var c=this._map._panes;o&&c.markerPane.appendChild(this._icon),s&&u&&c.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&a.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){a.DomUtil.setPosition(this._icon,t),this._shadow&&a.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];a.DomUtil.addClass(t,"leaflet-clickable"),a.DomEvent.on(t,"click",this._onMouseClick,this),a.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)a.DomEvent.on(t,e[n],this._fireMouseEvent,this);a.Handler.MarkerDrag&&(this.dragging=new a.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&a.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&a.DomEvent.preventDefault(t),"mousedown"!==t.type?a.DomEvent.stopPropagation(t):a.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){a.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&a.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),a.marker=function(t,e){return new a.Marker(t,e)},a.DivIcon=a.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;return i.html!==!1?e.innerHTML=i.html:e.innerHTML="",i.bgPos&&(e.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),a.divIcon=function(t){return new a.DivIcon(t)},a.Map.mergeOptions({closePopupOnClick:!0}),a.Popup=a.Class.extend({includes:a.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){a.setOptions(this,t),this._source=e,this._animated=a.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&a.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&a.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),a.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&a.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=a.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),
this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=a.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=a.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",a.DomEvent.disableClickPropagation(t),a.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=a.DomUtil.create("div",e+"-content-wrapper",i);a.DomEvent.disableClickPropagation(r),this._contentNode=a.DomUtil.create("div",e+"-content",r),a.DomEvent.disableScrollPropagation(this._contentNode),a.DomEvent.on(r,"contextmenu",a.DomEvent.stopPropagation),this._tipContainer=a.DomUtil.create("div",e+"-tip-container",i),this._tip=a.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",a.DomUtil.addClass(t,o)):a.DomUtil.removeClass(t,o),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=a.point(this.options.offset);e&&a.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);a.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new a.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(a.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(i),o=a.point(this.options.autoPanPadding),s=a.point(this.options.autoPanPaddingTopLeft||o),u=a.point(this.options.autoPanPaddingBottomRight||o),c=t.getSize(),l=0,h=0;r.x+n+u.x>c.x&&(l=r.x+n-c.x+u.x),r.x-l-s.x<0&&(l=r.x-s.x),r.y+e+u.y>c.y&&(h=r.y+e-c.y+u.y),r.y-h-s.y<0&&(h=r.y-s.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),a.DomEvent.stop(t)}}),a.popup=function(t,e){return new a.Popup(t,e)},a.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof a.Popup)){var i=t;t=new a.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),a.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=a.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(a.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=a.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof a.Popup?(a.setOptions(t,e),this._popup=t,t._source=this):this._popup=new a.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),a.LayerGroup=a.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a.stamp(t)}}),a.layerGroup=function(t){return new a.LayerGroup(t)},a.FeatureGroup=a.LayerGroup.extend({includes:a.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(a.FeatureGroup.EVENTS,this._propagateEvent,this),a.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.off(a.FeatureGroup.EVENTS,this._propagateEvent,this),a.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new a.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof a.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=a.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),a.featureGroup=function(t){return new a.FeatureGroup(t)},a.Path=a.Class.extend({includes:[a.Mixin.Events],statics:{CLIP_PADDING:function(){var e=a.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){a.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,a.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return a.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),a.Map.include({_updatePathViewport:function(){var t=a.Path.CLIP_PADDING,e=this.getSize(),n=a.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new a.Bounds(i,r)}}),a.Path.SVG_NS="http://www.w3.org/2000/svg",a.Browser.svg=!(!n.createElementNS||!n.createElementNS(a.Path.SVG_NS,"svg").createSVGRect),a.Path=a.Path.extend({statics:{SVG:a.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return n.createElementNS(a.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&a.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(a.Browser.svg||!a.Browser.vml)&&a.DomUtil.addClass(this._path,"leaflet-clickable"),a.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)a.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),r=e.layerPointToLatLng(i);this.fire(t.type,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&a.DomEvent.preventDefault(t),"mousemove"!==t.type&&a.DomEvent.stopPropagation(t)}}}),a.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=a.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&a.Browser.any3d?(a.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):a.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[a.DomUtil.TRANSFORM]=a.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,r=n.y-e.y,o=this._pathRoot,s=this._panes.overlayPane;a.Browser.mobileWebkit&&s.removeChild(o),a.DomUtil.setPosition(o,e),o.setAttribute("width",i),o.setAttribute("height",r),o.setAttribute("viewBox",[e.x,e.y,i,r].join(" ")),a.Browser.mobileWebkit&&s.appendChild(o)}}}),a.Path.include({bindPopup:function(t,e){return t instanceof a.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new a.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),a.Browser.vml=!a.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),a.Path=a.Browser.svg||!a.Browser.vml?a.Path:a.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");a.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&a.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=a.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),a.Map.include(a.Browser.svg||!a.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=n.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),a.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),a.Path=a.Path.SVG&&!t.L_PREFER_CANVAS||!a.Browser.canvas?a.Path:a.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return a.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!a.Path._updateRequest&&(a.Path._updateRequest=a.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){a.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,r,o;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)r=this._parts[t][e],o=(0===e?"move":"line")+"To",this._ctx[o](r.x,r.y);this instanceof a.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),a.Map.include(a.Path.SVG&&!t.L_PREFER_CANVAS||!a.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=n.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;a.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),a.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,a=new r(n);a[0]=a[n-1]=1,this._simplifyDPStep(t,a,e,0,n-1);var o,s=[];for(o=0;n>o;o++)a[o]&&s.push(t[o]);return s},_simplifyDPStep:function(t,e,n,i,r){var a,o,s,u=0;for(o=i+1;r-1>=o;o++)s=this._sqClosestPointOnSegment(t[o],t[i],t[r],!0),s>u&&(a=o,u=s);u>n&&(e[a]=1,this._simplifyDPStep(t,e,n,i,a),this._simplifyDPStep(t,e,n,a,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,a=t.length;a>i;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return a-1>r&&n.push(t[a-1]),n},clipSegment:function(t,e,n,i){var r,a,o,s=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(s|u))return[t,e];if(s&u)return!1;r=s||u,a=this._getEdgeIntersection(t,e,r,n),o=this._getBitCode(a,n),r===s?(t=a,s=o):(e=a,u=o)}},_getEdgeIntersection:function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=i.min,u=i.max;return 8&n?new a.Point(t.x+r*(u.y-t.y)/o,u.y):4&n?new a.Point(t.x+r*(s.y-t.y)/o,s.y):2&n?new a.Point(u.x,t.y+o*(u.x-t.x)/r):1&n?new a.Point(s.x,t.y+o*(s.x-t.x)/r):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r,o=e.x,s=e.y,u=n.x-o,c=n.y-s,l=u*u+c*c;return l>0&&(r=((t.x-o)*u+(t.y-s)*c)/l,r>1?(o=n.x,s=n.y):r>0&&(o+=u*r,s+=c*r)),u=t.x-o,c=t.y-s,i?u*u+c*c:new a.Point(o,s)}},a.Polyline=a.Path.extend({initialize:function(t,e){a.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(a.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,r=this._parts,o=null,s=0,u=r.length;u>s;s++)for(var c=r[s],l=1,h=c.length;h>l;l++){e=c[l-1],n=c[l];var p=a.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>p&&(i=p,o=a.LineUtil._sqClosestPointOnSegment(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getBounds:function(){return new a.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,r=e?t:[];for(n=0,i=t.length;i>n;n++){if(a.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;r[n]=a.latLng(t[n])}return r},_initEvents:function(){a.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=a.Path.VML,i=0,r=t.length,o="";r>i;i++)e=t[i],n&&e._round(),o+=(i?"L":"M")+e.x+" "+e.y;return o},_clipPoints:function(){var t,e,n,i=this._originalPoints,r=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var o=this._parts,s=this._map._pathViewport,u=a.LineUtil;for(t=0,e=0;r-1>t;t++)n=u.clipSegment(i[t],i[t+1],s,t),n&&(o[e]=o[e]||[],o[e].push(n[0]),(n[1]!==i[t+1]||t===r-2)&&(o[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=a.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),a.Path.prototype._updatePath.call(this))}}),a.polyline=function(t,e){return new a.Polyline(t,e)},a.PolyUtil={},a.PolyUtil.clipPolygon=function(t,e){var n,i,r,o,s,u,c,l,h,p=[1,4,2,8],d=a.LineUtil;for(i=0,c=t.length;c>i;i++)t[i]._code=d._getBitCode(t[i],e);for(o=0;4>o;o++){for(l=p[o],n=[],i=0,c=t.length,r=c-1;c>i;r=i++)s=t[i],u=t[r],s._code&l?u._code&l||(h=d._getEdgeIntersection(u,s,l,e),h._code=d._getBitCode(h,e),n.push(h)):(u._code&l&&(h=d._getEdgeIntersection(u,s,l,e),h._code=d._getBitCode(h,e),n.push(h)),n.push(s));t=n}return t},a.Polygon=a.Polyline.extend({options:{fill:!0},initialize:function(t,e){a.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&a.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(a.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&a.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):a.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var r=a.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=a.Polyline.prototype._getPathPartStr.call(this,t);return e+(a.Browser.svg?"z":"x")}}),a.polygon=function(t,e){return new a.Polygon(t,e)},function(){function t(t){return a.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}a.MultiPolyline=t(a.Polyline),a.MultiPolygon=t(a.Polygon),a.multiPolyline=function(t,e){return new a.MultiPolyline(t,e)},a.multiPolygon=function(t,e){return new a.MultiPolygon(t,e)}}(),a.Rectangle=a.Polygon.extend({initialize:function(t,e){a.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=a.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),a.rectangle=function(t,e){return new a.Rectangle(t,e)},a.Circle=a.Path.extend({initialize:function(t,e,n){a.Path.prototype.initialize.call(this,n),this._latlng=a.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=a.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new a.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":a.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(a.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),a.circle=function(t,e,n){return new a.Circle(t,e,n)},a.CircleMarker=a.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){a.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){a.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return a.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),a.circleMarker=function(t,e){return new a.CircleMarker(t,e)},a.Polyline.include(a.Path.CANVAS?{_containsPoint:function(t,e){var n,i,r,o,s,u,c,l=this.options.weight/2;for(a.Browser.touch&&(l+=10),n=0,o=this._parts.length;o>n;n++)for(c=this._parts[n],i=0,s=c.length,r=s-1;s>i;r=i++)if((e||0!==i)&&(u=a.LineUtil.pointToSegmentDistance(t,c[r],c[i]),l>=u))return!0;return!1}}:{}),a.Polygon.include(a.Path.CANVAS?{_containsPoint:function(t){var e,n,i,r,o,s,u,c,l=!1;if(a.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,u=this._parts.length;u>r;r++)for(e=this._parts[r],o=0,c=e.length,s=c-1;c>o;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l}}:{}),a.Circle.include(a.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),a.CircleMarker.include(a.Path.CANVAS?{_updateStyle:function(){a.Path.prototype._updateStyle.call(this)}}:{}),a.GeoJSON=a.FeatureGroup.extend({initialize:function(t,e){a.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=a.Util.isArray(t)?t:t.features;if(r){for(e=0,n=r.length;n>e;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(r[e]);return this}var o=this.options;if(!o.filter||o.filter(t)){var s=a.GeoJSON.geometryToLayer(t,o.pointToLayer,o.coordsToLatLng,o);return s.feature=a.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(a.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),a.extend(a.GeoJSON,{geometryToLayer:function(t,e,n,i){var r,o,s,u,c="Feature"===t.type?t.geometry:t,l=c.coordinates,h=[];switch(n=n||this.coordsToLatLng,c.type){case"Point":return r=n(l),e?e(t,r):new a.Marker(r);case"MultiPoint":for(s=0,u=l.length;u>s;s++)r=n(l[s]),h.push(e?e(t,r):new a.Marker(r));return new a.FeatureGroup(h);case"LineString":return o=this.coordsToLatLngs(l,0,n),new a.Polyline(o,i);case"Polygon":if(2===l.length&&!l[1].length)throw new Error("Invalid GeoJSON object.");return o=this.coordsToLatLngs(l,1,n),new a.Polygon(o,i);case"MultiLineString":return o=this.coordsToLatLngs(l,1,n),new a.MultiPolyline(o,i);case"MultiPolygon":return o=this.coordsToLatLngs(l,2,n),new a.MultiPolygon(o,i);case"GeometryCollection":for(s=0,u=c.geometries.length;u>s;s++)h.push(this.geometryToLayer({geometry:c.geometries[s],type:"Feature",properties:t.properties},e,n,i));return new a.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new a.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,r,a,o=[];for(r=0,a=t.length;a>r;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(a.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?a.extend({},t.feature,{geometry:e}):a.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return a.GeoJSON.getFeature(this,{type:"Point",coordinates:a.GeoJSON.latLngToCoords(this.getLatLng())})}};a.Marker.include(s),a.Circle.include(s),a.CircleMarker.include(s),a.Polyline.include({toGeoJSON:function(){return a.GeoJSON.getFeature(this,{type:"LineString",coordinates:a.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),a.Polygon.include({toGeoJSON:function(){var t,e,n,i=[a.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=a.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return a.GeoJSON.getFeature(this,{type:"Polygon",
coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),a.GeoJSON.getFeature(this,{type:t,coordinates:e})}}a.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),a.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),a.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var r=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(r?e.geometry:a.GeoJSON.asFeature(e)))}),r?a.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),a.geoJson=function(t,e){return new a.GeoJSON(t,e)},a.DomEvent={addListener:function(t,e,n,i){var r,o,s,u=a.stamp(n),c="_leaflet_"+e+u;return t[c]?this:(r=function(e){return n.call(i||t,e||a.DomEvent._getEvent())},a.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,r,u):(a.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,r,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(o=r,s="mouseenter"===e?"mouseover":"mouseout",r=function(e){return a.DomEvent._checkMouse(t,e)?o(e):void 0},t.addEventListener(s,r,!1)):"click"===e&&a.Browser.android?(o=r,r=function(t){return a.DomEvent._filterClick(t,o)},t.addEventListener(e,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[c]=r,this))},removeListener:function(t,e,n){var i=a.stamp(n),r="_leaflet_"+e+i,o=t[r];return o?(a.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):a.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",o,!1),t.removeEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1):t.removeEventListener(e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,a.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=a.DomEvent.stopPropagation;return a.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=a.DomEvent.stopPropagation,n=a.Draggable.START.length-1;n>=0;n--)a.DomEvent.on(t,a.Draggable.START[n],e);return a.DomEvent.on(t,"click",a.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return a.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new a.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new a.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){a.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=a.DomEvent._lastClick&&n-a.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void a.DomEvent.stop(t):(a.DomEvent._lastClick=n,e(t))}},a.DomEvent.on=a.DomEvent.addListener,a.DomEvent.off=a.DomEvent.removeListener,a.Draggable=a.Class.extend({includes:a.Mixin.Events,statics:{START:a.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=a.Draggable.START.length-1;t>=0;t--)a.DomEvent.on(this._dragStartTarget,a.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=a.Draggable.START.length-1;t>=0;t--)a.DomEvent.off(this._dragStartTarget,a.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(a.DomEvent.stopPropagation(t),!a.Draggable._disabled&&(a.DomUtil.disableImageDrag(),a.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new a.Point(e.clientX,e.clientY),this._startPos=this._newPos=a.DomUtil.getPosition(this._element),a.DomEvent.on(n,a.Draggable.MOVE[t.type],this._onMove,this).on(n,a.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new a.Point(e.clientX,e.clientY),r=i.subtract(this._startPoint);(r.x||r.y)&&(a.Browser.touch&&Math.abs(r.x)+Math.abs(r.y)<3||(a.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=a.DomUtil.getPosition(this._element).subtract(r),a.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,a.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,a.Util.cancelAnimFrame(this._animRequest),this._animRequest=a.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),a.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){a.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(a.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in a.Draggable.MOVE)a.DomEvent.off(n,a.Draggable.MOVE[t],this._onMove).off(n,a.Draggable.END[t],this._onUp);a.DomUtil.enableImageDrag(),a.DomUtil.enableTextSelection(),this._moved&&this._moving&&(a.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),a.Handler=a.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),a.Map.mergeOptions({dragging:!0,inertia:!a.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:a.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),a.Map.Drag=a.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new a.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,a=(i+e+n)%t-e-n,o=Math.abs(r+n)<Math.abs(a+n)?r:a;this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,r=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),r)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+i-this._times[0])/1e3,u=n.easeLinearity,c=o.multiplyBy(u/s),l=c.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,l),p=c.multiplyBy(h/l),d=h/(n.inertiaDeceleration*u),f=p.multiplyBy(-d/2).round();f.x&&f.y?(f=e._limitOffset(f,e.options.maxBounds),a.Util.requestAnimFrame(function(){e.panBy(f,{duration:d,easeLinearity:u,noMoveStart:!0})})):e.fire("moveend")}}}),a.Map.addInitHook("addHandler","dragging",a.Map.Drag),a.Map.mergeOptions({doubleClickZoom:!0}),a.Map.DoubleClickZoom=a.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),a.Map.addInitHook("addHandler","doubleClickZoom",a.Map.DoubleClickZoom),a.Map.mergeOptions({scrollWheelZoom:!0}),a.Map.ScrollWheelZoom=a.Handler.extend({addHooks:function(){a.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),a.DomEvent.on(this._map._container,"MozMousePixelScroll",a.DomEvent.preventDefault),this._delta=0},removeHooks:function(){a.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),a.DomEvent.off(this._map._container,"MozMousePixelScroll",a.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=a.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a.bind(this._performZoom,this),n),a.DomEvent.preventDefault(t),a.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),a.Map.addInitHook("addHandler","scrollWheelZoom",a.Map.ScrollWheelZoom),a.extend(a.DomEvent,{_touchstart:a.Browser.msPointer?"MSPointerDown":a.Browser.pointer?"pointerdown":"touchstart",_touchend:a.Browser.msPointer?"MSPointerUp":a.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function r(t){var e;if(a.Browser.pointer?(f.push(t.pointerId),e=f.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(s||n);u=t.touches?t.touches[0]:t,c=i>0&&l>=i,s=n}}function o(t){if(a.Browser.pointer){var n=f.indexOf(t.pointerId);if(-1===n)return;f.splice(n,1)}if(c){if(a.Browser.pointer){var i,r={};for(var o in u)i=u[o],"function"==typeof i?r[o]=i.bind(u):r[o]=i;u=r}u.type="dblclick",e(u),s=null}}var s,u,c=!1,l=250,h="_leaflet_",p=this._touchstart,d=this._touchend,f=[];t[h+p+i]=r,t[h+d+i]=o;var m=a.Browser.pointer?n.documentElement:t;return t.addEventListener(p,r,!1),m.addEventListener(d,o,!1),a.Browser.pointer&&m.addEventListener(a.DomEvent.POINTER_CANCEL,o,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+e],!1),(a.Browser.pointer?n.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+e],!1),a.Browser.pointer&&n.documentElement.removeEventListener(a.DomEvent.POINTER_CANCEL,t[i+this._touchend+e],!1),this}}),a.extend(a.DomEvent,{POINTER_DOWN:a.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:a.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:a.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:a.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,i,r){var o="_leaflet_",s=this._pointers,u=function(t){a.DomEvent.preventDefault(t);for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[o+"touchstart"+r]=u,t.addEventListener(this.POINTER_DOWN,u,!1),!this._pointerDocumentListener){var c=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};n.documentElement.addEventListener(this.POINTER_UP,c,!1),n.documentElement.addEventListener(this.POINTER_CANCEL,c,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o[e]=t;break}t.touches=o.slice(),t.changedTouches=[t],n(t)}}var a="_leaflet_",o=this._pointers;return t[a+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",a=this._pointers,o=function(t){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a.splice(e,1);break}t.touches=a.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=o,t.addEventListener(this.POINTER_UP,o,!1),t.addEventListener(this.POINTER_CANCEL,o,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),a.Map.mergeOptions({touchZoom:a.Browser.touch&&!a.Browser.android23,bounceAtZoomLimits:!0}),a.Map.TouchZoom=a.Handler.extend({addHooks:function(){a.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){a.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]),o=e._getCenterLayerPoint();this._startCenter=i.add(r)._divideBy(2),this._startDist=i.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=o.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),a.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),a.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(a.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),a.Util.cancelAnimFrame(this._animRequest),this._animRequest=a.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),a.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,a.DomUtil.removeClass(t._mapPane,"leaflet-touching"),a.Util.cancelAnimFrame(this._animRequest),a.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),r=t.getZoom(),o=t.getScaleZoom(this._scale)-r,s=o>0?Math.ceil(o):Math.floor(o),u=t._limitZoom(r+s),c=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,e,c)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),a.Map.addInitHook("addHandler","touchZoom",a.Map.TouchZoom),a.Map.mergeOptions({tap:!0,tapTolerance:15}),a.Map.Tap=a.Handler.extend({addHooks:function(){a.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(a.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new a.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&a.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(a.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),a.DomEvent.on(n,"touchmove",this._onMove,this).on(n,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),a.DomEvent.off(n,"touchmove",this._onMove,this).off(n,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&a.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new a.Point(e.clientX,e.clientY)},_simulateEvent:function(e,i){var r=n.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),a.Browser.touch&&!a.Browser.pointer&&a.Map.addInitHook("addHandler","tap",a.Map.Tap),a.Map.mergeOptions({boxZoom:!0}),a.Map.BoxZoom=a.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){a.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(a.DomUtil.disableTextSelection(),a.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void a.DomEvent.on(n,"mousemove",this._onMouseMove,this).on(n,"mouseup",this._onMouseUp,this).on(n,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=a.DomUtil.create("div","leaflet-zoom-box",this._pane),a.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),r=i.subtract(e),o=new a.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));a.DomUtil.setPosition(n,o),this._moved=!0,n.style.width=Math.max(0,Math.abs(r.x)-4)+"px",n.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),a.DomUtil.enableTextSelection(),a.DomUtil.enableImageDrag(),a.DomEvent.off(n,"mousemove",this._onMouseMove).off(n,"mouseup",this._onMouseUp).off(n,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new a.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),a.Map.addInitHook("addHandler","boxZoom",a.Map.BoxZoom),a.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),a.Map.Keyboard=a.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),a.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;a.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,r=e.scrollTop||i.scrollTop,a=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(a,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;n>e;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;n>e;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;n>e;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;n>e;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;n>e;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;n>e;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){a.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){a.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}a.DomEvent.stop(t)}}),a.Map.addInitHook("addHandler","keyboard",a.Map.Keyboard),a.Handler.MarkerDrag=a.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new a.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),a.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),a.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=a.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&a.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),a.Control=a.Class.extend({options:{position:"topright"},initialize:function(t){a.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return a.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),a.control=function(t){return new a.Control(t)},a.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=a.DomUtil.create("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=a.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),a.Control.Zoom=a.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=a.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,r,o){var s=a.DomUtil.create("a",n,i);s.innerHTML=t,s.href="#",s.title=e;var u=a.DomEvent.stopPropagation;return a.DomEvent.on(s,"click",u).on(s,"mousedown",u).on(s,"dblclick",u).on(s,"click",a.DomEvent.preventDefault).on(s,"click",r,o).on(s,"click",this._refocusOnMap,o),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";a.DomUtil.removeClass(this._zoomInButton,e),a.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&a.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&a.DomUtil.addClass(this._zoomInButton,e)}}),a.Map.mergeOptions({zoomControl:!0}),a.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new a.Control.Zoom,this.addControl(this.zoomControl))}),a.control.zoom=function(t){return new a.Control.Zoom(t)},a.Control.Attribution=a.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){a.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=a.DomUtil.create("div","leaflet-control-attribution"),a.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),a.Map.mergeOptions({attributionControl:!0}),a.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new a.Control.Attribution).addTo(this))}),a.control.attribution=function(t){return new a.Control.Attribution(t)},a.Control.Scale=a.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=a.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=a.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=a.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),a=this.options,o=0;r.x>0&&(o=i*(a.maxWidth/r.x)),this._updateScales(a,o)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,a=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),a.style.width=this._getScaleWidth(n/e)+"px",a.innerHTML=n+" mi"):(i=this._getRoundNum(r),a.style.width=this._getScaleWidth(i/r)+"px",a.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),a.control.scale=function(t){return new a.Control.Scale(t)},a.Control.Layers=a.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){a.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=a.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=a.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),a.Browser.touch?a.DomEvent.on(e,"click",a.DomEvent.stopPropagation):a.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=a.DomUtil.create("form",t+"-list");if(this.options.collapsed){a.Browser.android||a.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=a.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",a.Browser.touch?a.DomEvent.on(i,"click",a.DomEvent.stop).on(i,"click",this._expand,this):a.DomEvent.on(i,"focus",this._expand,this),a.DomEvent.on(n,"click",function(){setTimeout(a.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=a.DomUtil.create("div",t+"-base",n),this._separator=a.DomUtil.create("div",t+"-separator",n),this._overlaysList=a.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=a.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[a.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;
n&&this._map.fire(n,e)}},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var r=n.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var e,i=n.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=a.stamp(t.layer),a.DomEvent.on(e,"click",this._onInputClick,this);var o=n.createElement("span");o.innerHTML=" "+t.name,i.appendChild(e),i.appendChild(o);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;r>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){a.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),a.control.layers=function(t,e,n){return new a.Control.Layers(t,e,n)},a.PosAnimation=a.Class.extend({includes:a.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[a.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",a.DomEvent.on(t,a.DomUtil.TRANSITION_END,this._onTransitionEnd,this),a.DomUtil.setPosition(t,e),a.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(a.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(a.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),a.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,r=this._el,o=t.getComputedStyle(r);if(a.Browser.any3d){if(i=o[a.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(o.left),n=parseFloat(o.top);return new a.Point(e,n,!0)},_onTransitionEnd:function(){a.DomEvent.off(this._el,a.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[a.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),a.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(a.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=a.extend({animate:n.animate},n.zoom),n.pan=a.extend({animate:n.animate},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=a.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new a.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){a.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){a.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),a.PosAnimation=a.DomUtil.TRANSITION?a.PosAnimation:a.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=a.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=a.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));a.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){a.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),a.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),a.DomUtil.TRANSITION&&a.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&a.DomUtil.TRANSITION&&a.Browser.any3d&&!a.Browser.android23&&!a.Browser.mobileOpera,this._zoomAnimated&&a.DomEvent.on(this._mapPane,a.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),a.Map.include(a.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),a=this._getCenterLayerPoint()._add(r);return n.animate===!0||this.getSize().contains(r)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,a,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,r,o,s){s||(this._animatingZoom=!0),a.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,a.Draggable&&(a.Draggable._disabled=!0),a.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:r,backwards:o}),setTimeout(a.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,a.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),a.Draggable&&(a.Draggable._disabled=!1))}}:{}),a.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=a.DomUtil.TRANSFORM,i=t.delta?a.DomUtil.getTranslateString(t.delta):e.style[n],r=a.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?r+" "+i:i+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),a.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[a.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[a.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=r.length;n>e;e++)i=r[e],i.complete||(i.onload=a.Util.falseFn,i.onerror=a.Util.falseFn,i.src=a.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),a.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=a.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=a.bind(this._handleGeolocationResponse,this),n=a.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new a.LatLng(e,n),r=180*t.coords.accuracy/40075017,o=r/Math.cos(a.LatLng.DEG_TO_RAD*e),s=a.latLngBounds([e-r,n-o],[e+r,n+o]),u=this._locateOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(s),u.maxZoom);this.setView(i,c)}var l={latlng:i,bounds:s,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(l[h]=t.coords[h]);this.fire("locationfound",l)}})}(window,document)},{}],104:[function(t,e,n){e.exports={AppBar:t("./js/app-bar"),AppCanvas:t("./js/app-canvas"),Checkbox:t("./js/checkbox"),DatePicker:t("./js/date-picker/date-picker"),Dialog:t("./js/dialog"),DialogWindow:t("./js/dialog-window"),DropDownIcon:t("./js/drop-down-icon"),DropDownMenu:t("./js/drop-down-menu"),EnhancedButton:t("./js/enhanced-button"),FlatButton:t("./js/flat-button"),FloatingActionButton:t("./js/floating-action-button"),FontIcon:t("./js/font-icon"),IconButton:t("./js/icon-button"),Input:t("./js/input"),LeftNav:t("./js/left-nav"),Menu:t("./js/menu/menu"),MenuItem:t("./js/menu/menu-item"),Mixins:{Classable:t("./js/mixins/classable"),ClickAwayable:t("./js/mixins/click-awayable"),WindowListenable:t("./js/mixins/window-listenable")},Paper:t("./js/paper"),RadioButton:t("./js/radio-button"),RadioButtonGroup:t("./js/radio-button-group"),RaisedButton:t("./js/raised-button"),Slider:t("./js/slider"),SvgIcon:t("./js/svg-icons/svg-icon"),Icons:{NavigationMenu:t("./js/svg-icons/navigation-menu"),NavigationChevronLeft:t("./js/svg-icons/navigation-chevron-left"),NavigationChevronRight:t("./js/svg-icons/navigation-chevron-right")},Tab:t("./js/tabs/tab"),Tabs:t("./js/tabs/tabs"),Toggle:t("./js/toggle"),Snackbar:t("./js/snackbar"),TextField:t("./js/text-field"),Toolbar:t("./js/toolbar"),ToolbarGroup:t("./js/toolbar-group"),Tooltip:t("./js/tooltip"),Utils:{CssEvent:t("./js/utils/css-event"),Dom:t("./js/utils/dom"),Events:t("./js/utils/events"),KeyCode:t("./js/utils/key-code"),KeyLine:t("./js/utils/key-line")}}},{"./js/app-bar":105,"./js/app-canvas":106,"./js/checkbox":107,"./js/date-picker/date-picker":113,"./js/dialog":116,"./js/dialog-window":115,"./js/drop-down-icon":117,"./js/drop-down-menu":118,"./js/enhanced-button":119,"./js/flat-button":122,"./js/floating-action-button":123,"./js/font-icon":124,"./js/icon-button":125,"./js/input":127,"./js/left-nav":128,"./js/menu/menu":131,"./js/menu/menu-item":130,"./js/mixins/classable":133,"./js/mixins/click-awayable":134,"./js/mixins/window-listenable":135,"./js/paper":137,"./js/radio-button":139,"./js/radio-button-group":138,"./js/raised-button":140,"./js/slider":144,"./js/snackbar":145,"./js/svg-icons/navigation-chevron-left":147,"./js/svg-icons/navigation-chevron-right":148,"./js/svg-icons/navigation-menu":149,"./js/svg-icons/svg-icon":150,"./js/tabs/tab":155,"./js/tabs/tabs":157,"./js/text-field":158,"./js/toggle":159,"./js/toolbar":161,"./js/toolbar-group":160,"./js/tooltip":162,"./js/utils/css-event":164,"./js/utils/dom":166,"./js/utils/events":167,"./js/utils/key-code":168,"./js/utils/key-line":169}],105:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("./icon-button"),o=t("./svg-icons/navigation-menu"),s=t("./paper"),u=i.createClass({displayName:"AppBar",mixins:[r],propTypes:{onMenuIconButtonTouchTap:i.PropTypes.func,showMenuIconButton:i.PropTypes.bool,iconClassNameLeft:i.PropTypes.string,iconElementLeft:i.PropTypes.element,iconElementRight:i.PropTypes.element,title:i.PropTypes.node,zDepth:i.PropTypes.number},getDefaultProps:function(){return{showMenuIconButton:!0,title:"",zDepth:1}},componentDidMount:function(){if("production"!==n.env.NODE_ENV&&this.props.iconElementLeft&&this.props.iconClassNameLeft){var t="Properties iconClassNameLeft and iconElementLeft cannot be simultaneously defined. Please use one or the other.";console.warn(t)}},render:function(){var t,e,n,r=this.props,u=(r.onTouchTap,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(r,{onTouchTap:1}),this.getClasses("mui-app-bar"));if(this.props.title&&(t="[object String]"===Object.prototype.toString.call(this.props.title)?i.createElement("h1",{className:"mui-app-bar-title"},this.props.title):this.props.title),this.props.showMenuIconButton)if(this.props.iconElementLeft)e=i.createElement("div",{className:"mui-app-bar-navigation-icon-button"},this.props.iconElementLeft);else{var c=this.props.iconClassNameLeft?"":i.createElement(o,null);e=i.createElement(a,{className:"mui-app-bar-navigation-icon-button",iconClassName:this.props.iconClassNameLeft,onTouchTap:this._onMenuIconButtonTouchTap},c)}return n=this.props.children?this.props.children:this.props.iconElementRight?this.props.iconElementRight:"",i.createElement(s,{rounded:!1,className:u,zDepth:this.props.zDepth},e,t,n)},_onMenuIconButtonTouchTap:function(t){this.props.onMenuIconButtonTouchTap&&this.props.onMenuIconButtonTouchTap(t)}});e.exports=u}).call(this,t("_process"))},{"./icon-button":125,"./mixins/classable":133,"./paper":137,"./svg-icons/navigation-menu":149,_process:95,react:346}],106:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"AppCanvas",mixins:[r],propTypes:{predefinedLayout:i.PropTypes.number},render:function(){var t=this.getClasses({"mui-app-canvas":!0,"mui-predefined-layout-1":1===this.props.predefinedLayout});return i.createElement("div",{className:t},this.props.children)}});e.exports=a},{"./mixins/classable":133,react:346}],107:[function(t,e,n){var i=t("react"),r=t("./enhanced-switch"),a=t("./mixins/classable"),o=t("./svg-icons/toggle-check-box-outline-blank"),s=t("./svg-icons/toggle-check-box-checked"),u=i.createClass({displayName:"Checkbox",mixins:[a],propTypes:{onCheck:i.PropTypes.func},render:function(){var t=this.props,e=(t.onCheck,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{onCheck:1})),n=this.getClasses("mui-checkbox"),a=i.createElement("div",null,i.createElement(o,{className:"mui-checkbox-box"}),i.createElement(s,{className:"mui-checkbox-check"})),u={ref:"enhancedSwitch",inputType:"checkbox",switchElement:a,className:n,iconClassName:"mui-checkbox-icon",onSwitch:this._handleCheck,labelPosition:this.props.labelPosition?this.props.labelPosition:"right"};return i.createElement(r,i.__spread({},e,u))},isChecked:function(){return this.refs.enhancedSwitch.isSwitched()},setChecked:function(t){this.refs.enhancedSwitch.setSwitched(t)},_handleCheck:function(t,e){this.props.onCheck&&this.props.onCheck(t,e)}});e.exports=u},{"./enhanced-switch":120,"./mixins/classable":133,"./svg-icons/toggle-check-box-checked":151,"./svg-icons/toggle-check-box-outline-blank":152,react:346}],108:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../utils/date-time"),o=t("./day-button"),s=i.createClass({displayName:"CalendarMonth",mixins:[r],propTypes:{displayDate:i.PropTypes.object.isRequired,onDayTouchTap:i.PropTypes.func,selectedDate:i.PropTypes.object.isRequired,maxDate:i.PropTypes.object,minDate:i.PropTypes.object,autoOk:i.PropTypes.bool},render:function(){var t=this.getClasses("mui-date-picker-calendar-month");return i.createElement("div",{className:t},this._getWeekElements())},_getWeekElements:function(){var t=a.getWeekArray(this.props.displayDate);return t.map(function(t,e){return i.createElement("div",{key:e,className:"mui-date-picker-calendar-month-week"},this._getDayElements(t))},this)},_isDisabled:function(t){var e=this.props.minDate,n=this.props.maxDate;return null!=e&&e>t?!0:null!=n&&t>n?!0:!1},_getDayElements:function(t){return t.map(function(t,e){var n=a.isEqualDate(this.props.selectedDate,t),r=this._isDisabled(t);return i.createElement(o,{key:e,date:t,disabled:r,onTouchTap:this._handleDayTouchTap,selected:n})},this)},_handleDayTouchTap:function(t,e){this.props.onDayTouchTap&&this.props.onDayTouchTap(t,e)}});e.exports=s},{"../mixins/classable":133,"../utils/date-time":165,"./day-button":114,react:346}],109:[function(t,e,n){var i=t("react"),r=t("../utils/date-time"),a=t("../icon-button"),o=t("../svg-icons/navigation-chevron-left"),s=t("../svg-icons/navigation-chevron-right"),u=t("../transition-groups/slide-in"),c=i.createClass({displayName:"CalendarToolbar",propTypes:{displayDate:i.PropTypes.object.isRequired,onLeftTouchTap:i.PropTypes.func,onRightTouchTap:i.PropTypes.func,maxDate:i.PropTypes.object,minDate:i.PropTypes.object},getDefaultProps:function(){return{maxDate:null,minDate:null}},getInitialState:function(){return{transitionDirection:"up"}},componentWillReceiveProps:function(t){var e;t.displayDate!==this.props.displayDate&&(e=t.displayDate>this.props.displayDate?"up":"down",this.setState({transitionDirection:e}))},_isDisabled:function(t){var e=this.props.displayDate,n=this.props.minDate,i=this.props.maxDate;if("left"==t&&n){if(e.getFullYear()<n.getFullYear())return!0;if(e.getFullYear()==n.getFullYear())return e.getMonth()<=n.getMonth()}else if("right"==t&&i){if(e.getFullYear()>i.getFullYear())return!0;if(e.getFullYear()==i.getFullYear())return e.getMonth()>=i.getMonth()}return!1},render:function(){var t=r.getFullMonth(this.props.displayDate),e=this.props.displayDate.getFullYear(),n=this._isDisabled("left"),c=this._isDisabled("right");return i.createElement("div",{className:"mui-date-picker-calendar-toolbar"},i.createElement(u,{className:"mui-date-picker-calendar-toolbar-title",direction:this.state.transitionDirection},i.createElement("div",{key:t+"_"+e},t," ",e)),i.createElement(a,{disabled:n,className:"mui-date-picker-calendar-toolbar-button-left",onTouchTap:this.props.onLeftTouchTap},i.createElement(o,null)),i.createElement(a,{disabled:c,className:"mui-date-picker-calendar-toolbar-button-right",onTouchTap:this.props.onRightTouchTap},i.createElement(s,null)))}});e.exports=c},{"../icon-button":125,"../svg-icons/navigation-chevron-left":147,"../svg-icons/navigation-chevron-right":148,"../transition-groups/slide-in":163,"../utils/date-time":165,react:346}],110:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../mixins/window-listenable"),o=t("../utils/date-time"),s=t("../utils/key-code"),u=t("./calendar-month"),c=t("./calendar-toolbar"),l=t("./date-display"),h=t("../transition-groups/slide-in"),p=i.createClass({displayName:"Calendar",mixins:[r,a],propTypes:{initialDate:i.PropTypes.object,isActive:i.PropTypes.bool,maxDate:i.PropTypes.object,minDate:i.PropTypes.object,onSelectedDate:i.PropTypes.func},windowListeners:{keydown:"_handleWindowKeyDown"},getDefaultProps:function(){return{initialDate:new Date,maxDate:null,minDate:null}},getInitialState:function(){return{displayDate:o.getFirstDayOfMonth(this.props.initialDate),selectedDate:this.props.initialDate,transitionDirection:"left"}},componentWillReceiveProps:function(t){if(t.initialDate!==this.props.initialDate){var e=t.initialDate||new Date;this.setState({displayDate:o.getFirstDayOfMonth(e),selectedDate:e})}},render:function(){var t=o.getWeekArray(this.state.displayDate).length,e=this.getClasses("mui-date-picker-calendar",{"mui-is-4week":4===t,"mui-is-5week":5===t,"mui-is-6week":6===t});return i.createElement("div",{className:e},i.createElement(l,{className:"mui-date-picker-calendar-date-display",selectedDate:this.state.selectedDate}),i.createElement("div",{className:"mui-date-picker-calendar-container"},i.createElement(c,{minDate:this.props.minDate,maxDate:this.props.maxDate,displayDate:this.state.displayDate,onLeftTouchTap:this._handleLeftTouchTap,onRightTouchTap:this._handleRightTouchTap}),i.createElement("ul",{className:"mui-date-picker-calendar-week-title"},i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"S"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"M"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"T"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"W"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"T"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"F"),i.createElement("li",{className:"mui-date-picker-calendar-week-title-day"},"S")),i.createElement(h,{direction:this.state.transitionDirection},i.createElement(u,{minDate:this.props.minDate,maxDate:this.props.maxDate,key:this.state.displayDate.toDateString(),displayDate:this.state.displayDate,onDayTouchTap:this._handleDayTouchTap,selectedDate:this.state.selectedDate}))))},getSelectedDate:function(){return this.state.selectedDate},_addDisplayDate:function(t){var e=o.clone(this.state.displayDate);e.setMonth(e.getMonth()+t),this._setDisplayDate(e)},_addSelectedDays:function(t){this._setSelectedDate(o.addDays(this.state.selectedDate,t))},_addSelectedMonths:function(t){this._setSelectedDate(o.addMonths(this.state.selectedDate,t))},_setDisplayDate:function(t,e){var n=o.getFirstDayOfMonth(t),i=n>this.state.displayDate?"left":"right";n!==this.state.displayDate&&this.setState({displayDate:n,transitionDirection:i,selectedDate:e||this.state.selectedDate})},_setSelectedDate:function(t){var e=o.getFirstDayOfMonth(t);e!==this.state.displayDate?this._setDisplayDate(e,t):this.setState({selectedDate:t}),this.props.onSelectedDate&&this.props.onSelectedDate(t)},_handleDayTouchTap:function(t,e){this._setSelectedDate(e)},_handleLeftTouchTap:function(){this._addDisplayDate(-1)},_handleRightTouchTap:function(){this._addDisplayDate(1)},_handleWindowKeyDown:function(t){if(this.props.isActive)switch(t.keyCode){case s.UP:t.shiftKey?this._addSelectedMonths(-1):this._addSelectedDays(-7);break;case s.DOWN:t.shiftKey?this._addSelectedMonths(1):this._addSelectedDays(7);break;case s.RIGHT:t.shiftKey?this._addSelectedMonths(1):this._addSelectedDays(1);break;case s.LEFT:t.shiftKey?this._addSelectedMonths(-1):this._addSelectedDays(-1)}}});e.exports=p},{"../mixins/classable":133,"../mixins/window-listenable":135,"../transition-groups/slide-in":163,"../utils/date-time":165,"../utils/key-code":168,"./calendar-month":108,"./calendar-toolbar":109,"./date-display":111,react:346}],111:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../utils/date-time"),o=t("../transition-groups/slide-in"),s=i.createClass({displayName:"DateDisplay",mixins:[r],propTypes:{selectedDate:i.PropTypes.object.isRequired},getInitialState:function(){return{transitionDirection:"up"}},componentWillReceiveProps:function(t){var e;t.selectedDate!==this.props.selectedDate&&(e=t.selectedDate>this.props.selectedDate?"up":"down",this.setState({transitionDirection:e}))},render:function(){var t=this.props,e=(t.selectedDate,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{selectedDate:1})),n=this.getClasses("mui-date-picker-date-display"),r=a.getDayOfWeek(this.props.selectedDate),s=a.getShortMonth(this.props.selectedDate),u=this.props.selectedDate.getDate(),c=this.props.selectedDate.getFullYear();return i.createElement("div",i.__spread({},e,{className:n}),i.createElement(o,{className:"mui-date-picker-date-display-dow",direction:this.state.transitionDirection},i.createElement("div",{key:r},r)),i.createElement("div",{className:"mui-date-picker-date-display-date"},i.createElement(o,{className:"mui-date-picker-date-display-month",direction:this.state.transitionDirection},i.createElement("div",{key:s},s)),i.createElement(o,{className:"mui-date-picker-date-display-day",direction:this.state.transitionDirection},i.createElement("div",{key:u},u)),i.createElement(o,{className:"mui-date-picker-date-display-year",direction:this.state.transitionDirection},i.createElement("div",{key:c},c))))}});e.exports=s},{"../mixins/classable":133,"../transition-groups/slide-in":163,"../utils/date-time":165,react:346}],112:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../mixins/window-listenable"),o=t("../utils/key-code"),s=t("./calendar"),u=t("../dialog-window"),c=t("../flat-button"),l=i.createClass({displayName:"DatePickerDialog",mixins:[r,a],propTypes:{initialDate:i.PropTypes.object,onAccept:i.PropTypes.func,onShow:i.PropTypes.func,onDismiss:i.PropTypes.func,minDate:i.PropTypes.object,maxDate:i.PropTypes.object},windowListeners:{keyup:"_handleWindowKeyUp"},getInitialState:function(){return{isCalendarActive:!1}},render:function(){var t=this.props,e=(t.initialDate,t.onAccept,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{initialDate:1,onAccept:1})),n=this.getClasses("mui-date-picker-dialog"),r=[i.createElement(c,{key:0,label:"Cancel",secondary:!0,onTouchTap:this._handleCancelTouchTap}),i.createElement(c,{key:1,label:"OK",secondary:!0,onTouchTap:this._handleOKTouchTap})];return this.props.autoOk&&(r=r.slice(0,1)),i.createElement(u,i.__spread({},e,{ref:"dialogWindow",className:n,actions:r,contentClassName:"mui-date-picker-dialog-window",onDismiss:this._handleDialogDismiss,onShow:this._handleDialogShow,repositionOnUpdate:!1}),i.createElement(s,{minDate:this.props.minDate,maxDate:this.props.maxDate,ref:"calendar",onSelectedDate:this._onSelectedDate,initialDate:this.props.initialDate,isActive:this.state.isCalendarActive}))},show:function(){this.refs.dialogWindow.show()},dismiss:function(){this.refs.dialogWindow.dismiss()},_onSelectedDate:function(){this.props.autoOk&&setTimeout(this._handleOKTouchTap.bind(this),300)},_handleCancelTouchTap:function(){this.dismiss()},_handleOKTouchTap:function(){this.dismiss(),this.props.onAccept&&this.props.onAccept(this.refs.calendar.getSelectedDate())},_handleDialogShow:function(){this.setState({isCalendarActive:!0}),this.props.onShow&&this.props.onShow()},_handleDialogDismiss:function(){this.setState({isCalendarActive:!1}),this.props.onDismiss&&this.props.onDismiss()},_handleWindowKeyUp:function(t){if(this.refs.dialogWindow.isOpen())switch(t.keyCode){case o.ENTER:this._handleOKTouchTap()}}});e.exports=l},{"../dialog-window":115,"../flat-button":122,"../mixins/classable":133,"../mixins/window-listenable":135,"../utils/key-code":168,"./calendar":110,react:346}],113:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../mixins/window-listenable"),o=t("../utils/date-time"),s=(t("../utils/key-code"),t("./date-picker-dialog")),u=t("../text-field"),c=i.createClass({displayName:"DatePicker",mixins:[r,a],propTypes:{defaultDate:i.PropTypes.object,formatDate:i.PropTypes.func,mode:i.PropTypes.oneOf(["portrait","landscape","inline"]),onFocus:i.PropTypes.func,onTouchTap:i.PropTypes.func,onChange:i.PropTypes.func,onShow:i.PropTypes.func,onDismiss:i.PropTypes.func,minDate:i.PropTypes.object,maxDate:i.PropTypes.object,autoOk:i.PropTypes.bool},windowListeners:{keyup:"_handleWindowKeyUp"},getDefaultProps:function(){return{formatDate:o.format,minDate:null,maxDate:null,autoOk:!1}},getInitialState:function(){return{date:this.props.defaultDate,dialogDate:new Date}},render:function(){var t,e=this.props,n=(e.formatDate,e.mode,e.onFocus,e.onTouchTap,e.onShow),r=e.onDismiss,a=e.minDate,o=e.maxDate,c=e.autoOk,l=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{formatDate:1,mode:1,onFocus:1,onTouchTap:1,onShow:1,onDismiss:1,minDate:1,maxDate:1,autoOk:1}),h=this.getClasses("mui-date-picker",{"mui-is-landscape":"landscape"===this.props.mode,"mui-is-inline":"inline"===this.props.mode});return this.props.defaultDate&&(t=this.props.formatDate(this.props.defaultDate)),i.createElement("div",{className:h},i.createElement(u,i.__spread({},l,{ref:"input",defaultValue:t,onFocus:this._handleInputFocus,onTouchTap:this._handleInputTouchTap})),i.createElement(s,{minDate:a,maxDate:o,autoOk:c,ref:"dialogWindow",initialDate:this.state.dialogDate,onAccept:this._handleDialogAccept,onShow:n,onDismiss:r}))},getDate:function(){return this.state.date},setDate:function(t){this.setState({date:t}),this.refs.input.setValue(this.props.formatDate(t))},_handleDialogAccept:function(t){this.setDate(t),this.props.onChange&&this.props.onChange(null,t)},_handleInputFocus:function(t){t.target.blur(),this.props.onFocus&&this.props.onFocus(t)},_handleInputTouchTap:function(t){this.setState({dialogDate:this.getDate()}),this.refs.dialogWindow.show(),this.props.onTouchTap&&this.props.onTouchTap(t)},_handleWindowKeyUp:function(t){}});e.exports=c},{"../mixins/classable":133,"../mixins/window-listenable":135,"../text-field":158,"../utils/date-time":165,"../utils/key-code":168,"./date-picker-dialog":112,react:346}],114:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../utils/date-time"),o=t("../enhanced-button"),s=i.createClass({displayName:"DayButton",mixins:[r],propTypes:{date:i.PropTypes.object,onTouchTap:i.PropTypes.func,selected:i.PropTypes.bool},render:function(){var t=this.props,e=(t.className,t.date,t.onTouchTap,t.selected,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1,date:1,onTouchTap:1,selected:1})),n=this.getClasses("mui-date-picker-day-button",{"mui-is-current-date":a.isEqualDate(this.props.date,new Date),"mui-is-selected":this.props.selected});return this.props.date?i.createElement(o,i.__spread({},e,{className:n,disableFocusRipple:!0,disableTouchRipple:!0,onTouchTap:this._handleTouchTap}),i.createElement("div",{className:"mui-date-picker-day-button-select"}),i.createElement("span",{className:"mui-date-picker-day-button-label"},this.props.date.getDate())):i.createElement("span",{className:n})},_handleTouchTap:function(t){this.props.onTouchTap&&this.props.onTouchTap(t,this.props.date)}});e.exports=s},{"../enhanced-button":119,"../mixins/classable":133,"../utils/date-time":165,react:346}],115:[function(t,e,n){var i=t("react"),r=t("./mixins/window-listenable"),a=t("./utils/css-event"),o=t("./utils/key-code"),s=t("./mixins/classable"),u=t("./flat-button"),c=t("./overlay"),l=t("./paper"),h=i.createClass({displayName:"DialogWindow",mixins:[s,r],propTypes:{actions:i.PropTypes.array,actionFocus:i.PropTypes.string,contentClassName:i.PropTypes.string,openImmediately:i.PropTypes.bool,onClickAway:i.PropTypes.func,onDismiss:i.PropTypes.func,onShow:i.PropTypes.func,repositionOnUpdate:i.PropTypes.bool,modal:i.PropTypes.bool},windowListeners:{keyup:"_handleWindowKeyUp"},getDefaultProps:function(){return{actions:[],repositionOnUpdate:!0,modal:!1}},getInitialState:function(){return{open:this.props.openImmediately||!1}},componentDidMount:function(){this._positionDialog(),this.props.openImmediately&&(this.refs.dialogOverlay.preventScrolling(),this._onShow(),this._focusOnAction())},componentDidUpdate:function(t,e){this._positionDialog(),this._focusOnAction()},render:function(){var t=this.getClasses("mui-dialog-window",{
"mui-is-shown":this.state.open}),e="mui-dialog-window-contents",n=this._getActionsContainer(this.props.actions);return this.props.contentClassName&&(e+=" "+this.props.contentClassName),i.createElement("div",{className:t},i.createElement(l,{ref:"dialogWindow",className:e,zDepth:4},this.props.children,n),i.createElement(c,{ref:"dialogOverlay",show:this.state.open,autoLockScrolling:!1,onTouchTap:this._handleOverlayTouchTap}))},isOpen:function(){return this.state.open},dismiss:function(){a.onTransitionEnd(i.findDOMNode(this),function(){this.refs.dialogOverlay.allowScrolling()}.bind(this)),this.setState({open:!1}),this._onDismiss()},show:function(){this.refs.dialogOverlay.preventScrolling(),this._focusOnAction(),this.setState({open:!0}),this._onShow()},_addClassName:function(t,e){var n=t.props.className,r=n?n+" "+e:e;return i.cloneElement(t,{className:r})},_getAction:function(t,e){var n={key:e,secondary:!0,onClick:t.onClick?t.onClick:this.dismiss,label:t.text};return t.ref&&(n.ref=t.ref,n.keyboardFocused=t.ref===this.props.actionFocus),i.createElement(u,i.__spread({},n))},_getActionsContainer:function(t){var e,n=[];if(t.length){for(var r=0;r<t.length;r++){var a=t[r];i.isValidElement(a)||(a=this._getAction(a,r)),a=this._addClassName(a,"mui-dialog-window-action"),n.push(a)}e=i.createElement("div",{className:"mui-dialog-window-actions"},n)}return e},_positionDialog:function(){var t,e,n,r;this.state.open&&(t=i.findDOMNode(this),e=i.findDOMNode(this.refs.dialogWindow),n=t.offsetHeight,e.style.height="",r=e.offsetHeight,(this.props.repositionOnUpdate||!t.style.paddingTop)&&(t.style.paddingTop=(n-r)/2-64+"px"))},_focusOnAction:function(){this.props.actionFocus&&i.findDOMNode(this.refs[this.props.actionFocus]).focus()},_onShow:function(){this.props.onShow&&this.props.onShow()},_onDismiss:function(){this.props.onDismiss&&this.props.onDismiss()},_handleOverlayTouchTap:function(){this.props.modal||(this.dismiss(),this.props.onClickAway&&this.props.onClickAway())},_handleWindowKeyUp:function(t){this.props.modal||t.keyCode!=o.ESC||this.dismiss()}});e.exports=h},{"./flat-button":122,"./mixins/classable":133,"./mixins/window-listenable":135,"./overlay":136,"./paper":137,"./utils/css-event":164,"./utils/key-code":168,react:346}],116:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./dialog-window"),o=i.createClass({displayName:"Dialog",mixins:[r],propTypes:{title:i.PropTypes.node},render:function(){var t,e=this.props,n=(e.className,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{className:1})),r=this.getClasses("mui-dialog");return this.props.title&&(t="[object String]"===Object.prototype.toString.call(this.props.title)?i.createElement("h3",{className:"mui-dialog-title"},this.props.title):this.props.title),i.createElement(a,i.__spread({},n,{ref:"dialogWindow",className:r}),t,i.createElement("div",{ref:"dialogContent",className:"mui-dialog-content"},this.props.children))},dismiss:function(){this.refs.dialogWindow.dismiss()},show:function(){this.refs.dialogWindow.show()}});e.exports=o},{"./dialog-window":115,"./mixins/classable":133,react:346}],117:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./mixins/click-awayable"),o=(t("./utils/key-line"),t("./paper"),t("./font-icon")),s=t("./menu/menu"),u=i.createClass({displayName:"DropDownIcon",mixins:[r,a],propTypes:{onChange:i.PropTypes.func,menuItems:i.PropTypes.array.isRequired,closeOnMenuItemClick:i.PropTypes.bool},getInitialState:function(){return{open:!1}},getDefaultProps:function(){return{closeOnMenuItemClick:!0}},componentClickAway:function(){this.setState({open:!1})},render:function(){var t,e=this.getClasses("mui-drop-down-icon",{"mui-open":this.state.open});return this.props.iconClassName&&(t=i.createElement(o,{className:this.props.iconClassName})),i.createElement("div",{className:e},i.createElement("div",{className:"mui-menu-control",onClick:this._onControlClick},t,this.props.children),i.createElement(s,{ref:"menuItems",menuItems:this.props.menuItems,hideable:!0,visible:this.state.open,onItemClick:this._onMenuItemClick}))},_onControlClick:function(t){this.setState({open:!this.state.open})},_onMenuItemClick:function(t,e,n){this.props.onChange&&this.props.onChange(t,e,n),this.props.closeOnMenuItemClick&&this.setState({open:!1})}});e.exports=u},{"./font-icon":124,"./menu/menu":131,"./mixins/classable":133,"./mixins/click-awayable":134,"./paper":137,"./utils/key-line":169,react:346}],118:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("./mixins/click-awayable"),o=t("./svg-icons/drop-down-arrow"),s=t("./paper"),u=t("./menu/menu"),c=i.createClass({displayName:"DropDownMenu",mixins:[r,a],propTypes:{autoWidth:i.PropTypes.bool,onChange:i.PropTypes.func,menuItems:i.PropTypes.array.isRequired},getDefaultProps:function(){return{autoWidth:!0}},getInitialState:function(){return{open:!1,selectedIndex:this.props.selectedIndex||0}},componentClickAway:function(){this.setState({open:!1})},componentDidMount:function(){this.props.autoWidth&&this._setWidth(),this.props.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(this.props)},componentWillReceiveProps:function(t){this.props.hasOwnProperty("selectedIndex")&&this._setSelectedIndex(t)},render:function(){var t=this.getClasses("mui-drop-down-menu",{"mui-open":this.state.open});return i.createElement("div",{className:t},i.createElement("div",{className:"mui-menu-control",onClick:this._onControlClick},i.createElement(s,{className:"mui-menu-control-bg",zDepth:0}),i.createElement("div",{className:"mui-menu-label"},this.props.menuItems[this.state.selectedIndex].text),i.createElement(o,{className:"mui-menu-drop-down-icon"}),i.createElement("div",{className:"mui-menu-control-underline"})),i.createElement(u,{ref:"menuItems",autoWidth:this.props.autoWidth,selectedIndex:this.state.selectedIndex,menuItems:this.props.menuItems,hideable:!0,visible:this.state.open,onItemClick:this._onMenuItemClick}))},_setWidth:function(){var t=i.findDOMNode(this),e=i.findDOMNode(this.refs.menuItems);t.style.width=e.offsetWidth+"px"},_setSelectedIndex:function(t){var e=t.selectedIndex;"production"!==n.env.NODE_ENV&&0>e&&console.warn("Cannot set selectedIndex to a negative index.",e),this.setState({selectedIndex:e>-1?e:0})},_onControlClick:function(t){this.setState({open:!this.state.open})},_onMenuItemClick:function(t,e,n){this.props.onChange&&this.state.selectedIndex!==e&&this.props.onChange(t,e,n),this.setState({selectedIndex:e,open:!1})}});e.exports=c}).call(this,t("_process"))},{"./menu/menu":131,"./mixins/classable":133,"./mixins/click-awayable":134,"./paper":137,"./svg-icons/drop-down-arrow":146,_process:95,react:346}],119:[function(t,e,n){var i=t("react"),r=t("./utils/key-code"),a=t("./mixins/classable"),o=t("./mixins/window-listenable"),s=t("./ripples/focus-ripple"),u=t("./ripples/touch-ripple"),c=i.createClass({displayName:"EnhancedButton",mixins:[a,o],propTypes:{centerRipple:i.PropTypes.bool,className:i.PropTypes.string,disabled:i.PropTypes.bool,disableFocusRipple:i.PropTypes.bool,disableTouchRipple:i.PropTypes.bool,keyboardFocused:i.PropTypes.bool,linkButton:i.PropTypes.bool,onBlur:i.PropTypes.func,onFocus:i.PropTypes.func,onTouchTap:i.PropTypes.func},windowListeners:{keydown:"_handleWindowKeydown",keyup:"_handleWindowKeyup"},getInitialState:function(){return{isKeyboardFocused:!this.props.disabled&&this.props.keyboardFocused}},render:function(){var t=this.props,e=t.centerRipple,n=t.disabled,r=t.disableFocusRipple,a=t.disableTouchRipple,o=t.linkButton,c=(t.onBlur,t.onFocus,t.onTouchTap,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{centerRipple:1,disabled:1,disableFocusRipple:1,disableTouchRipple:1,linkButton:1,onBlur:1,onFocus:1,onTouchTap:1})),l=this.getClasses("mui-enhanced-button",{"mui-is-disabled":n,"mui-is-keyboard-focused":this.state.isKeyboardFocused,"mui-is-link-button":o}),h=i.createElement(u,{ref:"touchRipple",key:"touchRipple",centerRipple:e},this.props.children),p=i.createElement(s,{key:"focusRipple",show:this.state.isKeyboardFocused}),d={className:l,disabled:n,onBlur:this._handleBlur,onFocus:this._handleFocus,onTouchTap:this._handleTouchTap},f=[n||a?this.props.children:h,n||r?null:p];return n&&o?i.createElement("span",i.__spread({},c,{className:l,disabled:n}),this.props.children):o?i.createElement("a",i.__spread({},c,d),f):i.createElement("button",i.__spread({},c,d),f)},isKeyboardFocused:function(){return this.state.isKeyboardFocused},_handleWindowKeydown:function(t){this.props.disabled||(t.keyCode==r.TAB&&(this._tabPressed=!0),t.keyCode==r.ENTER&&this.state.isKeyboardFocused&&this._handleTouchTap(t))},_handleWindowKeyup:function(t){!this.props.disabled&&t.keyCode==r.SPACE&&this.state.isKeyboardFocused&&this._handleTouchTap(t)},_handleBlur:function(t){this._cancelFocusTimeout(),this.props.disabled||(this.setState({isKeyboardFocused:!1}),this.props.onBlur&&this.props.onBlur(t))},_handleFocus:function(t){this.props.disabled||(this._focusTimeout=setTimeout(function(){this._tabPressed&&this.setState({isKeyboardFocused:!0})}.bind(this),150),this.props.onFocus&&this.props.onFocus(t))},_handleTouchTap:function(t){this._cancelFocusTimeout(),this.props.disabled||(this._tabPressed=!1,this.setState({isKeyboardFocused:!1}),this.props.onTouchTap&&this.props.onTouchTap(t))},_cancelFocusTimeout:function(){this._focusTimeout&&(clearTimeout(this._focusTimeout),this._focusTimeout=null)}});e.exports=c},{"./mixins/classable":133,"./mixins/window-listenable":135,"./ripples/focus-ripple":142,"./ripples/touch-ripple":143,"./utils/key-code":168,react:346}],120:[function(t,e,n){(function(n){var i=t("react"),r=t("./utils/key-code"),a=t("./mixins/classable"),o=t("./utils/unique-id"),s=t("./mixins/window-listenable"),u=t("./ripples/focus-ripple"),c=t("./ripples/touch-ripple"),l=t("./paper"),h=i.createClass({displayName:"EnhancedSwitch",mixins:[a,s],propTypes:{id:i.PropTypes.string,inputType:i.PropTypes.string.isRequired,switchElement:i.PropTypes.element.isRequired,iconClassName:i.PropTypes.string.isRequired,name:i.PropTypes.string,value:i.PropTypes.string,label:i.PropTypes.string,onSwitch:i.PropTypes.func,required:i.PropTypes.bool,disabled:i.PropTypes.bool,defaultSwitched:i.PropTypes.bool,labelPosition:i.PropTypes.oneOf(["left","right"]),disableFocusRipple:i.PropTypes.bool,disableTouchRipple:i.PropTypes.bool},windowListeners:{keydown:"_handleWindowKeydown",keyup:"_handleWindowKeyup"},getDefaultProps:function(){return{iconClassName:""}},getInitialState:function(){return{switched:this.props.defaultSwitched||this.props.valueLink&&this.props.valueLink.value,isKeyboardFocused:!1}},componentDidMount:function(){var t=i.findDOMNode(this.refs.checkbox);this.setState({switched:t.checked})},componentWillReceiveProps:function(t){var e=t.hasOwnProperty("checkedLink"),n=t.hasOwnProperty("checked"),i=t.hasOwnProperty("toggled"),r=(t.hasOwnProperty("defaultSwitched")&&t.defaultSwitched!=this.props.defaultSwitched,{});n?r.switched=t.checked:i?r.switched=t.toggled:e&&(r.switched=t.checkedLink.value),r&&this.setState(r)},render:function(){var t=this.props,e=(t.type,t.name,t.value,t.label,t.onSwitch,t.defaultSwitched,t.onBlur,t.onFocus,t.onMouseUp,t.onMouseDown,t.onMouseOut,t.onTouchStart,t.onTouchEnd,t.disableTouchRipple),n=t.disableFocusRipple,r=t.iconClassName,a=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{type:1,name:1,value:1,label:1,onSwitch:1,defaultSwitched:1,onBlur:1,onFocus:1,onMouseUp:1,onMouseDown:1,onMouseOut:1,onTouchStart:1,onTouchEnd:1,disableTouchRipple:1,disableFocusRipple:1,iconClassName:1}),s=this.getClasses("mui-enhanced-switch",{"mui-is-switched":this.state.switched,"mui-is-disabled":this.props.disabled,"mui-is-required":this.props.required}),h=this.props.id||o.generate(),p=this.props.label?i.createElement("label",{className:"mui-switch-label",htmlFor:h},this.props.label):null,d={ref:"checkbox",type:this.props.inputType,name:this.props.name,value:this.props.value,defaultChecked:this.props.defaultSwitched,onBlur:this._handleBlur,onFocus:this._handleFocus},f=this.props.disabled||e;f||(d.onMouseUp=this._handleMouseUp,d.onMouseDown=this._handleMouseDown,d.onMouseOut=this._handleMouseOut,d.onTouchStart=this._handleTouchStart,d.onTouchEnd=this._handleTouchEnd),this.props.hasOwnProperty("checkedLink")||(d.onChange=this._handleChange);var m=i.createElement("input",i.__spread({},a,d,{className:"mui-enhanced-switch-input"})),g=i.createElement(c,{ref:"touchRipple",key:"touchRipple",centerRipple:!0}),v=i.createElement(u,{key:"focusRipple",show:this.state.isKeyboardFocused}),y=[f?null:g,this.props.disabled||n?null:v];r+=" mui-enhanced-switch-wrap";var _=-1==this.props.iconClassName.indexOf("toggle")?i.createElement("div",{className:r},this.props.switchElement,y):i.createElement("div",{className:r},i.createElement("div",{className:"mui-toggle-track"}),i.createElement(l,{className:"mui-toggle-thumb",zDepth:1}," ",y," ")),x=this.props.labelPosition,b=x&&"RIGHT"===this.props.labelPosition.toUpperCase()?i.createElement("div",null,_,p):i.createElement("div",null,p,_);return i.createElement("div",{className:s},m,b)},isSwitched:function(){return i.findDOMNode(this.refs.checkbox).checked},setSwitched:function(t){if(this.props.hasOwnProperty("checked")&&this.props.checked!==!1){if("production"!==n.env.NODE_ENV){var e="Cannot call set method while checked is defined as a property.";console.error(e)}}else this.setState({switched:t}),i.findDOMNode(this.refs.checkbox).checked=t},getValue:function(){return i.findDOMNode(this.refs.checkbox).value},isKeyboardFocused:function(){return this.state.isKeyboardFocused},_handleChange:function(t){this._tabPressed=!1,this.setState({isKeyboardFocused:!1});var e=i.findDOMNode(this.refs.checkbox).checked;this.props.hasOwnProperty("checked")||this.setState({switched:e}),this.props.onSwitch&&this.props.onSwitch(t,e)},_handleWindowKeydown:function(t){t.keyCode==r.TAB&&(this._tabPressed=!0),t.keyCode==r.SPACE&&this.state.isKeyboardFocused&&this._handleChange(t)},_handleWindowKeyup:function(t){t.keyCode==r.SPACE&&this.state.isKeyboardFocused&&this._handleChange(t)},_handleMouseDown:function(t){0===t.button&&this.refs.touchRipple.start(t)},_handleMouseUp:function(t){this.refs.touchRipple.end()},_handleMouseOut:function(t){this.refs.touchRipple.end()},_handleTouchStart:function(t){this.refs.touchRipple.start(t)},_handleTouchEnd:function(t){this.refs.touchRipple.end()},_handleBlur:function(t){this.setState({isKeyboardFocused:!1}),this.props.onBlur&&this.props.onBlur(t)},_handleFocus:function(t){setTimeout(function(){this._tabPressed&&this.setState({isKeyboardFocused:!0})}.bind(this),150),this.props.onFocus&&this.props.onFocus(t)}});e.exports=h}).call(this,t("_process"))},{"./mixins/classable":133,"./mixins/window-listenable":135,"./paper":137,"./ripples/focus-ripple":142,"./ripples/touch-ripple":143,"./utils/key-code":168,"./utils/unique-id":170,_process:95,react:346}],121:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"EnhancedTextarea",mixins:[r],propTypes:{onChange:i.PropTypes.func,onHeightChange:i.PropTypes.func,textareaClassName:i.PropTypes.string,rows:i.PropTypes.number},getDefaultProps:function(){return{rows:1}},getInitialState:function(){return{height:24*this.props.rows}},componentDidMount:function(){this._syncHeightWithShadow()},render:function(){var t=this.props,e=(t.className,t.onChange,t.onHeightChange,t.textareaClassName),n=(t.rows,t.valueLink,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1,onChange:1,onHeightChange:1,textareaClassName:1,rows:1,valueLink:1})),r=this.getClasses("mui-enhanced-textarea"),e="mui-enhanced-textarea-input",a={height:this.state.height+"px"};return this.props.textareaClassName&&(e+=" "+this.props.textareaClassName),this.props.hasOwnProperty("valueLink")&&(n.value=this.props.valueLink.value),i.createElement("div",{className:r},i.createElement("textarea",{ref:"shadow",className:"mui-enhanced-textarea-shadow",tabIndex:"-1",rows:this.props.rows,defaultValue:this.props.defaultValue,readOnly:!0,value:this.props.value}),i.createElement("textarea",i.__spread({},n,{ref:"input",className:e,rows:this.props.rows,style:a,onChange:this._handleChange})))},getInputNode:function(){return i.findDOMNode(this.refs.input)},_syncHeightWithShadow:function(t,e){var n,r=i.findDOMNode(this.refs.shadow),a=this.state.height;void 0!==t&&(r.value=t),n=r.scrollHeight,a!==n&&(this.setState({height:n}),this.props.onHeightChange&&this.props.onHeightChange(e,n))},_handleChange:function(t){this._syncHeightWithShadow(t.target.value),this.props.hasOwnProperty("valueLink")&&this.props.valueLink.requestChange(t.target.value),this.props.onChange&&this.props.onChange(t)},componentWillReceiveProps:function(t){t.value!=this.props.value&&this._syncHeightWithShadow(t.value)}});e.exports=a},{"./mixins/classable":133,react:346}],122:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./enhanced-button"),o=i.createClass({displayName:"FlatButton",mixins:[r],propTypes:{className:i.PropTypes.string,label:function(t,e,n){return t.children||t.label?void 0:new Error("Warning: Required prop `label` or `children` was not specified in `"+n+"`.")},primary:i.PropTypes.bool,secondary:i.PropTypes.bool},render:function(){var t,e=this.props,n=e.label,r=e.primary,o=e.secondary,s=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{label:1,primary:1,secondary:1}),u=this.getClasses("mui-flat-button",{"mui-is-primary":!this.props.disabled&&r,"mui-is-secondary":!this.props.disabled&&!r&&o});return t=n?i.createElement("span",{className:"mui-flat-button-label"},n):this.props.children,i.createElement(a,i.__spread({},s,{className:u}),t)}});e.exports=o},{"./enhanced-button":119,"./mixins/classable":133,react:346}],123:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("./enhanced-button"),o=t("./font-icon"),s=t("./paper"),u=function(t){var e=t?0:2;return{zDepth:e,initialZDepth:e}},c=i.createClass({displayName:"RaisedButton",mixins:[r],propTypes:{className:i.PropTypes.string,iconClassName:i.PropTypes.string,mini:i.PropTypes.bool,onMouseDown:i.PropTypes.func,onMouseUp:i.PropTypes.func,onMouseOut:i.PropTypes.func,onTouchEnd:i.PropTypes.func,onTouchStart:i.PropTypes.func,secondary:i.PropTypes.bool},componentWillMount:function(){this.setState(u(this.props.disabled))},componentWillReceiveProps:function(t){t.disabled!==this.props.disabled&&this.setState(u(t.disabled))},componentDidMount:function(){if("production"!==n.env.NODE_ENV&&this.props.iconClassName&&this.props.children){var t="You have set both an iconClassName and a child icon. It is recommended you use only one method when adding icons to FloatingActionButtons.";console.warn(t)}},render:function(){var t,e=this.props,t=e.icon,n=e.mini,r=e.secondary,u=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{icon:1,mini:1,secondary:1}),c=this.getClasses("mui-floating-action-button",{"mui-is-mini":n,"mui-is-secondary":!this.props.disabled&&r});return this.props.iconClassName&&(t=i.createElement(o,{className:"mui-floating-action-button-icon "+this.props.iconClassName})),i.createElement(s,{className:c,innerClassName:"mui-floating-action-button-inner",zDepth:this.state.zDepth,circle:!0},i.createElement(a,i.__spread({},u,{className:"mui-floating-action-button-container",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseOut:this._handleMouseOut,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd}),t,this.props.children))},_handleMouseDown:function(t){0===t.button&&this.setState({zDepth:this.state.initialZDepth+1}),this.props.onMouseDown&&this.props.onMouseDown(t)},_handleMouseUp:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onMouseUp&&this.props.onMouseUp(t)},_handleMouseOut:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onMouseOut&&this.props.onMouseOut(t)},_handleTouchStart:function(t){this.setState({zDepth:this.state.initialZDepth+1}),this.props.onTouchStart&&this.props.onTouchStart(t)},_handleTouchEnd:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onTouchEnd&&this.props.onTouchEnd(t)}});e.exports=c}).call(this,t("_process"))},{"./enhanced-button":119,"./font-icon":124,"./mixins/classable":133,"./paper":137,_process:95,react:346}],124:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"FontIcon",mixins:[r],render:function(){var t=this.props,e=(t.className,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1})),n=this.getClasses("mui-font-icon");return i.createElement("span",i.__spread({},e,{className:n}))}});e.exports=a},{"./mixins/classable":133,react:346}],125:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("./enhanced-button"),o=t("./font-icon"),s=t("./tooltip"),u=i.createClass({displayName:"IconButton",mixins:[r],propTypes:{className:i.PropTypes.string,disabled:i.PropTypes.bool,iconClassName:i.PropTypes.string,onBlur:i.PropTypes.func,onFocus:i.PropTypes.func,tooltip:i.PropTypes.string,touch:i.PropTypes.bool},getInitialState:function(){return{tooltipShown:!1}},componentDidMount:function(){if(this.props.tooltip&&this._positionTooltip(),"production"!==n.env.NODE_ENV&&this.props.iconClassName&&this.props.children){var t="You have set both an iconClassName and a child icon. It is recommended you use only one method when adding icons to IconButtons.";console.warn(t)}},render:function(){var t,e,n=this.props,t=n.tooltip,r=n.touch,u=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(n,{tooltip:1,touch:1}),c=this.getClasses("mui-icon-button");return this.props.tooltip&&(t=i.createElement(s,{ref:"tooltip",className:"mui-icon-button-tooltip",label:t,show:this.state.tooltipShown,touch:r})),this.props.iconClassName&&(e=i.createElement(o,{className:this.props.iconClassName})),i.createElement(a,i.__spread({},u,{ref:"button",centerRipple:!0,className:c,onBlur:this._handleBlur,onFocus:this._handleFocus,onMouseOut:this._handleMouseOut,onMouseOver:this._handleMouseOver}),t,e,this.props.children)},_positionTooltip:function(){var t=i.findDOMNode(this.refs.tooltip),e=t.offsetWidth,n=48;t.style.left=(e-n)/2*-1+"px"},_showTooltip:function(){!this.props.disabled&&this.props.tooltip&&this.setState({tooltipShown:!0})},_hideTooltip:function(){this.setState({tooltipShown:!1})},_handleBlur:function(t){this._hideTooltip(),this.props.onBlur&&this.props.onBlur(t)},_handleFocus:function(t){this._showTooltip(),this.props.onFocus&&this.props.onFocus(t)},_handleMouseOut:function(t){this.refs.button.isKeyboardFocused()||this._hideTooltip(),this.props.onMouseOut&&this.props.onMouseOut(t)},_handleMouseOver:function(t){this._showTooltip(),this.props.onMouseOver&&this.props.onMouseOver(t)}});e.exports=u}).call(this,t("_process"))},{"./enhanced-button":119,"./font-icon":124,"./mixins/classable":133,"./tooltip":162,_process:95,react:346}],126:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"InkBar",propTypes:{position:i.PropTypes.string},render:function(){var t={left:this.props.left,width:this.props.width};return i.createElement("div",{className:"mui-ink-bar",style:t},"\xa0")}});e.exports=r},{react:346}],127:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("classnames"),o=i.createClass({displayName:"Input",propTypes:{multiline:i.PropTypes.bool,inlinePlaceholder:i.PropTypes.bool,rows:i.PropTypes.number,inputStyle:i.PropTypes.string,error:i.PropTypes.string,description:i.PropTypes.string,placeholder:i.PropTypes.string,type:i.PropTypes.string,onChange:i.PropTypes.func},mixins:[r],getInitialState:function(){return{value:this.props.defaultValue,rows:this.props.rows}},getDefaultProps:function(){return{multiline:!1,type:"text"}},componentDidMount:function(){"production"!==n.env.NODE_ENV&&console.warn("Input has been deprecated. Please use TextField instead. See http://material-ui.com/#/components/text-fields")},render:function(){var t=this.getClasses("mui-input",{"mui-floating":"floating"===this.props.inputStyle,"mui-text":"text"===this.props.type,"mui-error":this.props.error||!1,"mui-disabled":!!this.props.disabled}),e=this.props.inlinePlaceholder?this.props.placeholder:"",n=!!this.state.value,r=a({"mui-is-not-empty":n}),o=a({"mui-input-textarea":!0,"mui-is-not-empty":n}),s=this.props.multiline?this.props.valueLink?i.createElement("textarea",i.__spread({},this.props,{ref:"input",className:o,placeholder:e,rows:this.state.rows})):i.createElement("textarea",i.__spread({},this.props,{ref:"input",value:this.state.value,className:o,placeholder:e,rows:this.state.rows,onChange:this._onTextAreaChange})):this.props.valueLink?i.createElement("input",i.__spread({},this.props,{ref:"input",className:r,placeholder:e})):i.createElement("input",i.__spread({},this.props,{ref:"input",className:r,value:this.state.value,placeholder:e,onChange:this._onInputChange})),u=this.props.inlinePlaceholder?null:i.createElement("span",{className:"mui-input-placeholder",onClick:this._onPlaceholderClick},this.props.placeholder);return i.createElement("div",{ref:this.props.ref,className:t},s,u,i.createElement("span",{className:"mui-input-highlight"}),i.createElement("span",{className:"mui-input-bar"}),i.createElement("span",{className:"mui-input-description"},this.props.description),i.createElement("span",{className:"mui-input-error"},this.props.error))},getValue:function(){return this.state.value},setValue:function(t){this.setState({value:t})},clearValue:function(){this.setValue("")},blur:function(){this.isMounted()&&i.findDOMNode(this.refs.input).blur()},focus:function(){this.isMounted()&&i.findDOMNode(this.refs.input).focus()},_onInputChange:function(t){var e=t.target.value;this.setState({value:e}),this.props.onChange&&this.props.onChange(t,e)},_onPlaceholderClick:function(t){this.focus()},_onTextAreaChange:function(t){this._onInputChange(t),this._onLineBreak(t)},_onLineBreak:function(t){var e=t.target.value,n=e.split("\n").length;n>this.state.rows&&20!==this.state.rows&&this.setState({rows:this.state.rows+1})}});e.exports=o}).call(this,t("_process"))},{"./mixins/classable":133,_process:95,classnames:171,react:346}],128:[function(t,e,n){var i=t("react"),r=t("./utils/key-code"),a=t("./mixins/classable"),o=t("./mixins/window-listenable"),s=t("./overlay"),u=t("./paper"),c=t("./menu/menu"),l=i.createClass({displayName:"LeftNav",mixins:[a,o],propTypes:{docked:i.PropTypes.bool,header:i.PropTypes.element,onChange:i.PropTypes.func,menuItems:i.PropTypes.array.isRequired,selectedIndex:i.PropTypes.number,onNavOpen:i.PropTypes.func,onNavClose:i.PropTypes.func},windowListeners:{keyup:"_onWindowKeyUp"},getDefaultProps:function(){return{docked:!0}},getInitialState:function(){return{open:this.props.docked}},toggle:function(){return this.setState({open:!this.state.open}),this},close:function(){return this.setState({open:!1}),this.props.onNavClose&&this.props.onNavClose(),this},open:function(){return this.setState({open:!0}),this.props.onNavOpen&&this.props.onNavOpen(),this},render:function(){var t,e=this.getClasses("mui-left-nav",{"mui-closed":!this.state.open}),n=this.props.selectedIndex;return this.props.docked||(t=i.createElement(s,{show:this.state.open,onTouchTap:this._onOverlayTouchTap})),i.createElement("div",{className:e},t,i.createElement(u,{ref:"clickAwayableElement",className:"mui-left-nav-menu",zDepth:2,rounded:!1},this.props.header,i.createElement(c,{ref:"menuItems",zDepth:0,menuItems:this.props.menuItems,selectedIndex:n,onItemClick:this._onMenuItemClick})))},_onMenuItemClick:function(t,e,n){this.props.onChange&&this.props.selectedIndex!==e&&this.props.onChange(t,e,n),this.props.docked||this.close()},_onOverlayTouchTap:function(){this.close()},_onWindowKeyUp:function(t){t.keyCode==r.ESC&&!this.props.docked&&this.state.open&&this.close()}});e.exports=l},{"./menu/menu":131,"./mixins/classable":133,"./mixins/window-listenable":135,"./overlay":136,"./paper":137,"./utils/key-code":168,react:346}],129:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=i.createClass({displayName:"LinkMenuItem",mixins:[r],propTypes:{index:i.PropTypes.number.isRequired,payload:i.PropTypes.string.isRequired,text:i.PropTypes.string.isRequired,target:i.PropTypes.string,disabled:i.PropTypes.bool},getDefaultProps:function(){return{disabled:!1}},render:function(){var t=this.getClasses("mui-menu-item",{"mui-is-disabled":this.props.disabled}),e=this.props.disabled?this._stopLink:void 0,n=this.props.disabled?"data-href":"href",r={};return r[n]=this.props.payload,i.createElement("a",i.__spread({key:this.props.index,className:t},r,{target:this.props.target,onClick:e}),this.props.text)},_stopLink:function(t){t.preventDefault()}});e.exports=a},{"../mixins/classable":133,react:346}],130:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../font-icon"),o=t("../toggle"),s={LINK:"LINK",SUBHEADER:"SUBHEADER",NESTED:"NESTED"},u=i.createClass({displayName:"MenuItem",mixins:[r],propTypes:{index:i.PropTypes.number.isRequired,iconClassName:i.PropTypes.string,iconRightClassName:i.PropTypes.string,attribute:i.PropTypes.string,number:i.PropTypes.string,data:i.PropTypes.string,toggle:i.PropTypes.bool,disabled:i.PropTypes.bool,onTouchTap:i.PropTypes.func,onClick:i.PropTypes.func,onToggle:i.PropTypes.func,selected:i.PropTypes.bool},statics:{Types:s},getDefaultProps:function(){return{toggle:!1,disabled:!1}},render:function(){var t,e,n,r,s,u,c=this.getClasses("mui-menu-item",{"mui-is-selected":this.props.selected,"mui-is-disabled":this.props.disabled});if(this.props.iconClassName&&(t=i.createElement(a,{className:"mui-menu-item-icon "+this.props.iconClassName})),this.props.iconRightClassName&&(n=i.createElement(a,{className:"mui-menu-item-icon-right "+this.props.iconRightClassName})),this.props.data&&(e=i.createElement("span",{className:"mui-menu-item-data"},this.props.data)),void 0!==this.props.number&&(s=i.createElement("span",{className:"mui-menu-item-number"},this.props.number)),void 0!==this.props.attribute&&(r=i.createElement("span",{className:"mui-menu-item-attribute"},this.props.attribute)),this.props.toggle){var l=this.props,u=l.toggle,h=(l.onClick,l.onToggle,l.children,l.label,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(l,{toggle:1,onClick:1,onToggle:1,children:1,label:1}));u=i.createElement(o,i.__spread({},h,{onToggle:this._handleToggle}))}return i.createElement("div",{key:this.props.index,className:c,onTouchTap:this._handleTouchTap,onClick:this._handleOnClick},t,this.props.children,e,r,s,u,n)},_handleTouchTap:function(t){!this.props.disabled&&this.props.onTouchTap&&this.props.onTouchTap(t,this.props.index)},_handleOnClick:function(t){!this.props.disabled&&this.props.onClick&&this.props.onClick(t,this.props.index)},_handleToggle:function(t,e){!this.props.disabled&&this.props.onToggle&&this.props.onToggle(t,this.props.index,e)}});e.exports=u},{"../font-icon":124,"../mixins/classable":133,"../toggle":159,react:346}],131:[function(t,e,n){var i=t("react"),r=t("../utils/css-event"),a=t("../utils/dom"),o=t("../utils/key-line"),s=t("../mixins/classable"),u=t("../mixins/click-awayable"),c=t("../paper"),l=t("./menu-item"),h=t("./link-menu-item"),p=t("./subheader-menu-item"),d=i.createClass({
displayName:"NestedMenuItem",mixins:[s,u],propTypes:{index:i.PropTypes.number.isRequired,text:i.PropTypes.string,menuItems:i.PropTypes.array.isRequired,zDepth:i.PropTypes.number,disabled:i.PropTypes.bool,onItemClick:i.PropTypes.func,onItemTap:i.PropTypes.func},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{open:!1}},componentClickAway:function(){this._closeNestedMenu()},componentDidMount:function(){this._positionNestedMenu()},componentDidUpdate:function(t,e){this._positionNestedMenu()},render:function(){var t=this.getClasses("mui-nested-menu-item",{"mui-open":this.state.open,"mui-is-disabled":this.props.disabled});return i.createElement("div",{className:t,onMouseEnter:this._openNestedMenu,onMouseLeave:this._closeNestedMenu},i.createElement(l,{index:this.props.index,disabled:this.props.disabled,iconRightClassName:"muidocs-icon-custom-arrow-drop-right",onClick:this._onParentItemClick},this.props.text),i.createElement(f,{ref:"nestedMenu",menuItems:this.props.menuItems,onItemClick:this._onMenuItemClick,onItemTap:this._onMenuItemTap,hideable:!0,visible:this.state.open,zDepth:this.props.zDepth+1}))},_positionNestedMenu:function(){var t=i.findDOMNode(this),e=i.findDOMNode(this.refs.nestedMenu);e.style.left=t.offsetWidth+"px"},_openNestedMenu:function(){this.props.disabled||this.setState({open:!0})},_closeNestedMenu:function(){this.setState({open:!1})},_toggleNestedMenu:function(){this.props.disabled||this.setState({open:!this.state.open})},_onParentItemClick:function(){this._toggleNestedMenu()},_onMenuItemClick:function(t,e,n){this.props.onItemClick&&this.props.onItemClick(t,e,n),this._closeNestedMenu()},_onMenuItemTap:function(t,e,n){this.props.onItemTap&&this.props.onItemTap(t,e,n),this._closeNestedMenu()}}),f=i.createClass({displayName:"Menu",mixins:[s],propTypes:{autoWidth:i.PropTypes.bool,onItemTap:i.PropTypes.func,onItemClick:i.PropTypes.func,onToggleClick:i.PropTypes.func,menuItems:i.PropTypes.array.isRequired,selectedIndex:i.PropTypes.number,hideable:i.PropTypes.bool,visible:i.PropTypes.bool,zDepth:i.PropTypes.number},getInitialState:function(){return{nestedMenuShown:!1}},getDefaultProps:function(){return{autoWidth:!0,hideable:!1,visible:!0,zDepth:1}},componentDidMount:function(){var t=i.findDOMNode(this);this._setKeyWidth(t),this._initialMenuHeight=t.offsetHeight+o.Desktop.GUTTER_LESS,this._renderVisibility()},componentDidUpdate:function(t,e){this.props.visible!==t.visible&&this._renderVisibility()},render:function(){var t=this.getClasses("mui-menu",{"mui-menu-hideable":this.props.hideable,"mui-visible":this.props.visible});return i.createElement(c,{ref:"paperContainer",zDepth:this.props.zDepth,className:t},this._getChildren())},_getChildren:function(){var t,e,n,r,a=[];this._nestedChildren=[];for(var o=0;o<this.props.menuItems.length;o++){t=this.props.menuItems[o],n=o===this.props.selectedIndex,r=void 0===t.disabled?!1:t.disabled;var s=t,u=(s.icon,s.data,s.attribute,s.number,s.toggle,s.onClick,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(s,{icon:1,data:1,attribute:1,number:1,toggle:1,onClick:1}));switch(t.type){case l.Types.LINK:e=i.createElement(h,{key:o,index:o,payload:t.payload,target:t.target,text:t.text,disabled:r});break;case l.Types.SUBHEADER:e=i.createElement(p,{key:o,index:o,text:t.text});break;case l.Types.NESTED:e=i.createElement(d,{ref:o,key:o,index:o,text:t.text,disabled:r,menuItems:t.items,zDepth:this.props.zDepth,onItemClick:this._onNestedItemClick,onItemTap:this._onNestedItemClick}),this._nestedChildren.push(o);break;default:e=i.createElement(l,i.__spread({},u,{selected:n,key:o,index:o,icon:t.icon,data:t.data,attribute:t.attribute,number:t.number,toggle:t.toggle,disabled:r,onClick:this._onItemClick,onTouchTap:this._onItemTap}),t.text)}a.push(e)}return a},_setKeyWidth:function(t){var e=this.props.autoWidth?o.getIncrementalDim(t.offsetWidth)+"px":"100%";a.withoutTransition(t,function(){t.style.width=e})},_renderVisibility:function(){var t;if(this.props.hideable){t=i.findDOMNode(this);var e=i.findDOMNode(this.refs.paperContainer.getInnerContainer());this.props.visible?(t.style.height=this._initialMenuHeight+"px",r.onTransitionEnd(t,function(){this.props.visible&&(e.style.overflow="visible")}.bind(this))):(t.style.height="0px",e.style.overflow="hidden")}},_onNestedItemClick:function(t,e,n){this.props.onItemClick&&this.props.onItemClick(t,e,n)},_onNestedItemTap:function(t,e,n){this.props.onItemTap&&this.props.onItemTap(t,e,n)},_onItemClick:function(t,e){this.props.onItemClick&&this.props.onItemClick(t,e,this.props.menuItems[e])},_onItemTap:function(t,e){this.props.onItemTap&&this.props.onItemTap(t,e,this.props.menuItems[e])},_onItemToggle:function(t,e,n){this.props.onItemToggle&&this.props.onItemToggle(t,e,this.props.menuItems[e],n)}});e.exports=f},{"../mixins/classable":133,"../mixins/click-awayable":134,"../paper":137,"../utils/css-event":164,"../utils/dom":166,"../utils/key-line":169,"./link-menu-item":129,"./menu-item":130,"./subheader-menu-item":132,react:346}],132:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"SubheaderMenuItem",propTypes:{index:i.PropTypes.number.isRequired,text:i.PropTypes.string.isRequired},render:function(){return i.createElement("div",{key:this.props.index,className:"mui-subheader"},this.props.text)}});e.exports=r},{react:346}],133:[function(t,e,n){var i=t("react"),r=t("classnames");e.exports={propTypes:{className:i.PropTypes.string},getDefaultProps:function(){return{className:""}},getClasses:function(t,e){var n="";return this.props.className.length&&(n+=" "+this.props.className),n+="object"==typeof t?" "+r(t):" "+t,e&&(n+=" "+r(e)),r(this.getClassSet(n))},getClassSet:function(t){var e={};return t&&t.split(" ").forEach(function(t){t&&(e[t]=!0)}),e}}},{classnames:171,react:346}],134:[function(t,e,n){var i=t("react"),r=t("../utils/events"),a=t("../utils/dom");e.exports={componentDidMount:function(){this.manuallyBindClickAway||this._bindClickAway()},componentWillUnmount:function(){this._unbindClickAway()},_checkClickAway:function(t){var e=i.findDOMNode(this);this.isMounted()&&t.target!=e&&!a.isDescendant(e,t.target)&&document.documentElement.contains(t.target)&&this.componentClickAway&&this.componentClickAway()},_bindClickAway:function(){r.on(document,"click",this._checkClickAway)},_unbindClickAway:function(){r.off(document,"click",this._checkClickAway)}}},{"../utils/dom":166,"../utils/events":167,react:346}],135:[function(t,e,n){var i=t("../utils/events");e.exports={componentDidMount:function(){var t=this.windowListeners;for(var e in t){var n=t[e];i.on(window,e,this[n])}},componentWillUnmount:function(){var t=this.windowListeners;for(var e in t){var n=t[e];i.off(window,e,this[n])}}}},{"../utils/events":167}],136:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"Overlay",mixins:[r],propTypes:{show:i.PropTypes.bool,autoLockScrolling:i.PropTypes.bool},getDefaultProps:function(){return{autoLockScrolling:!0}},componentDidUpdate:function(t,e){this.props.autoLockScrolling&&(this.props.show?this._preventScrolling():this._allowScrolling())},render:function(){var t=this.props,e=(t.className,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1})),n=this.getClasses("mui-overlay",{"mui-is-shown":this.props.show});return i.createElement("div",i.__spread({},e,{className:n}))},preventScrolling:function(){this.props.autoLockScrolling||this._preventScrolling()},allowScrolling:function(){this.props.autoLockScrolling||this._allowScrolling()},_preventScrolling:function(){var t=document.getElementsByTagName("body")[0];t.style.overflow="hidden"},_allowScrolling:function(){var t=document.getElementsByTagName("body")[0];t.style.overflow=""}});e.exports=a},{"./mixins/classable":133,react:346}],137:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"Paper",mixins:[r],propTypes:{circle:i.PropTypes.bool,innerClassName:i.PropTypes.string,innerStyle:i.PropTypes.object,rounded:i.PropTypes.bool,zDepth:i.PropTypes.oneOf([0,1,2,3,4,5])},getDefaultProps:function(){return{innerClassName:"",rounded:!0,zDepth:1}},render:function(){var t=this.props,e=(t.className,t.circle,t.innerClassName,t.rounded,t.zDepth,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1,circle:1,innerClassName:1,rounded:1,zDepth:1})),n=this.getClasses("mui-paper mui-z-depth-"+this.props.zDepth,{"mui-rounded":this.props.rounded,"mui-circle":this.props.circle}),r=this.props.innerClassName+" mui-paper-container mui-z-depth-bottom";return i.createElement("div",i.__spread({},e,{className:n}),i.createElement("div",{ref:"innerContainer",className:r,style:this.props.innerStyle||{}},this.props.children))},getInnerContainer:function(){return this.refs.innerContainer}});e.exports=a},{"./mixins/classable":133,react:346}],138:[function(t,e,n){(function(n){var i=t("react"),r=(t("./paper"),t("./mixins/classable")),a=(t("./enhanced-switch"),t("./radio-button")),o=i.createClass({displayName:"RadioButtonGroup",mixins:[r],propTypes:{name:i.PropTypes.string.isRequired,valueSelected:i.PropTypes.string,defaultSelected:i.PropTypes.string,labelPosition:i.PropTypes.oneOf(["left","right"]),onChange:i.PropTypes.func},_hasCheckAttribute:function(t){return t.props.hasOwnProperty("checked")&&t.props.checked},getInitialState:function(){return{numberCheckedRadioButtons:0,selected:this.props.valueSelected||this.props.defaultSelected||""}},componentWillMount:function(){var t=0;this.props.children.forEach(function(e){this._hasCheckAttribute(e)&&t++},this),this.setState({numberCheckedRadioButtons:t})},componentWillReceiveProps:function(t){t.hasOwnProperty("valueSelected")&&this.setState({selected:t.valueSelected})},render:function(){var t=this.props.children.map(function(t){var e=t.props,n=(e.name,e.value,e.label,e.onCheck,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{name:1,value:1,label:1,onCheck:1}));return i.createElement(a,i.__spread({},n,{ref:t.props.value,name:this.props.name,key:t.props.value,value:t.props.value,label:t.props.label,labelPosition:this.props.labelPosition,onCheck:this._onChange,checked:t.props.value==this.state.selected}))},this);return i.createElement("div",null,t)},_updateRadioButtons:function(t){if(0==this.state.numberCheckedRadioButtons)this.setState({selected:t});else if("production"!==n.env.NODE_ENV){var e="Cannot select a different radio button while another radio button has the 'checked' property set to true.";console.error(e)}},_onChange:function(t,e){this._updateRadioButtons(e),0==this.state.numberCheckedRadioButtons&&this.props.onChange&&this.props.onChange(t,e)},getSelectedValue:function(){return this.state.selected},setSelectedValue:function(t){this._updateRadioButtons(t)},clearValue:function(){this.setSelectedValue("")}});e.exports=o}).call(this,t("_process"))},{"./enhanced-switch":120,"./mixins/classable":133,"./paper":137,"./radio-button":139,_process:95,react:346}],139:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./enhanced-switch"),o=t("./svg-icons/toggle-radio-button-off"),s=t("./svg-icons/toggle-radio-button-on"),u=i.createClass({displayName:"RadioButton",mixins:[r],propTypes:{onCheck:i.PropTypes.func},render:function(){var t=this.props,e=(t.onCheck,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{onCheck:1})),n=i.createElement("div",null,i.createElement(o,{className:"mui-radio-button-target"}),i.createElement(s,{className:"mui-radio-button-fill"})),r={ref:"enhancedSwitch",inputType:"radio",switchElement:n,className:"mui-radio-button",iconClassName:"mui-radio-button-icon",onSwitch:this._handleCheck,labelPosition:this.props.labelPosition?this.props.labelPosition:"right"};return i.createElement(a,i.__spread({},e,r))},_handleCheck:function(t){this.props.onCheck&&this.props.onCheck(t,this.props.value)},isChecked:function(){return this.refs.enhancedSwitch.isSwitched()},setChecked:function(t){this.refs.enhancedSwitch.setSwitched(t),this.setState({switched:t})},getValue:function(){return this.refs.enhancedSwitch.getValue()}});e.exports=u},{"./enhanced-switch":120,"./mixins/classable":133,"./svg-icons/toggle-radio-button-off":153,"./svg-icons/toggle-radio-button-on":154,react:346}],140:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./enhanced-button"),o=t("./paper"),s=i.createClass({displayName:"RaisedButton",mixins:[r],propTypes:{className:i.PropTypes.string,label:function(t,e,n){return t.children||t.label?void 0:new Error("Warning: Required prop `label` or `children` was not specified in `"+n+"`.")},onMouseDown:i.PropTypes.func,onMouseUp:i.PropTypes.func,onMouseOut:i.PropTypes.func,onTouchEnd:i.PropTypes.func,onTouchStart:i.PropTypes.func,primary:i.PropTypes.bool,secondary:i.PropTypes.bool},getInitialState:function(){var t=this.props.disabled?0:1;return{zDepth:t,initialZDepth:t}},componentWillReceiveProps:function(t){var e=t.disabled?0:1;this.setState({zDepth:e,initialZDepth:e})},render:function(){var t,e=this.props,n=e.label,r=e.primary,s=e.secondary,u=function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(e,{label:1,primary:1,secondary:1}),c=this.getClasses("mui-raised-button",{"mui-is-primary":!this.props.disabled&&r,"mui-is-secondary":!this.props.disabled&&!r&&s});return t=n?i.createElement("span",{className:"mui-raised-button-label"},n):this.props.children,i.createElement(o,{className:c,zDepth:this.state.zDepth},i.createElement(a,i.__spread({},u,{className:"mui-raised-button-container",onMouseUp:this._handleMouseUp,onMouseDown:this._handleMouseDown,onMouseOut:this._handleMouseOut,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd}),t))},_handleMouseDown:function(t){0===t.button&&this.setState({zDepth:this.state.initialZDepth+1}),this.props.onMouseDown&&this.props.onMouseDown(t)},_handleMouseUp:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onMouseUp&&this.props.onMouseUp(t)},_handleMouseOut:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onMouseOut&&this.props.onMouseOut(t)},_handleTouchStart:function(t){this.setState({zDepth:this.state.initialZDepth+1}),this.props.onTouchStart&&this.props.onTouchStart(t)},_handleTouchEnd:function(t){this.setState({zDepth:this.state.initialZDepth}),this.props.onTouchEnd&&this.props.onTouchEnd(t)}});e.exports=s},{"./enhanced-button":119,"./mixins/classable":133,"./paper":137,react:346}],141:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=i.createClass({displayName:"RippleCircle",mixins:[r],propTypes:{className:i.PropTypes.string,started:i.PropTypes.bool,ending:i.PropTypes.bool},render:function(){var t=this.props,e=(t.innerClassName,t.started,t.ending,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{innerClassName:1,started:1,ending:1})),n=this.getClasses("mui-ripple-circle",{"mui-is-started":this.props.started,"mui-is-ending":this.props.ending});return i.createElement("div",i.__spread({},e,{className:n}),i.createElement("div",{className:"mui-ripple-circle-inner"}))}});e.exports=a},{"../mixins/classable":133,react:346}],142:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=i.createClass({displayName:"FocusRipple",mixins:[r],propTypes:{show:i.PropTypes.bool},componentDidMount:function(){this._setRippleSize()},render:function(){var t=this.getClasses("mui-focus-ripple",{"mui-is-shown":this.props.show});return i.createElement("div",{className:t},i.createElement("div",{className:"mui-focus-ripple-inner"}))},_setRippleSize:function(){var t=i.findDOMNode(this),e=t.offsetHeight,n=t.offsetWidth,r=Math.max(e,n);t.style.height=r+"px",t.style.top=r/2*-1+e/2+"px"}});e.exports=a},{"../mixins/classable":133,react:346}],143:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=t("../utils/dom"),o=t("./circle"),s=i.createClass({displayName:"TouchRipple",mixins:[r],propTypes:{centerRipple:i.PropTypes.bool,className:i.PropTypes.string},getInitialState:function(){return{ripples:[{key:0,started:!1,ending:!1}],touchInProgress:!1}},render:function(){var t=this.getClasses("mui-touch-ripple");return i.createElement("div",{onMouseUp:this._handleMouseUp,onMouseDown:this._handleMouseDown,onMouseOut:this._handleMouseOut,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd},i.createElement("div",{className:t},this._getRippleElements()),this.props.children)},start:function(t){for(var e,n=this.state.ripples,i=n[n.length-1].key+1,r=this.props.centerRipple?{}:this._getRippleStyle(t),a=0;a<n.length;a++)if(e=n[a],!e.started){e.started=!0,e.style=r;break}n.push({key:i,started:!1,ending:!1}),this.setState({ripples:n})},end:function(){for(var t,e,n=this.state.ripples,i=0;i<n.length;i++)if(t=n[i],t.started&&!t.ending){t.ending=!0,e=t;break}e&&(this.setState({ripples:n}),setTimeout(function(){n.shift(),this.isMounted()&&this.setState({ripples:n})}.bind(this),2e3))},_handleMouseDown:function(t){0!==t.button||this.state.touchInProgress||this.start(t)},_handleMouseUp:function(t){this.state.touchInProgress||this.end()},_handleMouseOut:function(t){this.state.touchInProgress||this.end()},_handleTouchStart:function(t){this.start(t)},_handleTouchEnd:function(t){this.setState({touchInProgress:!0}),setTimeout(function(){this.isMounted()&&this.setState({touchInProgress:!1})}.bind(this),100),this.end()},_getRippleStyle:function(t){var e={},n=i.findDOMNode(this),r=n.offsetHeight,o=n.offsetWidth,s=a.offset(n),u=t.touches&&t.touches.length,c=u?t.touches[0].pageX:t.pageX,l=u?t.touches[0].pageY:t.pageY,h=c-s.left,p=l-s.top,d=this._calcDiag(h,p),f=this._calcDiag(o-h,p),m=this._calcDiag(o-h,r-p),g=this._calcDiag(h,r-p),v=Math.max(d,f,m,g),y=2*v,_=h-v,x=p-v;return e.height=y+"px",e.width=y+"px",e.top=x+"px",e.left=_+"px",e},_calcDiag:function(t,e){return Math.sqrt(t*t+e*e)},_getRippleElements:function(){return this.state.ripples.map(function(t){return i.createElement(o,{key:t.key,started:t.started,ending:t.ending,style:t.style})}.bind(this))}});e.exports=s},{"../mixins/classable":133,"../utils/dom":166,"./circle":141,react:346}],144:[function(t,e,n){var i=t("react"),r=(t("./paper"),t("./mixins/classable")),a=t("react-draggable2"),o=i.createClass({displayName:"Slider",propTypes:{required:i.PropTypes.bool,disabled:i.PropTypes.bool,min:i.PropTypes.number,max:i.PropTypes.number,step:i.PropTypes.number,error:i.PropTypes.string,description:i.PropTypes.string,name:i.PropTypes.string.isRequired,onChange:i.PropTypes.func,onDragStart:i.PropTypes.func,onDragStop:i.PropTypes.func},mixins:[r],getDefaultProps:function(){return{required:!0,disabled:!1,defaultValue:0,min:0,max:1,dragging:!1}},getInitialState:function(){var t=this.props.value;null==t&&(t=this.props.defaultValue);var e=(t-this.props.min)/(this.props.max-this.props.min);return isNaN(e)&&(e=0),{value:t,percent:e}},componentWillReceiveProps:function(t){null!=t.value&&this.setValue(t.value)},render:function(){var t=this.getClasses("mui-input",{"mui-error":null!=this.props.error}),e=this.getClasses("mui-slider",{"mui-slider-zero":0==this.state.percent,"mui-disabled":this.props.disabled}),n=this.state.percent;return n>1?n=1:0>n&&(n=0),i.createElement("div",{className:t,style:this.props.style},i.createElement("span",{className:"mui-input-highlight"}),i.createElement("span",{className:"mui-input-bar"}),i.createElement("span",{className:"mui-input-description"},this.props.description),i.createElement("span",{className:"mui-input-error"},this.props.error),i.createElement("div",{className:e,onClick:this._onClick},i.createElement("div",{ref:"track",className:"mui-slider-track"},i.createElement(a,{axis:"x",bound:"point",cancel:this.props.disabled?"*":null,start:{x:100*n+"%"},onStart:this._onDragStart,onStop:this._onDragStop,onDrag:this._onDragUpdate},i.createElement("div",{className:"mui-slider-handle",tabIndex:0})),i.createElement("div",{className:"mui-slider-selection mui-slider-selection-low",style:{width:100*n+"%"}},i.createElement("div",{className:"mui-slider-selection-fill"})),i.createElement("div",{className:"mui-slider-selection mui-slider-selection-high",style:{width:100*(1-n)+"%"}},i.createElement("div",{className:"mui-slider-selection-fill"})))),i.createElement("input",{ref:"input",type:"hidden",name:this.props.name,value:this.state.value,required:this.props.required,min:this.props.min,max:this.props.max,step:this.props.step}))},getValue:function(){return this.state.value},setValue:function(t){var e=(t-this.props.min)/(this.props.max-this.props.min);isNaN(e)&&(e=0),this.setState({value:t,percent:e})},getPercent:function(){return this.state.percent},setPercent:function(t){var e=this._percentToValue(t);this.setState({value:e,percent:t})},clearValue:function(){this.setValue(0)},_onClick:function(t){if(!this.state.dragging&&!this.props.disabled){var e=(this.state.value,i.findDOMNode(this.refs.track)),n=e.getBoundingClientRect(),r=t.clientX-n.left;this._updateWithChangeEvent(t,r/e.clientWidth)}},_onDragStart:function(t,e){this.setState({dragging:!0}),this.props.onDragStart&&this.props.onDragStart(t,e)},_onDragStop:function(t,e){this.setState({dragging:!1}),this.props.onDragStop&&this.props.onDragStop(t,e)},_onDragUpdate:function(t,e){this.state.dragging&&(this.props.disabled||this._dragX(t,e.position.left))},_dragX:function(t,e){var n=i.findDOMNode(this.refs.track).clientWidth;0>e?e=0:e>n&&(e=n),this._updateWithChangeEvent(t,e/n)},_updateWithChangeEvent:function(t,e){if(this.state.percent!==e){this.setPercent(e);var n=this._percentToValue(e);this.props.onChange&&this.props.onChange(t,n)}},_percentToValue:function(t){return t*(this.props.max-this.props.min)+this.props.min}});e.exports=o},{"./mixins/classable":133,"./paper":137,react:346,"react-draggable2":172}],145:[function(t,e,n){var i=t("react"),r=t("./utils/css-event"),a=t("./mixins/classable"),o=t("./mixins/click-awayable"),s=t("./flat-button"),u=i.createClass({displayName:"Snackbar",mixins:[a,o],manuallyBindClickAway:!0,propTypes:{action:i.PropTypes.string,message:i.PropTypes.string.isRequired,openOnMount:i.PropTypes.bool,onActionTouchTap:i.PropTypes.func},getInitialState:function(){return{open:this.props.openOnMount||!1}},componentClickAway:function(){this.dismiss()},componentDidUpdate:function(t,e){e.open!=this.state.open&&(this.state.open?r.onTransitionEnd(i.findDOMNode(this),function(){this._bindClickAway()}.bind(this)):this._unbindClickAway())},render:function(){var t,e=this.getClasses("mui-snackbar",{"mui-is-open":this.state.open});return this.props.action&&(t=i.createElement(s,{className:"mui-snackbar-action",label:this.props.action,onTouchTap:this.props.onActionTouchTap})),i.createElement("span",{className:e},i.createElement("span",{className:"mui-snackbar-message"},this.props.message),t)},show:function(){this.setState({open:!0})},dismiss:function(){this.setState({open:!1})}});e.exports=u},{"./flat-button":122,"./mixins/classable":133,"./mixins/click-awayable":134,"./utils/css-event":164,react:346}],146:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"DropDownArrow",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("polygon",{points:"7,9.5 12,14.5 17,9.5 "}))}});e.exports=a},{"./svg-icon":150,react:346}],147:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"NavigationChevronLeft",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))}});e.exports=a},{"./svg-icon":150,react:346}],148:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"NavigationChevronLeft",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))}});e.exports=a},{"./svg-icon":150,react:346}],149:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"NavigationMenu",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))}});e.exports=a},{"./svg-icon":150,react:346}],150:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=i.createClass({displayName:"SvgIcon",mixins:[r],render:function(){var t=this.getClasses("mui-svg-icon");return i.createElement("svg",i.__spread({},this.props,{className:t,viewBox:"0 0 24 24"}),this.props.children)}});e.exports=a},{"../mixins/classable":133,react:346}],151:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"ToggleCheckBoxChecked",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M10,17l-5-5l1.4-1.4 l3.6,3.6l7.6-7.6L19,8L10,17z"}))}});e.exports=a},{"./svg-icon":150,react:346}],152:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"ToggleCheckBoxOutlineBlank",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M19,5v14H5V5H19 M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z"}))}});e.exports=a},{"./svg-icon":150,react:346}],153:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"RadioButtonOff",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}});e.exports=a},{"./svg-icon":150,react:346}],154:[function(t,e,n){var i=t("react"),r=t("./svg-icon"),a=i.createClass({displayName:"RadioButtonOn",render:function(){return i.createElement(r,i.__spread({},this.props),i.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}});e.exports=a},{"./svg-icon":150,react:346}],155:[function(t,e,n){var i=t("react"),r=t("../mixins/classable"),a=(t("./tabTemplate"),i.createClass({displayName:"Tab",mixins:[r],propTypes:{handleTouchTap:i.PropTypes.func,selected:i.PropTypes.bool},handleTouchTap:function(){this.props.handleTouchTap(this.props.tabIndex,this)},render:function(){var t={width:this.props.width},e=this.getClasses("mui-tab-item",{"mui-tab-is-active":this.props.selected});return i.createElement("div",{className:e,style:t,onTouchTap:this.handleTouchTap,routeName:this.props.route},this.props.label)}}));e.exports=a},{"../mixins/classable":133,"./tabTemplate":156,react:346}],156:[function(t,e,n){var i=t("react"),r=i.createClass({displayName:"TabTemplate",render:function(){return i.createElement("div",{className:"mui-tab-template"},this.props.children)}});e.exports=r},{react:346}],157:[function(t,e,n){var i=t("react/addons"),r=(t("./tab"),t("./tabTemplate")),a=t("../ink-bar"),o=i.createClass({displayName:"Tabs",propTypes:{initialSelectedIndex:i.PropTypes.number,onActive:i.PropTypes.func,tabWidth:i.PropTypes.number},getInitialState:function(){var t=0;return this.props.initialSelectedIndex&&this.props.initialSelectedIndex<this.props.children.length&&(t=this.props.initialSelectedIndex),{selectedIndex:t}},getEvenWidth:function(){return parseInt(window.getComputedStyle(i.findDOMNode(this)).getPropertyValue("width"),10)},componentDidMount:function(){return!this.props.tabWidth||this.props.children.length*this.props.tabWidth>this.getEvenWidth()?void this.setState({width:this.getEvenWidth(),fixed:!0}):void this.setState({width:this.props.tabWidth,fixed:!1})},handleTouchTap:function(t,e){this.props.onChange&&this.state.selectedIndex!==t&&this.props.onChange(t,e),this.setState({selectedIndex:t}),e.props.onActive&&e.props.onActive(e)},render:function(){var t,e=this,n=this.state.fixed?this.state.width/this.props.children.length:this.props.tabWidth,o=n*this.state.selectedIndex||0,s=i.Children.map(this.props.children,function(r,a){if("Tab"===r.type.displayName)return e.state.selectedIndex===a&&(t=r.props.children),i.addons.cloneWithProps(r,{key:a,selected:e.state.selectedIndex===a,tabIndex:a,width:n,handleTouchTap:e.handleTouchTap});var o=r.type.displayName||r.type;throw"Tabs only accepts Tab Components as children. Found "+o+" as child number "+(a+1)+" of Tabs"});return i.createElement("div",{className:"mui-tabs-container"},i.createElement("div",{className:"mui-tab-item-container"},s),i.createElement(a,{left:o,width:n}),i.createElement(r,null,t))}});e.exports=o},{"../ink-bar":126,"./tab":155,"./tabTemplate":156,"react/addons":174}],158:[function(t,e,n){(function(n){var i=t("react"),r=t("./mixins/classable"),a=t("./utils/unique-id"),o=t("./enhanced-textarea"),s=i.createClass({displayName:"TextField",mixins:[r],propTypes:{errorText:i.PropTypes.string,floatingLabelText:i.PropTypes.string,hintText:i.PropTypes.string,id:i.PropTypes.string,multiLine:i.PropTypes.bool,onBlur:i.PropTypes.func,onChange:i.PropTypes.func,onFocus:i.PropTypes.func,onKeyDown:i.PropTypes.func,onEnterKeyDown:i.PropTypes.func,type:i.PropTypes.string},getDefaultProps:function(){return{type:"text"}},getInitialState:function(){return{errorText:this.props.errorText,hasValue:this.props.value||this.props.defaultValue||this.props.valueLink&&this.props.valueLink.value}},componentWillReceiveProps:function(t){var e=t.hasOwnProperty("errorText"),n=t.hasOwnProperty("valueLink"),i=t.hasOwnProperty("value"),r=t.defaultValue!==this.props.defaultValue,a={};i?a.hasValue=t.value:n?a.hasValue=t.valueLink.value:r&&(a.hasValue=t.defaultValue),e&&(a.errorText=t.errorText),a&&this.setState(a)},render:function(){var t,e,n=this.props,r=(n.className,n.errorText,n.floatingLabelText,n.hintText,n.id,n.multiLine,n.onBlur,n.onChange,n.onFocus,n.type,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(n,{className:1,errorText:1,floatingLabelText:1,hintText:1,id:1,multiLine:1,onBlur:1,onChange:1,onFocus:1,type:1})),s=this.getClasses("mui-text-field",{"mui-has-error":this.props.errorText,"mui-has-floating-labels":this.props.floatingLabelText,"mui-has-value":this.state.hasValue,"mui-is-disabled":this.props.disabled,"mui-is-focused":this.state.isFocused,"mui-is-multiLine":this.props.multiLine}),u=this.props.id||a.generate(),c=this.state.errorText?i.createElement("div",{className:"mui-text-field-error"},this.state.errorText):null,l=this.props.hintText?i.createElement("div",{className:"mui-text-field-hint"},this.props.hintText):null,h=this.props.floatingLabelText?i.createElement("label",{className:"mui-text-field-floating-label",htmlFor:u},this.props.floatingLabelText):null;return t={ref:"input",className:"mui-text-field-input",id:u,onBlur:this._handleInputBlur,onFocus:this._handleInputFocus,onKeyDown:this._handleInputKeyDown},this.props.hasOwnProperty("valueLink")||(t.onChange=this._handleInputChange),e=this.props.multiLine?i.createElement(o,i.__spread({},r,t,{onHeightChange:this._handleTextAreaHeightChange,textareaClassName:"mui-text-field-textarea"})):i.createElement("input",i.__spread({},r,t,{type:this.props.type})),i.createElement("div",{className:s},h,l,e,i.createElement("hr",{className:"mui-text-field-underline"}),i.createElement("hr",{className:"mui-text-field-focus-underline"}),c)},blur:function(){this.isMounted()&&this._getInputNode().blur()},clearValue:function(){
this.setValue("")},focus:function(){this.isMounted()&&this._getInputNode().focus()},getValue:function(){return this.isMounted()?this._getInputNode().value:void 0},setErrorText:function(t){"production"!==n.env.NODE_ENV&&this.props.hasOwnProperty("errorText")?console.error("Cannot call TextField.setErrorText when errorText is defined as a property."):this.isMounted()&&this.setState({errorText:t})},setValue:function(t){"production"!==n.env.NODE_ENV&&this._isControlled()?console.error("Cannot call TextField.setValue when value or valueLink is defined as a property."):this.isMounted()&&(this._getInputNode().value=t,this.setState({hasValue:t}))},_getInputNode:function(){return this.props.multiLine?this.refs.input.getInputNode():i.findDOMNode(this.refs.input)},_handleInputBlur:function(t){this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(t)},_handleInputChange:function(t){this.setState({hasValue:t.target.value}),this.props.onChange&&this.props.onChange(t)},_handleInputFocus:function(t){this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(t)},_handleInputKeyDown:function(t){13===t.keyCode&&this.props.onEnterKeyDown&&this.props.onEnterKeyDown(t),this.props.onKeyDown&&this.props.onKeyDown(t)},_handleTextAreaHeightChange:function(t,e){var n=e+24;this.props.floatingLabelText&&(n+=24),i.findDOMNode(this).style.height=n+"px"},_isControlled:function(){return this.props.hasOwnProperty("value")||this.props.hasOwnProperty("valueLink")}});e.exports=s}).call(this,t("_process"))},{"./enhanced-textarea":121,"./mixins/classable":133,"./utils/unique-id":170,_process:95,react:346}],159:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=t("./paper"),o=t("./enhanced-switch"),s=i.createClass({displayName:"Toggle",mixins:[r],propTypes:{onToggle:i.PropTypes.func,toggled:i.PropTypes.bool,defaultToggled:i.PropTypes.bool},render:function(){var t=this.props,e=(t.onToggle,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{onToggle:1})),n=i.createElement("div",null,i.createElement("div",{className:"mui-toggle-track"}),i.createElement(a,{className:"mui-toggle-thumb",zDepth:1})),r={ref:"enhancedSwitch",inputType:"checkbox",switchElement:n,className:"mui-toggle",iconClassName:"mui-toggle-icon",onSwitch:this._handleToggle,defaultSwitched:this.props.defaultToggled,labelPosition:this.props.labelPosition?this.props.labelPosition:"left"};return this.props.hasOwnProperty("toggled")&&(r.checked=this.props.toggled),i.createElement(o,i.__spread({},e,r))},isToggled:function(){return this.refs.enhancedSwitch.isSwitched()},setToggled:function(t){this.refs.enhancedSwitch.setSwitched(t)},_handleToggle:function(t,e){this.props.onToggle&&this.props.onToggle(t,e)}});e.exports=s},{"./enhanced-switch":120,"./mixins/classable":133,"./paper":137,react:346}],160:[function(t,e,n){var i=t("./mixins/classable"),r=t("react"),a=r.createClass({displayName:"ToolbarGroup",propTypes:{"float":r.PropTypes.string},mixins:[i],render:function(){var t=this.getClasses("mui-toolbar-group",{"mui-left":"left"===this.props["float"],"mui-right":"right"===this.props["float"]});return r.createElement("div",{className:t},this.props.children)}});e.exports=a},{"./mixins/classable":133,react:346}],161:[function(t,e,n){var i=t("./mixins/classable"),r=t("react"),a=r.createClass({displayName:"Toolbar",mixins:[i],render:function(){var t=this.getClasses("mui-toolbar",{});return r.createElement("div",{className:t},this.props.children)}});e.exports=a},{"./mixins/classable":133,react:346}],162:[function(t,e,n){var i=t("react"),r=t("./mixins/classable"),a=i.createClass({displayName:"Tooltip",mixins:[r],propTypes:{className:i.PropTypes.string,label:i.PropTypes.string.isRequired,show:i.PropTypes.bool,touch:i.PropTypes.bool},componentDidMount:function(){this._setRippleSize()},componentDidUpdate:function(t,e){this._setRippleSize()},render:function(){var t=this.props,e=(t.className,t.label,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1,label:1})),n=this.getClasses("mui-tooltip",{"mui-is-shown":this.props.show,"mui-is-touch":this.props.touch});return i.createElement("div",i.__spread({},e,{className:n}),i.createElement("div",{ref:"ripple",className:"mui-tooltip-ripple"}),i.createElement("span",{className:"mui-tooltip-label"},this.props.label))},_setRippleSize:function(){var t=i.findDOMNode(this.refs.ripple),e=i.findDOMNode(this).offsetWidth,n=this.props.touch?45:20,r=e+n+"px";this.props.show?(t.style.height=r,t.style.width=r):(t.style.width="0px",t.style.height="0px")}});e.exports=a},{"./mixins/classable":133,react:346}],163:[function(t,e,n){var i=t("react/addons"),r=i.addons.CSSTransitionGroup,a=t("../mixins/classable"),o=i.createClass({displayName:"SlideIn",mixins:[a],propTypes:{direction:i.PropTypes.oneOf(["left","right","up","down"])},getDefaultProps:function(){return{direction:"left"}},render:function(){var t=this.props,e=(t.className,t.direction,function(t,e){var n={},i=Object.prototype.hasOwnProperty;if(null==t)throw new TypeError;for(var r in t)i.call(t,r)&&!i.call(e,r)&&(n[r]=t[r]);return n}(t,{className:1,direction:1})),n=this.getClasses("mui-transition-slide-in");return n+=" mui-is-"+this.props.direction,i.Children.forEach(this.props.children,function(t){t.props.className=t.props.className?t.props.className+" mui-transition-slide-in-child":"mui-transition-slide-in-child"}),i.createElement(r,i.__spread({},e,{className:n,transitionName:"mui-transition-slide-in",component:"div"}),this.props.children)}});e.exports=o},{"../mixins/classable":133,"react/addons":174}],164:[function(t,e,n){var i=t("./events");e.exports={_testSupportedProps:function(t){var e,n,i=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&i.style[e]!==n)return t[e]},transitionEndEventName:function(){return this._testSupportedProps({transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"})},animationEndEventName:function(){return this._testSupportedProps({animation:"animationend","-o-animation":"oAnimationEnd","-moz-animation":"animationend","-webkit-animation":"webkitAnimationEnd"})},onTransitionEnd:function(t,e){var n=this.transitionEndEventName();i.once(t,n,function(){return e()})},onAnimationEnd:function(t,e){var n=this.animationEndEventName();i.once(t,n,function(){return e()})}}},{"./events":167}],165:[function(t,e,n){e.exports={addDays:function(t,e){var n=this.clone(t);return n.setDate(t.getDate()+e),n},addMonths:function(t,e){var n=this.clone(t);return n.setMonth(t.getMonth()+e),n},clone:function(t){return new Date(t.getTime())},getDaysInMonth:function(t){var e=this.getFirstDayOfMonth(t);return e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),e.getDate()},getFirstDayOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},getFullMonth:function(t){var e=t.getMonth();switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December"}},getShortMonth:function(t){var e=t.getMonth();switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}},getDayOfWeek:function(t){var e=t.getDay();switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}},getWeekArray:function(t){for(var e,n,i,r,a=[],o=this.getDaysInMonth(t),s=[],u=1;o>=u;u++)a.push(new Date(t.getFullYear(),t.getMonth(),u));for(;a.length;){i=a[0].getDay(),e=7-i,n=7-e,r=a.splice(0,e);for(var u=0;n>u;u++)r.unshift(null);s.push(r)}return s},format:function(t){var e=t.getMonth()+1,n=t.getDate(),i=t.getFullYear();return e+"/"+n+"/"+i},isEqualDate:function(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},monthDiff:function(t,e){var n;return n=12*(t.getFullYear()-e.getFullYear()),n+=t.getMonth(),n-=e.getMonth()}}},{}],166:[function(t,e,n){e.exports={isDescendant:function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},toggleClass:function(t,e){this.hasClass(t,e)?this.removeClass(t,e):this.addClass(t,e)},forceRedraw:function(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e},withoutTransition:function(t,e){t.style.transition="none",e(),this.forceRedraw(t),t.style.transition=""}}},{}],167:[function(t,e,n){e.exports={once:function(t,e,n){for(var i=e.split(" "),r=function(t){return t.target.removeEventListener(t.type,r),n(t)},a=i.length-1;a>=0;a--)this.on(t,i[a],r)},on:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,function(){n.call(t)})},off:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}}},{}],168:[function(t,e,n){e.exports={DOWN:40,ESC:27,ENTER:13,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38}},{}],169:[function(t,e,n){e.exports={Desktop:{GUTTER:24,GUTTER_LESS:16,INCREMENT:64,MENU_ITEM_HEIGHT:32},getIncrementalDim:function(t){return Math.ceil(t/this.Desktop.INCREMENT)*this.Desktop.INCREMENT}}},{}],170:[function(t,e,n){var i=0;e.exports={generate:function(){return"mui-id-"+i++}}},{}],171:[function(t,e,n){function i(){for(var t,e="",n=0;n<arguments.length;n++)if(t=arguments[n])if("string"==typeof t||"number"==typeof t)e+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))e+=" "+i.apply(null,t);else if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&t[r]&&(e+=" "+r);return e.substr(1)}"undefined"!=typeof e&&e.exports&&(e.exports=i),"undefined"!=typeof define&&define.amd&&define("classnames",[],function(){return i})},{}],172:[function(t,e,n){"use strict";function i(t,e){if(!e)return t;e=String(e);var n=!!~e.indexOf("top"),i=!!~e.indexOf("right"),r=!!~e.indexOf("bottom"),a=!!~e.indexOf("left"),o=!!~e.indexOf("all")||!(n||i||r||a),s=!~e.indexOf("point");return t.boundTop=o||n,t.boundRight=o||i,t.boundBottom=o||r,t.boundLeft=o||a,t.boundBox=s,t}function r(t){return{position:{top:t.state.offsetTop,left:t.state.offsetLeft}}}function a(t){return"both"===t.props.axis||"y"===t.props.axis}function o(t){return"both"===t.props.axis||"x"===t.props.axis}function s(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function u(t,e){for(var n=0,i=(t.length,null);i=t[n];n++)if(e.apply(e,[i,n,t]))return i}function c(t,e){var n=u(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return s(t[e])});return t[n].call(t,e)}function l(t){var e=t.touches&&t.touches[0]||t;return{clientX:e.clientX,clientY:e.clientY}}function h(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function p(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}var d,f=t("react/addons"),m=function(){},g="undefined"!=typeof window?window:this;"undefined"!=typeof document&&"body"in document&&(d=document.body);var v="ontouchstart"in g||"onmsgesturechange"in g,y=function(){var t={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return t[v?"touch":"mouse"]}();e.exports=f.createClass({displayName:"Draggable",mixins:[f.addons.PureRenderMixin],propTypes:{axis:f.PropTypes.oneOf(["both","x","y"]),handle:f.PropTypes.string,cancel:f.PropTypes.string,bound:f.PropTypes.string,grid:f.PropTypes.arrayOf(f.PropTypes.number),constrain:f.PropTypes.func,start:f.PropTypes.object,zIndex:f.PropTypes.number,useChild:f.PropTypes.bool,onStart:f.PropTypes.func,onDrag:f.PropTypes.func,onStop:f.PropTypes.func,onMouseDown:f.PropTypes.func},getDefaultProps:function(){return{axis:"both",bound:null,handle:null,cancel:null,grid:null,start:{},zIndex:NaN,useChild:!0,onStart:m,onDrag:m,onStop:m,onMouseDown:m}},getInitialState:function(){var t={dragging:!1,clientX:0,clientY:0,offsetLeft:this.props.start.x||0,offsetTop:this.props.start.y||0};return i(t,this.props.bound),t},componentWillReceiveProps:function(t){var e=i({},t.bound);t.start&&(null!=t.start.x&&(e.offsetLeft=t.start.x||0),null!=t.start.y&&(e.offsetTop=t.start.y||0)),this.setState(e)},componentWillUnmount:function(){p(g,y.move,this.handleDrag),p(g,y.end,this.handleDragEnd)},handleDragStart:function(t){if(this.props.onMouseDown(t),!(this.props.handle&&!c(t.target,this.props.handle)||this.props.cancel&&c(t.target,this.props.cancel))){var e=l(t);this.setState({dragging:!0,clientX:e.clientX,clientY:e.clientY}),this.props.onStart(t,r(this)),h(g,y.move,this.handleDrag),h(g,y.end,this.handleDragEnd),d&&(d.className+=" react-draggable-dragging")}},handleDragEnd:function(t){if(this.state.dragging&&(this.setState({dragging:!1}),this.props.onStop(t,r(this)),p(g,y.move,this.handleDrag),p(g,y.end,this.handleDragEnd),d)){var e=d.className;d.className=e.replace(/(?:^|\s+)react-draggable-dragging\b/," ")}},handleDrag:function(t){var e,n,i=l(t),s=this._toPixels(this.state.offsetLeft),u=this._toPixels(this.state.offsetTop),c={offsetLeft:s,offsetTop:u},h=this.getDOMNode(),p=h.offsetParent;o(this)&&(e=s+i.clientX-this.state.clientX,this.state.boundLeft&&(n=c.offsetLeft-h.offsetLeft,n>e&&(e=n)),this.state.boundRight&&(n+=p.clientWidth,this.state.boundBox&&(n-=h.offsetWidth),e>n&&(e=n)),c.offsetLeft=e),a(this)&&(e=u+i.clientY-this.state.clientY,this.state.boundTop&&(n=c.offsetTop-h.offsetTop,n>e&&(e=n)),this.state.boundBottom&&(n+=p.clientHeight,this.state.boundBox&&(n-=h.offsetHeight),e>n&&(e=n)),c.offsetTop=e);var d=this.props.constrain,f=this.props.grid;if(!d&&Array.isArray(f)){var m=function(t,e,n){var i=t-e;return Math.abs(i)>=n?e+parseInt(i/n,10)*n:e};d=function(t){return{left:m(t.left,t.prevLeft,f[0]),top:m(t.top,t.prevTop,f[1])}}}var g;d&&(g=d({prevLeft:this.state.offsetLeft,prevTop:this.state.offsetTop,left:c.offsetLeft,top:c.offsetTop}),g&&("left"in g&&!isNaN(g.left)&&(c.offsetLeft=g.left),"top"in g&&!isNaN(g.top)&&(c.offsetTop=g.top))),c.clientX=this.state.clientX+(c.offsetLeft-s),c.clientY=this.state.clientY+(c.offsetTop-u),this.setState(c),this.props.onDrag(t,r(this))},onTouchStart:function(t){return t.preventDefault(),this.handleDragStart.apply(this,arguments)},render:function(){var t={top:this.state.offsetTop,left:this.state.offsetLeft};this.state.dragging&&!isNaN(this.props.zIndex)&&(t.zIndex=this.props.zIndex);var e={style:t,className:"react-draggable",onMouseDown:this.handleDragStart,onTouchStart:this.onTouchStart,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd};return this.props.useChild?f.addons.cloneWithProps(f.Children.only(this.props.children),e):f.DOM.div(e,this.props.children)},_toPixels:function(t){if("string"==typeof t&&"%"==t.slice(-1))return parseInt(+t.replace("%","")/100*this.getDOMNode().offsetParent.clientWidth,10)||0;var e=parseInt(t,10);return isNaN(e)||!isFinite(e)?0:e}})},{"react/addons":174}],173:[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof n?e.exports=r(t("react")):i.ReactSlider=r(i.React)}(this,function(t){function e(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1}function n(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}function i(t,e,n){for(var i=(e-t)/(n-1),r=[],a=0;n>a;a++)r.push(t+i*a);return r}function r(t){return null==t?[]:Array.isArray(t)?t:[t]}function a(t){return null!=t&&1===t.length?t[0]:t}var o=t.createClass({displayName:"ReactSlider",propTypes:{min:t.PropTypes.number,max:t.PropTypes.number,step:t.PropTypes.number,minDistance:t.PropTypes.number,defaultValue:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.arrayOf(t.PropTypes.number)]),value:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.arrayOf(t.PropTypes.number)]),orientation:t.PropTypes.oneOf(["horizontal","vertical"]),className:t.PropTypes.string,handleClassName:t.PropTypes.string,handleActiveClassName:t.PropTypes.string,withBars:t.PropTypes.bool,barClassName:t.PropTypes.string,pearling:t.PropTypes.bool,disabled:t.PropTypes.bool,snapDragDisabled:t.PropTypes.bool,invert:t.PropTypes.bool,onBeforeChange:t.PropTypes.func,onChange:t.PropTypes.func,onAfterChange:t.PropTypes.func,onSliderClick:t.PropTypes.func},getDefaultProps:function(){return{min:0,max:100,step:1,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",handleClassName:"handle",handleActiveClassName:"active",barClassName:"bar",withBars:!1,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1}},getInitialState:function(){var t=this._or(r(this.props.value),r(this.props.defaultValue));this.tempArray=t.slice();for(var e=[],n=0;n<t.length;n++)t[n]=this._trimAlignValue(t[n],this.props),e.push(n);return{index:-1,upperBound:0,sliderLength:0,value:t,zIndices:e}},componentWillReceiveProps:function(t){var e=this._or(r(t.value),this.state.value);this.tempArray=e.slice();for(var n=0;n<e.length;n++)this.state.value[n]=this._trimAlignValue(e[n],t);this.state.value.length>e.length&&(this.state.value.length=e.length),0===this.state.upperBound&&this._handleResize()},_or:function(e,n){var r=t.Children.count(this.props.children);switch(r){case 0:return e.length>0?e:n;case e.length:return e;case n.length:return n;default:return(e.length!==r||n.length!==r)&&console.warn(this.constructor.displayName+": Number of values does not match number of children."),i(this.props.min,this.props.max,r)}},componentDidMount:function(){window.addEventListener("resize",this._handleResize),this._handleResize()},componentWillUnmount:function(){window.removeEventListener("resize",this._handleResize)},getValue:function(){return a(this.state.value)},_handleResize:function(){window.setTimeout(function(){var t=this.refs.slider.getDOMNode(),e=this.refs.handle0.getDOMNode(),n=t.getBoundingClientRect(),i=this._sizeKey(),r=n[this._posMaxKey()],a=n[this._posMinKey()];this.setState({upperBound:t[i]-e[i],sliderLength:Math.abs(r-a),handleSize:e[i],sliderStart:this.props.invert?r:a})}.bind(this),0)},_calcOffset:function(t){var e=(t-this.props.min)/(this.props.max-this.props.min);return e*this.state.upperBound},_calcValue:function(t){var e=t/this.state.upperBound;return e*(this.props.max-this.props.min)+this.props.min},_buildHandleStyle:function(t,e){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey():"",zIndex:this.state.zIndices.indexOf(e)+1};return n[this._posMinKey()]=t+"px",n},_buildBarStyle:function(t,e){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey()+","+this._posMaxKey():""};return n[this._posMinKey()]=t,n[this._posMaxKey()]=e,n},_getClosestIndex:function(t){for(var e=Number.MAX_VALUE,n=-1,i=this.state.value,r=i.length,a=0;r>a;a++){var o=this._calcOffset(i[a]),s=Math.abs(t-o);e>s&&(e=s,n=a)}return n},_calcOffsetFromPosition:function(t){var e=t-this.state.sliderStart;return this.props.invert&&(e=this.state.sliderLength-e),e-=this.state.handleSize/2},_forceValueFromPosition:function(t,e){var n=this._calcOffsetFromPosition(t),i=this._getClosestIndex(n),r=this._trimAlignValue(this._calcValue(n)),a=this.state.value.slice();a[i]=r;for(var o=0;o<a.length-1;o+=1)if(a[o+1]-a[o]<this.props.minDistance)return;this.setState({value:a},e.bind(this,i))},_getMousePosition:function(t){return[t["page"+this._axisKey()],t["page"+this._orthogonalAxisKey()]]},_getTouchPosition:function(t){var e=t.touches[0];return[e["page"+this._axisKey()],e["page"+this._orthogonalAxisKey()]]},_getMouseEventMap:function(){return{mousemove:this._onMouseMove,mouseup:this._onMouseUp}},_getTouchEventMap:function(){return{touchmove:this._onTouchMove,touchend:this._onTouchEnd}},_createOnMouseDown:function(t){return function(n){if(!this.props.disabled){var i=this._getMousePosition(n);this._start(t,i[0]),this._addHandlers(this._getMouseEventMap()),e(n)}}.bind(this)},_createOnTouchStart:function(t){return function(e){if(!(this.props.disabled||e.touches.length>1)){var i=this._getTouchPosition(e);this.startPosition=i,this.isScrolling=void 0,this._start(t,i[0]),this._addHandlers(this._getTouchEventMap()),n(e)}}.bind(this)},_addHandlers:function(t){for(var e in t)document.addEventListener(e,t[e],!1)},_removeHandlers:function(t){for(var e in t)document.removeEventListener(e,t[e],!1)},_start:function(t,e){document.activeElement&&document.activeElement!=document.body&&document.activeElement.blur(),this.hasMoved=!1,this._fireChangeEvent("onBeforeChange");var n=this.state.zIndices;n.splice(n.indexOf(t),1),n.push(t),this.setState({startValue:this.state.value[t],startPosition:e,index:t,zIndices:n})},_onMouseUp:function(){this._onEnd(this._getMouseEventMap())},_onTouchEnd:function(){this._onEnd(this._getTouchEventMap())},_onEnd:function(t){this._removeHandlers(t),this.setState({index:-1},this._fireChangeEvent.bind(this,"onAfterChange"))},_onMouseMove:function(t){var e=this._getMousePosition(t);this._move(e[0])},_onTouchMove:function(t){if(!(t.touches.length>1)){var n=this._getTouchPosition(t);if("undefined"==typeof this.isScrolling){var i=n[0]-this.startPosition[0],r=n[1]-this.startPosition[1];this.isScrolling=Math.abs(r)>Math.abs(i)}if(this.isScrolling)return void this.setState({index:-1});e(t),this._move(n[0])}},_move:function(t){this.hasMoved=!0;var e=this.props,n=this.state,i=n.index,r=n.value,a=r.length,o=r[i],s=t-n.startPosition;e.invert&&(s*=-1);var u=s/(n.sliderLength-n.handleSize)*(e.max-e.min),c=this._trimAlignValue(n.startValue+u),l=e.minDistance;if(!e.pearling){if(i>0){var h=r[i-1];h+l>c&&(c=h+l)}if(a-1>i){var p=r[i+1];c>p-l&&(c=p-l)}}r[i]=c,e.pearling&&a>1&&(c>o?(this._pushSucceeding(r,l,i),this._trimSucceeding(a,r,l,e.max)):o>c&&(this._pushPreceding(r,l,i),this._trimPreceding(a,r,l,e.min))),c!==o&&this.setState({value:r},this._fireChangeEvent.bind(this,"onChange"))},_pushSucceeding:function(t,e,n){var i,r;for(i=n,r=t[i]+e;null!=t[i+1]&&r>t[i+1];i++,r=t[i]+e)t[i+1]=this._alignValue(r)},_trimSucceeding:function(t,e,n,i){for(var r=0;t>r;r++){var a=i-r*n;e[t-1-r]>a&&(e[t-1-r]=a)}},_pushPreceding:function(t,e,n){var i,r;for(i=n,r=t[i]-e;null!=t[i-1]&&r<t[i-1];i--,r=t[i]-e)t[i-1]=this._alignValue(r)},_trimPreceding:function(t,e,n,i){for(var r=0;t>r;r++){var a=i+r*n;e[r]<a&&(e[r]=a)}},_axisKey:function(){var t=this.props.orientation;return"horizontal"===t?"X":"vertical"===t?"Y":void 0},_orthogonalAxisKey:function(){var t=this.props.orientation;return"horizontal"===t?"Y":"vertical"===t?"X":void 0},_posMinKey:function(){var t=this.props.orientation;return"horizontal"===t?this.props.invert?"right":"left":"vertical"===t?this.props.invert?"bottom":"top":void 0},_posMaxKey:function(){var t=this.props.orientation;return"horizontal"===t?this.props.invert?"left":"right":"vertical"===t?this.props.invert?"top":"bottom":void 0},_sizeKey:function(){var t=this.props.orientation;return"horizontal"===t?"clientWidth":"vertical"===t?"clientHeight":void 0},_trimAlignValue:function(t,e){return this._alignValue(this._trimValue(t,e),e)},_trimValue:function(t,e){return e=e||this.props,t<=e.min&&(t=e.min),t>=e.max&&(t=e.max),t},_alignValue:function(t,e){e=e||this.props;var n=(t-e.min)%e.step,i=t-n;return 2*Math.abs(n)>=e.step&&(i+=n>0?e.step:-e.step),parseFloat(i.toFixed(5))},_renderHandle:function(e,n,i){var r=this.props.handleClassName+" "+(this.props.handleClassName+"-"+i)+" "+(this.state.index===i?this.props.handleActiveClassName:"");return t.createElement("div",{ref:"handle"+i,key:"handle"+i,className:r,style:e,onMouseDown:this._createOnMouseDown(i),onTouchStart:this._createOnTouchStart(i)},n)},_renderHandles:function(e){for(var n=e.length,i=this.tempArray,r=0;n>r;r++)i[r]=this._buildHandleStyle(e[r],r);var a=this.tempArray,o=this._renderHandle;if(t.Children.count(this.props.children)>0)t.Children.forEach(this.props.children,function(t,e){a[e]=o(i[e],t,e)});else for(r=0;n>r;r++)a[r]=o(i[r],null,r);return a},_renderBar:function(e,n,i){return t.createElement("div",{key:"bar"+e,ref:"bar"+e,className:this.props.barClassName+" "+this.props.barClassName+"-"+e,style:this._buildBarStyle(n,this.state.upperBound-i)})},_renderBars:function(t){var e=[],n=t.length-1;e.push(this._renderBar(0,0,t[0]));for(var i=0;n>i;i++)e.push(this._renderBar(i+1,t[i],t[i+1]));return e.push(this._renderBar(n+1,t[n],this.state.upperBound)),e},_onSliderMouseDown:function(t){if(!this.props.disabled){if(this.hasMoved=!1,!this.props.snapDragDisabled){var n=this._getMousePosition(t);this._forceValueFromPosition(n[0],function(t){this._fireChangeEvent("onChange"),this._start(t,n[0]),this._addHandlers(this._getMouseEventMap())}.bind(this))}e(t)}},_onSliderClick:function(t){if(!this.props.disabled&&this.props.onSliderClick&&!this.hasMoved){var e=this._getMousePosition(t),n=this._trimAlignValue(this._calcValue(this._calcOffsetFromPosition(e[0])));this.props.onSliderClick(n)}},_fireChangeEvent:function(t){this.props[t]&&this.props[t](a(this.state.value))},render:function(){for(var e=this.state,n=this.props,i=this.tempArray,r=e.value,a=r.length,o=0;a>o;o++)i[o]=this._calcOffset(r[o],o);var s=n.withBars?this._renderBars(i):null,u=this._renderHandles(i);return t.createElement("div",{ref:"slider",style:{position:"relative"},className:n.className+(n.disabled?" disabled":""),onMouseDown:this._onSliderMouseDown,onClick:this._onSliderClick},s,u)}});return o})},{react:346}],174:[function(t,e,n){e.exports=t("./lib/ReactWithAddons")},{"./lib/ReactWithAddons":274}],175:[function(t,e,n){"use strict";var i=t("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};e.exports=r},{"./focusNode":308}],176:[function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function a(t){switch(t){case A.topCompositionStart:return k.compositionStart;case A.topCompositionEnd:return k.compositionEnd;case A.topCompositionUpdate:return k.compositionUpdate}}function o(t,e){return t===A.topKeyDown&&e.keyCode===b}function s(t,e){switch(t){case A.topKeyUp:return-1!==x.indexOf(e.keyCode);case A.topKeyDown:return e.keyCode!==b;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,i){var r,c;if(E?r=a(t):P?s(t,i)&&(r=k.compositionEnd):o(t,i)&&(r=k.compositionStart),!r)return null;T&&(P||r!==k.compositionStart?r===k.compositionEnd&&P&&(c=P.getData()):P=g.getPooled(e));var l=v.getPooled(r,n,i);if(c)l.data=c;else{var h=u(i);null!==h&&(l.data=h)}return f.accumulateTwoPhaseDispatches(l),l}function l(t,e){switch(t){case A.topCompositionEnd:return u(e);case A.topKeyPress:var n=e.which;return n!==M?null:(L=!0,S);case A.topTextInput:var i=e.data;return i===S&&L?null:i;default:return null}}function h(t,e){if(P){if(t===A.topCompositionEnd||s(t,e)){var n=P.getData();return g.release(P),P=null,n}return null}switch(t){case A.topPaste:return null;case A.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case A.topCompositionEnd:return T?null:e.data;default:return null}}function p(t,e,n,i){var r;if(r=C?l(t,i):h(t,i),!r)return null;var a=y.getPooled(k.beforeInput,n,i);return a.data=r,f.accumulateTwoPhaseDispatches(a),a}var d=t("./EventConstants"),f=t("./EventPropagators"),m=t("./ExecutionEnvironment"),g=t("./FallbackCompositionState"),v=t("./SyntheticCompositionEvent"),y=t("./SyntheticInputEvent"),_=t("./keyOf"),x=[9,13,27,32],b=229,E=m.canUseDOM&&"CompositionEvent"in window,w=null;m.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!w&&!i(),T=m.canUseDOM&&(!E||w&&w>8&&11>=w),M=32,S=String.fromCharCode(M),A=d.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},L=!1,P=null,N={eventTypes:k,extractEvents:function(t,e,n,i){return[c(t,e,n,i),p(t,e,n,i)]}};e.exports=N},{"./EventConstants":189,"./EventPropagators":194,"./ExecutionEnvironment":195,"./FallbackCompositionState":196,"./SyntheticCompositionEvent":280,"./SyntheticInputEvent":284,"./keyOf":331}],177:[function(t,e,n){var i=t("./invariant"),r={addClass:function(t,e){return i(!/\s/.test(e)),e&&(t.classList?t.classList.add(e):r.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return i(!/\s/.test(e)),e&&(t.classList?t.classList.remove(e):r.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?r.addClass:r.removeClass)(t,e)},hasClass:function(t,e){return i(!/\s/.test(e)),t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}};e.exports=r},{"./invariant":324}],178:[function(t,e,n){"use strict";function i(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){a.forEach(function(e){r[i(e,t)]=r[t]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=s},{}],179:[function(t,e,n){"use strict";var i=t("./CSSProperty"),r=t("./ExecutionEnvironment"),a=(t("./camelizeStyleName"),t("./dangerousStyleValue")),o=t("./hyphenateStyleName"),s=t("./memoizeStringOnly"),u=(t("./warning"),s(function(t){return o(t)})),c="cssFloat";r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(c="styleFloat");var l={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];null!=i&&(e+=u(n)+":",
e+=a(n,i)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=a(r,e[r]);if("float"===r&&(r=c),o)n[r]=o;else{var s=i.shorthandPropertyExpansions[r];if(s)for(var u in s)n[u]="";else n[r]=""}}}};e.exports=l},{"./CSSProperty":178,"./ExecutionEnvironment":195,"./camelizeStyleName":295,"./dangerousStyleValue":302,"./hyphenateStyleName":322,"./memoizeStringOnly":333,"./warning":345}],180:[function(t,e,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=t("./PooledClass"),a=t("./Object.assign"),o=t("./invariant");a(i.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){o(t.length===e.length),this._callbacks=null,this._contexts=null;for(var n=0,i=t.length;i>n;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},{"./Object.assign":202,"./PooledClass":203,"./invariant":324}],181:[function(t,e,n){"use strict";function i(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function r(t){var e=w.getPooled(A.change,L,t);x.accumulateTwoPhaseDispatches(e),E.batchedUpdates(a,e)}function a(t){_.enqueueEvents(t),_.processEventQueue()}function o(t,e){k=t,L=e,k.attachEvent("onchange",r)}function s(){k&&(k.detachEvent("onchange",r),k=null,L=null)}function u(t,e,n){return t===S.topChange?n:void 0}function c(t,e,n){t===S.topFocus?(s(),o(e,n)):t===S.topBlur&&s()}function l(t,e){k=t,L=e,P=t.value,N=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(k,"value",I),k.attachEvent("onpropertychange",p)}function h(){k&&(delete k.value,k.detachEvent("onpropertychange",p),k=null,L=null,P=null,N=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==P&&(P=e,r(t))}}function d(t,e,n){return t===S.topInput?n:void 0}function f(t,e,n){t===S.topFocus?(h(),l(e,n)):t===S.topBlur&&h()}function m(t,e,n){return t!==S.topSelectionChange&&t!==S.topKeyUp&&t!==S.topKeyDown||!k||k.value===P?void 0:(P=k.value,L)}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===S.topClick?n:void 0}var y=t("./EventConstants"),_=t("./EventPluginHub"),x=t("./EventPropagators"),b=t("./ExecutionEnvironment"),E=t("./ReactUpdates"),w=t("./SyntheticEvent"),C=t("./isEventSupported"),T=t("./isTextInputElement"),M=t("./keyOf"),S=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},k=null,L=null,P=null,N=null,D=!1;b.canUseDOM&&(D=C("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;b.canUseDOM&&(R=C("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return N.get.call(this)},set:function(t){P=""+t,N.set.call(this,t)}},O={eventTypes:A,extractEvents:function(t,e,n,r){var a,o;if(i(e)?D?a=u:o=c:T(e)?R?a=d:(a=m,o=f):g(e)&&(a=v),a){var s=a(t,e,n);if(s){var l=w.getPooled(A.change,s,r);return x.accumulateTwoPhaseDispatches(l),l}}o&&o(t,e,n)}};e.exports=O},{"./EventConstants":189,"./EventPluginHub":191,"./EventPropagators":194,"./ExecutionEnvironment":195,"./ReactUpdates":273,"./SyntheticEvent":282,"./isEventSupported":325,"./isTextInputElement":327,"./keyOf":331}],182:[function(t,e,n){"use strict";var i=0,r={createReactRootIndex:function(){return i++}};e.exports=r},{}],183:[function(t,e,n){"use strict";function i(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var r=t("./Danger"),a=t("./ReactMultiChildUpdateTypes"),o=t("./setTextContent"),s=t("./invariant"),u={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:o,processUpdates:function(t,e){for(var n,u=null,c=null,l=0;l<t.length;l++)if(n=t[l],n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var h=n.fromIndex,p=n.parentNode.childNodes[h],d=n.parentID;s(p),u=u||{},u[d]=u[d]||[],u[d][h]=p,c=c||[],c.push(p)}var f=r.dangerouslyRenderMarkup(e);if(c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<t.length;g++)switch(n=t[g],n.type){case a.INSERT_MARKUP:i(n.parentNode,f[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:i(n.parentNode,u[n.parentID][n.fromIndex],n.toIndex);break;case a.TEXT_CONTENT:o(n.parentNode,n.textContent);break;case a.REMOVE_NODE:}}};e.exports=u},{"./Danger":186,"./ReactMultiChildUpdateTypes":252,"./invariant":324,"./setTextContent":339}],184:[function(t,e,n){"use strict";function i(t,e){return(t&e)===e}var r=t("./invariant"),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=t.Properties||{},n=t.DOMAttributeNames||{},o=t.DOMPropertyNames||{},u=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var c in e){r(!s.isStandardName.hasOwnProperty(c)),s.isStandardName[c]=!0;var l=c.toLowerCase();if(s.getPossibleStandardName[l]=c,n.hasOwnProperty(c)){var h=n[c];s.getPossibleStandardName[h]=c,s.getAttributeName[c]=h}else s.getAttributeName[c]=l;s.getPropertyName[c]=o.hasOwnProperty(c)?o[c]:c,u.hasOwnProperty(c)?s.getMutationMethod[c]=u[c]:s.getMutationMethod[c]=null;var p=e[c];s.mustUseAttribute[c]=i(p,a.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=i(p,a.MUST_USE_PROPERTY),s.hasSideEffects[c]=i(p,a.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=i(p,a.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=i(p,a.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=i(p,a.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=i(p,a.HAS_OVERLOADED_BOOLEAN_VALUE),r(!s.mustUseAttribute[c]||!s.mustUseProperty[c]),r(s.mustUseProperty[c]||!s.hasSideEffects[c]),r(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1)}}},o={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,i=o[t];return i||(o[t]=i={}),e in i||(n=document.createElement(t),i[e]=n[e]),i[e]},injection:a};e.exports=s},{"./invariant":324}],185:[function(t,e,n){"use strict";function i(t,e){return null==e||r.hasBooleanValue[t]&&!e||r.hasNumericValue[t]&&isNaN(e)||r.hasPositiveNumericValue[t]&&1>e||r.hasOverloadedBooleanValue[t]&&e===!1}var r=t("./DOMProperty"),a=t("./quoteAttributeValueForBrowser"),o=(t("./warning"),{createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+"="+a(t)},createMarkupForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){if(i(t,e))return"";var n=r.getAttributeName[t];return r.hasBooleanValue[t]||r.hasOverloadedBooleanValue[t]&&e===!0?n:n+"="+a(e)}return r.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},setValueForProperty:function(t,e,n){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var a=r.getMutationMethod[e];if(a)a(t,n);else if(i(e,n))this.deleteValueForProperty(t,e);else if(r.mustUseAttribute[e])t.setAttribute(r.getAttributeName[e],""+n);else{var o=r.getPropertyName[e];r.hasSideEffects[e]&&""+t[o]==""+n||(t[o]=n)}}else r.isCustomAttribute(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var n=r.getMutationMethod[e];if(n)n(t,void 0);else if(r.mustUseAttribute[e])t.removeAttribute(r.getAttributeName[e]);else{var i=r.getPropertyName[e],a=r.getDefaultValueForProperty(t.nodeName,i);r.hasSideEffects[e]&&""+t[i]===a||(t[i]=a)}}else r.isCustomAttribute(e)&&t.removeAttribute(e)}});e.exports=o},{"./DOMProperty":184,"./quoteAttributeValueForBrowser":337,"./warning":345}],186:[function(t,e,n){"use strict";function i(t){return t.substring(1,t.indexOf(" "))}var r=t("./ExecutionEnvironment"),a=t("./createNodesFromMarkup"),o=t("./emptyFunction"),s=t("./getMarkupWrap"),u=t("./invariant"),c=/^(<[^ \/>]+)/,l="data-danger-index",h={dangerouslyRenderMarkup:function(t){u(r.canUseDOM);for(var e,n={},h=0;h<t.length;h++)u(t[h]),e=i(t[h]),e=s(e)?e:"*",n[e]=n[e]||[],n[e][h]=t[h];var p=[],d=0;for(e in n)if(n.hasOwnProperty(e)){var f,m=n[e];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(c,"$1 "+l+'="'+f+'" ')}for(var v=a(m.join(""),o),y=0;y<v.length;++y){var _=v[y];_.hasAttribute&&_.hasAttribute(l)&&(f=+_.getAttribute(l),_.removeAttribute(l),u(!p.hasOwnProperty(f)),p[f]=_,d+=1)}}return u(d===p.length),u(p.length===t.length),p},dangerouslyReplaceNodeWithMarkup:function(t,e){u(r.canUseDOM),u(e),u("html"!==t.tagName.toLowerCase());var n=a(e,o)[0];t.parentNode.replaceChild(n,t)}};e.exports=h},{"./ExecutionEnvironment":195,"./createNodesFromMarkup":300,"./emptyFunction":303,"./getMarkupWrap":316,"./invariant":324}],187:[function(t,e,n){"use strict";var i=t("./keyOf"),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];e.exports=r},{"./keyOf":331}],188:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./EventPropagators"),a=t("./SyntheticMouseEvent"),o=t("./ReactMount"),s=t("./keyOf"),u=i.topLevelTypes,c=o.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},h=[null,null],p={eventTypes:l,extractEvents:function(t,e,n,i){if(t===u.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var s;if(e.window===e)s=e;else{var p=e.ownerDocument;s=p?p.defaultView||p.parentWindow:window}var d,f;if(t===u.topMouseOut?(d=e,f=c(i.relatedTarget||i.toElement)||s):(d=s,f=e),d===f)return null;var m=d?o.getID(d):"",g=f?o.getID(f):"",v=a.getPooled(l.mouseLeave,m,i);v.type="mouseleave",v.target=d,v.relatedTarget=f;var y=a.getPooled(l.mouseEnter,g,i);return y.type="mouseenter",y.target=f,y.relatedTarget=d,r.accumulateEnterLeaveDispatches(v,y,m,g),h[0]=v,h[1]=y,h}};e.exports=p},{"./EventConstants":189,"./EventPropagators":194,"./ReactMount":250,"./SyntheticMouseEvent":286,"./keyOf":331}],189:[function(t,e,n){"use strict";var i=t("./keyMirror"),r=i({bubbled:null,captured:null}),a=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:a,PropagationPhases:r};e.exports=o},{"./keyMirror":330}],190:[function(t,e,n){var i=t("./emptyFunction"),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=r},{"./emptyFunction":303}],191:[function(t,e,n){"use strict";var i=t("./EventPluginRegistry"),r=t("./EventPluginUtils"),a=t("./accumulateInto"),o=t("./forEachAccumulated"),s=t("./invariant"),u={},c=null,l=function(t){if(t){var e=r.executeDispatch,n=i.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},h=null,p={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){h=t},getInstanceHandle:function(){return h},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,e,n){s(!n||"function"==typeof n);var i=u[e]||(u[e]={});i[t]=n},getListener:function(t,e){var n=u[e];return n&&n[t]},deleteListener:function(t,e){var n=u[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in u)delete u[e][t]},extractEvents:function(t,e,n,r){for(var o,s=i.plugins,u=0,c=s.length;c>u;u++){var l=s[u];if(l){var h=l.extractEvents(t,e,n,r);h&&(o=a(o,h))}}return o},enqueueEvents:function(t){t&&(c=a(c,t))},processEventQueue:function(){var t=c;c=null,o(t,l),s(!c)},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=p},{"./EventPluginRegistry":192,"./EventPluginUtils":193,"./accumulateInto":292,"./forEachAccumulated":309,"./invariant":324}],192:[function(t,e,n){"use strict";function i(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(o(n>-1),!c.plugins[n]){o(e.extractEvents),c.plugins[n]=e;var i=e.eventTypes;for(var a in i)o(r(i[a],e,a))}}}function r(t,e,n){o(!c.eventNameDispatchConfigs.hasOwnProperty(n)),c.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];a(s,e,n)}return!0}return t.registrationName?(a(t.registrationName,e,n),!0):!1}function a(t,e,n){o(!c.registrationNameModules[t]),c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var o=t("./invariant"),s=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){o(!s),s=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];u.hasOwnProperty(n)&&u[n]===r||(o(!u[n]),u[n]=r,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var i=c.registrationNameModules[e.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=c.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=c},{"./invariant":324}],193:[function(t,e,n){"use strict";function i(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function r(t){return t===g.topMouseMove||t===g.topTouchMove}function a(t){return t===g.topMouseDown||t===g.topTouchStart}function o(t,e){var n=t._dispatchListeners,i=t._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)e(t,n[r],i[r]);else n&&e(t,n,i)}function s(t,e,n){t.currentTarget=m.Mount.getNode(n);var i=e(t,n);return t.currentTarget=null,i}function u(t,e){o(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var i=0;i<e.length&&!t.isPropagationStopped();i++)if(e[i](t,n[i]))return n[i]}else if(e&&e(t,n))return n;return null}function l(t){var e=c(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function h(t){var e=t._dispatchListeners,n=t._dispatchIDs;f(!Array.isArray(e));var i=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,i}function p(t){return!!t._dispatchListeners}var d=t("./EventConstants"),f=t("./invariant"),m={Mount:null,injectMount:function(t){m.Mount=t}},g=d.topLevelTypes,v={isEndish:i,isMoveish:r,isStartish:a,executeDirectDispatch:h,executeDispatch:s,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,injection:m,useTouchEvents:!1};e.exports=v},{"./EventConstants":189,"./invariant":324}],194:[function(t,e,n){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return g(t,i)}function r(t,e,n){var r=e?m.bubbled:m.captured,a=i(t,n,r);a&&(n._dispatchListeners=d(n._dispatchListeners,a),n._dispatchIDs=d(n._dispatchIDs,t))}function a(t){t&&t.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function o(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(t,i);r&&(n._dispatchListeners=d(n._dispatchListeners,r),n._dispatchIDs=d(n._dispatchIDs,t))}}function s(t){t&&t.dispatchConfig.registrationName&&o(t.dispatchMarker,null,t)}function u(t){f(t,a)}function c(t,e,n,i){p.injection.getInstanceHandle().traverseEnterLeave(n,i,o,t,e)}function l(t){f(t,s)}var h=t("./EventConstants"),p=t("./EventPluginHub"),d=t("./accumulateInto"),f=t("./forEachAccumulated"),m=h.PropagationPhases,g=p.getListener,v={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:c};e.exports=v},{"./EventConstants":189,"./EventPluginHub":191,"./accumulateInto":292,"./forEachAccumulated":309}],195:[function(t,e,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=r},{}],196:[function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=t("./PooledClass"),a=t("./Object.assign"),o=t("./getTextContentAccessor");a(i.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),a=r.length;for(t=0;i>t&&n[t]===r[t];t++);var o=i-t;for(e=1;o>=e&&n[i-e]===r[a-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},{"./Object.assign":202,"./PooledClass":203,"./getTextContentAccessor":319}],197:[function(t,e,n){"use strict";var i,r=t("./DOMProperty"),a=t("./ExecutionEnvironment"),o=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,u=r.injection.HAS_BOOLEAN_VALUE,c=r.injection.HAS_SIDE_EFFECTS,l=r.injection.HAS_NUMERIC_VALUE,h=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(a.canUseDOM){var d=document.implementation;i=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|u,allowTransparency:o,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:o,checked:s|u,classID:o,className:i?o:s,cols:o|h,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:o,defer:u,dir:null,disabled:o|u,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:u,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:o,loop:s|u,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:s|u,muted:s|u,name:null,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,role:o,rows:o|h,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:o|u,selected:s|u,shape:null,size:o|h,sizes:o,span:h,spellCheck:null,src:null,srcDoc:s,srcSet:o,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|u,itemType:o,itemID:o,itemRef:o,property:null,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},{"./DOMProperty":184,"./ExecutionEnvironment":195}],198:[function(t,e,n){"use strict";var i=t("./ReactLink"),r=t("./ReactStateSetters"),a={linkState:function(t){return new i(this.state[t],r.createStateKeySetter(this,t))}};e.exports=a},{"./ReactLink":248,"./ReactStateSetters":267}],199:[function(t,e,n){"use strict";function i(t){c(null==t.props.checkedLink||null==t.props.valueLink)}function r(t){i(t),c(null==t.props.value&&null==t.props.onChange)}function a(t){i(t),c(null==t.props.checked&&null==t.props.onChange)}function o(t){this.props.valueLink.requestChange(t.target.value)}function s(t){this.props.checkedLink.requestChange(t.target.checked)}var u=t("./ReactPropTypes"),c=t("./invariant"),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func}},getValue:function(t){return t.props.valueLink?(r(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(a(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(r(t),o):t.props.checkedLink?(a(t),s):t.props.onChange}};e.exports=h},{"./ReactPropTypes":259,"./invariant":324}],200:[function(t,e,n){"use strict";function i(t){t.remove()}var r=t("./ReactBrowserEventEmitter"),a=t("./accumulateInto"),o=t("./forEachAccumulated"),s=t("./invariant"),u={trapBubbledEvent:function(t,e){s(this.isMounted());var n=this.getDOMNode();s(n);var i=r.trapBubbledEvent(t,e,n);this._localEventListeners=a(this._localEventListeners,i)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,i)}};e.exports=u},{"./ReactBrowserEventEmitter":206,"./accumulateInto":292,"./forEachAccumulated":309,"./invariant":324}],201:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./emptyFunction"),a=i.topLevelTypes,o={eventTypes:null,extractEvents:function(t,e,n,i){if(t===a.topTouchStart){var o=i.target;o&&!o.onclick&&(o.onclick=r)}}};e.exports=o},{"./EventConstants":189,"./emptyFunction":303}],202:[function(t,e,n){"use strict";function i(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),i=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a){var o=Object(a);for(var s in o)i.call(o,s)&&(n[s]=o[s])}}return n}e.exports=i},{}],203:[function(t,e,n){"use strict";var i=t("./invariant"),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},a=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},o=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},s=function(t,e,n,i,r){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();return a.call(o,t,e,n,i,r),o}return new a(t,e,n,i,r)},u=function(t){var e=this;i(t instanceof e),t.destructor&&t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,l=r,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||l,n.poolSize||(n.poolSize=c),n.release=u,n},p={addPoolingTo:h,oneArgumentPooler:r,twoArgumentPooler:a,threeArgumentPooler:o,fiveArgumentPooler:s};e.exports=p},{"./invariant":324}],204:[function(t,e,n){"use strict";var i=t("./EventPluginUtils"),r=t("./ReactChildren"),a=t("./ReactComponent"),o=t("./ReactClass"),s=t("./ReactContext"),u=t("./ReactCurrentOwner"),c=t("./ReactElement"),l=(t("./ReactElementValidator"),t("./ReactDOM")),h=t("./ReactDOMTextComponent"),p=t("./ReactDefaultInjection"),d=t("./ReactInstanceHandles"),f=t("./ReactMount"),m=t("./ReactPerf"),g=t("./ReactPropTypes"),v=t("./ReactReconciler"),y=t("./ReactServerRendering"),_=t("./Object.assign"),x=t("./findDOMNode"),b=t("./onlyChild");p.inject();var E=c.createElement,w=c.createFactory,C=c.cloneElement,T=m.measure("React","render",f.render),M={Children:{map:r.map,forEach:r.forEach,count:r.count,only:b},Component:a,DOM:l,PropTypes:g,initializeTouchEvents:function(t){i.useTouchEvents=t},createClass:o.createClass,createElement:E,cloneElement:C,createFactory:w,createMixin:function(t){return t},constructAndRenderComponent:f.constructAndRenderComponent,constructAndRenderComponentByID:f.constructAndRenderComponentByID,findDOMNode:x,render:T,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:f.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:s.withContext,__spread:_};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:d,Mount:f,Reconciler:v,TextComponent:h});M.version="0.13.3",e.exports=M},{"./EventPluginUtils":193,"./ExecutionEnvironment":195,"./Object.assign":202,"./ReactChildren":210,"./ReactClass":211,"./ReactComponent":212,"./ReactContext":217,"./ReactCurrentOwner":218,"./ReactDOM":219,"./ReactDOMTextComponent":230,"./ReactDefaultInjection":233,"./ReactElement":236,"./ReactElementValidator":237,"./ReactInstanceHandles":245,"./ReactMount":250,"./ReactPerf":255,"./ReactPropTypes":259,"./ReactReconciler":262,"./ReactServerRendering":265,"./findDOMNode":306,"./onlyChild":334}],205:[function(t,e,n){"use strict";var i=t("./findDOMNode"),r={getDOMNode:function(){return i(this)}};e.exports=r},{"./findDOMNode":306}],206:[function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=d++,h[t[m]]={}),h[t[m]]}var r=t("./EventConstants"),a=t("./EventPluginHub"),o=t("./EventPluginRegistry"),s=t("./ReactEventEmitterMixin"),u=t("./ViewportMetrics"),c=t("./Object.assign"),l=t("./isEventSupported"),h={},p=!1,d=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,a=i(n),s=o.registrationNameDependencies[t],u=r.topLevelTypes,c=0,h=s.length;h>c;c++){var p=s[c];a.hasOwnProperty(p)&&a[p]||(p===u.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):p===u.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===u.topFocus||p===u.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),a[u.topBlur]=!0,a[u.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],n),a[p]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:a.eventNameDispatchConfigs,registrationNameModules:a.registrationNameModules,putListener:a.putListener,getListener:a.getListener,deleteListener:a.deleteListener,deleteAllListeners:a.deleteAllListeners});e.exports=g},{"./EventConstants":189,"./EventPluginHub":191,"./EventPluginRegistry":192,"./Object.assign":202,"./ReactEventEmitterMixin":240,"./ViewportMetrics":291,"./isEventSupported":325}],207:[function(t,e,n){"use strict";var i=t("./React"),r=t("./Object.assign"),a=i.createFactory(t("./ReactTransitionGroup")),o=i.createFactory(t("./ReactCSSTransitionGroupChild")),s=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:i.PropTypes.string.isRequired,transitionAppear:i.PropTypes.bool,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return o({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},t)},render:function(){return a(r({},this.props,{childFactory:this._wrapChild}))}});e.exports=s},{"./Object.assign":202,"./React":204,"./ReactCSSTransitionGroupChild":208,"./ReactTransitionGroup":271}],208:[function(t,e,n){"use strict";var i=t("./React"),r=t("./CSSCore"),a=t("./ReactTransitionEvents"),o=t("./onlyChild"),s=(t("./warning"),17),u=i.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(t,e){var n=this.getDOMNode(),i=this.props.name+"-"+t,o=i+"-active",s=function(t){t&&t.target!==n||(r.removeClass(n,i),r.removeClass(n,o),a.removeEndEventListener(n,s),e&&e())};a.addEndEventListener(n,s),r.addClass(n,i),this.queueClass(o)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,s))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){
this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(t){this.props.appear?this.transition("appear",t):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t):t()},render:function(){return o(this.props.children)}});e.exports=u},{"./CSSCore":177,"./React":204,"./ReactTransitionEvents":270,"./onlyChild":334,"./warning":345}],209:[function(t,e,n){"use strict";var i=t("./ReactReconciler"),r=t("./flattenChildren"),a=t("./instantiateReactComponent"),o=t("./shouldUpdateReactComponent"),s={instantiateChildren:function(t,e,n){var i=r(t);for(var o in i)if(i.hasOwnProperty(o)){var s=i[o],u=a(s,null);i[o]=u}return i},updateChildren:function(t,e,n,s){var u=r(e);if(!u&&!t)return null;var c;for(c in u)if(u.hasOwnProperty(c)){var l=t&&t[c],h=l&&l._currentElement,p=u[c];if(o(h,p))i.receiveComponent(l,p,n,s),u[c]=l;else{l&&i.unmountComponent(l,c);var d=a(p,null);u[c]=d}}for(c in t)!t.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||i.unmountComponent(t[c]);return u},unmountChildren:function(t){for(var e in t){var n=t[e];i.unmountComponent(n)}}};e.exports=s},{"./ReactReconciler":262,"./flattenChildren":307,"./instantiateReactComponent":323,"./shouldUpdateReactComponent":341}],210:[function(t,e,n){"use strict";function i(t,e){this.forEachFunction=t,this.forEachContext=e}function r(t,e,n,i){var r=t;r.forEachFunction.call(r.forEachContext,e,i)}function a(t,e,n){if(null==t)return t;var a=i.getPooled(e,n);d(t,r,a),i.release(a)}function o(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function s(t,e,n,i){var r=t,a=r.mapResult,o=!a.hasOwnProperty(n);if(o){var s=r.mapFunction.call(r.mapContext,e,i);a[n]=s}}function u(t,e,n){if(null==t)return t;var i={},r=o.getPooled(i,e,n);return d(t,s,r),o.release(r),p.create(i)}function c(t,e,n,i){return null}function l(t,e){return d(t,c,null)}var h=t("./PooledClass"),p=t("./ReactFragment"),d=t("./traverseAllChildren"),f=(t("./warning"),h.twoArgumentPooler),m=h.threeArgumentPooler;h.addPoolingTo(i,f),h.addPoolingTo(o,m);var g={forEach:a,map:u,count:l};e.exports=g},{"./PooledClass":203,"./ReactFragment":242,"./traverseAllChildren":343,"./warning":345}],211:[function(t,e,n){"use strict";function i(t,e){var n=C.hasOwnProperty(e)?C[e]:null;M.hasOwnProperty(e)&&y(n===E.OVERRIDE_BASE),t.hasOwnProperty(e)&&y(n===E.DEFINE_MANY||n===E.DEFINE_MANY_MERGED)}function r(t,e){if(e){y("function"!=typeof e),y(!p.isValidElement(e));var n=t.prototype;e.hasOwnProperty(b)&&T.mixins(t,e.mixins);for(var r in e)if(e.hasOwnProperty(r)&&r!==b){var a=e[r];if(i(n,r),T.hasOwnProperty(r))T[r](t,a);else{var o=C.hasOwnProperty(r),c=n.hasOwnProperty(r),l=a&&a.__reactDontBind,h="function"==typeof a,d=h&&!o&&!c&&!l;if(d)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=a,n[r]=a;else if(c){var f=C[r];y(o&&(f===E.DEFINE_MANY_MERGED||f===E.DEFINE_MANY)),f===E.DEFINE_MANY_MERGED?n[r]=s(n[r],a):f===E.DEFINE_MANY&&(n[r]=u(n[r],a))}else n[r]=a}}}}function a(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in T;y(!r);var a=n in t;y(!a),t[n]=i}}}function o(t,e){y(t&&e&&"object"==typeof t&&"object"==typeof e);for(var n in e)e.hasOwnProperty(n)&&(y(void 0===t[n]),t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return o(r,n),o(r,i),r}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var n=e.bind(t);return n}function l(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=c(t,d.guard(n,t.constructor.displayName+"."+e))}}var h=t("./ReactComponent"),p=(t("./ReactCurrentOwner"),t("./ReactElement")),d=t("./ReactErrorUtils"),f=t("./ReactInstanceMap"),m=t("./ReactLifeCycle"),g=(t("./ReactPropTypeLocations"),t("./ReactPropTypeLocationNames"),t("./ReactUpdateQueue")),v=t("./Object.assign"),y=t("./invariant"),_=t("./keyMirror"),x=t("./keyOf"),b=(t("./warning"),x({mixins:null})),E=_({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],C={mixins:E.DEFINE_MANY,statics:E.DEFINE_MANY,propTypes:E.DEFINE_MANY,contextTypes:E.DEFINE_MANY,childContextTypes:E.DEFINE_MANY,getDefaultProps:E.DEFINE_MANY_MERGED,getInitialState:E.DEFINE_MANY_MERGED,getChildContext:E.DEFINE_MANY_MERGED,render:E.DEFINE_ONCE,componentWillMount:E.DEFINE_MANY,componentDidMount:E.DEFINE_MANY,componentWillReceiveProps:E.DEFINE_MANY,shouldComponentUpdate:E.DEFINE_ONCE,componentWillUpdate:E.DEFINE_MANY,componentDidUpdate:E.DEFINE_MANY,componentWillUnmount:E.DEFINE_MANY,updateComponent:E.OVERRIDE_BASE},T={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)r(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=v({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=v({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=v({},t.propTypes,e)},statics:function(t,e){a(t,e)}},M={replaceState:function(t,e){g.enqueueReplaceState(this,t),e&&g.enqueueCallback(this,e)},isMounted:function(){var t=f.get(this);return t&&t!==m.currentlyMountingInstance},setProps:function(t,e){g.enqueueSetProps(this,t),e&&g.enqueueCallback(this,e)},replaceProps:function(t,e){g.enqueueReplaceProps(this,t),e&&g.enqueueCallback(this,e)}},S=function(){};v(S.prototype,h.prototype,M);var A={createClass:function(t){var e=function(t,e){this.__reactAutoBindMap&&l(this),this.props=t,this.context=e,this.state=null;var n=this.getInitialState?this.getInitialState():null;y("object"==typeof n&&!Array.isArray(n)),this.state=n};e.prototype=new S,e.prototype.constructor=e,w.forEach(r.bind(null,e)),r(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),y(e.prototype.render);for(var n in C)e.prototype[n]||(e.prototype[n]=null);return e.type=e,e},injection:{injectMixin:function(t){w.push(t)}}};e.exports=A},{"./Object.assign":202,"./ReactComponent":212,"./ReactCurrentOwner":218,"./ReactElement":236,"./ReactErrorUtils":239,"./ReactInstanceMap":246,"./ReactLifeCycle":247,"./ReactPropTypeLocationNames":257,"./ReactPropTypeLocations":258,"./ReactUpdateQueue":272,"./invariant":324,"./keyMirror":330,"./keyOf":331,"./warning":345}],212:[function(t,e,n){"use strict";function i(t,e){this.props=t,this.context=e}var r=t("./ReactUpdateQueue"),a=t("./invariant");t("./warning");i.prototype.setState=function(t,e){a("object"==typeof t||"function"==typeof t||null==t),r.enqueueSetState(this,t),e&&r.enqueueCallback(this,e)},i.prototype.forceUpdate=function(t){r.enqueueForceUpdate(this),t&&r.enqueueCallback(this,t)};e.exports=i},{"./ReactUpdateQueue":272,"./invariant":324,"./warning":345}],213:[function(t,e,n){"use strict";var i=t("./ReactDOMIDOperations"),r=t("./ReactMount"),a={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};e.exports=a},{"./ReactDOMIDOperations":223,"./ReactMount":250}],214:[function(t,e,n){"use strict";var i=t("./invariant"),r=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i(!r),a.unmountIDFromEnvironment=t.unmountIDFromEnvironment,a.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,a.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};e.exports=a},{"./invariant":324}],215:[function(t,e,n){"use strict";var i=t("./shallowEqual"),r={shouldComponentUpdate:function(t,e){return!i(this.props,t)||!i(this.state,e)}};e.exports=r},{"./shallowEqual":340}],216:[function(t,e,n){"use strict";function i(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var r=t("./ReactComponentEnvironment"),a=t("./ReactContext"),o=t("./ReactCurrentOwner"),s=t("./ReactElement"),u=(t("./ReactElementValidator"),t("./ReactInstanceMap")),c=t("./ReactLifeCycle"),l=t("./ReactNativeComponent"),h=t("./ReactPerf"),p=t("./ReactPropTypeLocations"),d=(t("./ReactPropTypeLocationNames"),t("./ReactReconciler")),f=t("./ReactUpdates"),m=t("./Object.assign"),g=t("./emptyObject"),v=t("./invariant"),y=t("./shouldUpdateReactComponent"),_=(t("./warning"),1),x={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=_++,this._rootNodeID=t;var i=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),a=l.getComponentClassForElement(this._currentElement),o=new a(i,r);o.props=i,o.context=r,o.refs=g,this._instance=o,u.set(o,this);var s=o.state;void 0===s&&(o.state=s=null),v("object"==typeof s&&!Array.isArray(s)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var h,p,f=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),h=this._getValidatedChildContext(n),p=this._renderValidatedComponent(h)}finally{c.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(p,this._currentElement.type);var m=d.mountComponent(this._renderedComponent,t,e,this._mergeChildContext(n,h));return o.componentDidMount&&e.getReactMountReady().enqueue(o.componentDidMount,o),m},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{c.currentlyUnmountingInstance=e}}d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,u.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,m({},n.props,t)),f.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return g;var n=this._currentElement.type.contextTypes;if(!n)return g;e={};for(var i in n)e[i]=t[i];return e},_processContext:function(t){var e=this._maskContext(t);return e},_getValidatedChildContext:function(t){var e=this._instance,n=e.getChildContext&&e.getChildContext();if(n){v("object"==typeof e.constructor.childContextTypes);for(var i in n)v(i in e.constructor.childContextTypes);return n}return null},_mergeChildContext:function(t,e){return e?m({},t,e):t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var r=this.getName();for(var a in t)if(t.hasOwnProperty(a)){var o;try{v("function"==typeof t[a]),o=t[a](e,a,r,n)}catch(s){o=s}if(o instanceof Error){i(this);n===p.prop}}},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(t,e){t=this._maskContext(t),e=this._maskContext(e);for(var n=Object.keys(e).sort(),i=(this.getName()||"ReactCompositeComponent",0);i<n.length;i++){n[i]}},updateComponent:function(t,e,n,i,r){var a=this._instance,o=a.context,s=a.props;e!==n&&(o=this._processContext(n._context),s=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(s,o));var u=this._processPendingState(s,o),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(s,u,o);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,s,u,o,t,r)):(this._currentElement=n,this._context=r,a.props=s,a.state=u,a.context=o)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var a=m({},r?i[0]:n.state),o=r?1:0;o<i.length;o++){var s=i[o];m(a,"function"==typeof s?s.call(n,a,t,e):s)}return a},_performComponentUpdate:function(t,e,n,i,r,a){var o=this._instance,s=o.props,u=o.state,c=o.context;o.componentWillUpdate&&o.componentWillUpdate(e,n,i),this._currentElement=t,this._context=a,o.props=e,o.state=n,o.context=i,this._updateRenderedComponent(r,a),o.componentDidUpdate&&r.getReactMountReady().enqueue(o.componentDidUpdate.bind(o,s,u,c),o)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._getValidatedChildContext(),a=this._renderValidatedComponent(r);if(y(i,a))d.receiveComponent(n,a,t,this._mergeChildContext(e,r));else{var o=this._rootNodeID,s=n._rootNodeID;d.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(a,this._currentElement.type);var u=d.mountComponent(this._renderedComponent,o,t,this._mergeChildContext(e,r));this._replaceNodeWithMarkupByID(s,u)}},_replaceNodeWithMarkupByID:function(t,e){r.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(t){var e,n=a.current;a.current=this._mergeChildContext(this._currentElement._context,t),o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=n,o.current=null}return v(null===e||e===!1||s.isValidElement(e)),e},attachRef:function(t,e){var n=this.getPublicInstance(),i=n.refs===g?n.refs={}:n.refs;i[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};h.measureMethods(x,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:x};e.exports=b},{"./Object.assign":202,"./ReactComponentEnvironment":214,"./ReactContext":217,"./ReactCurrentOwner":218,"./ReactElement":236,"./ReactElementValidator":237,"./ReactInstanceMap":246,"./ReactLifeCycle":247,"./ReactNativeComponent":253,"./ReactPerf":255,"./ReactPropTypeLocationNames":257,"./ReactPropTypeLocations":258,"./ReactReconciler":262,"./ReactUpdates":273,"./emptyObject":304,"./invariant":324,"./shouldUpdateReactComponent":341,"./warning":345}],217:[function(t,e,n){"use strict";var i=t("./Object.assign"),r=t("./emptyObject"),a=(t("./warning"),{current:r,withContext:function(t,e){var n,r=a.current;a.current=i({},r,t);try{n=e()}finally{a.current=r}return n}});e.exports=a},{"./Object.assign":202,"./emptyObject":304,"./warning":345}],218:[function(t,e,n){"use strict";var i={current:null};e.exports=i},{}],219:[function(t,e,n){"use strict";function i(t){return r.createFactory(t)}var r=t("./ReactElement"),a=(t("./ReactElementValidator"),t("./mapObject")),o=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);e.exports=o},{"./ReactElement":236,"./ReactElementValidator":237,"./mapObject":332}],220:[function(t,e,n){"use strict";var i=t("./AutoFocusMixin"),r=t("./ReactBrowserComponentMixin"),a=t("./ReactClass"),o=t("./ReactElement"),s=t("./keyMirror"),u=o.createFactory("button"),c=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=a.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[i,r],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&c[e]||(t[e]=this.props[e]);return u(t,this.props.children)}});e.exports=l},{"./AutoFocusMixin":175,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236,"./keyMirror":330}],221:[function(t,e,n){"use strict";function i(t){t&&(null!=t.dangerouslySetInnerHTML&&(v(null==t.children),v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML)),v(null==t.style||"object"==typeof t.style))}function r(t,e,n,i){var r=p.findReactContainerForID(t);if(r){var a=r.nodeType===C?r.ownerDocument:r;x(e,a)}i.getPutListenerQueue().enqueuePutListener(t,e,n)}function a(t){k.call(A,t)||(v(S.test(t)),A[t]=!0)}function o(t){a(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=t("./CSSPropertyOperations"),u=t("./DOMProperty"),c=t("./DOMPropertyOperations"),l=t("./ReactBrowserEventEmitter"),h=t("./ReactComponentBrowserEnvironment"),p=t("./ReactMount"),d=t("./ReactMultiChild"),f=t("./ReactPerf"),m=t("./Object.assign"),g=t("./escapeTextContentForBrowser"),v=t("./invariant"),y=(t("./isEventSupported"),t("./keyOf")),_=(t("./warning"),l.deleteListener),x=l.listenTo,b=l.registrationNameModules,E={string:!0,number:!0},w=y({style:null}),C=1,T=null,M={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,A={},k={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,i(this._currentElement.props);var r=M[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+r},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if(null!=a)if(b.hasOwnProperty(i))r(this._rootNodeID,i,a,t);else{i===w&&(a&&(a=this._previousStyleCopy=m({},e.style)),a=s.createMarkupForStyles(a));var o=c.createMarkupForProperty(i,a);o&&(n+=" "+o)}}if(t.renderToStaticMarkup)return n+">";var u=c.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(t,e){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var i=this._currentElement.props,r=i.dangerouslySetInnerHTML;if(null!=r){if(null!=r.__html)return n+r.__html}else{var a=E[typeof i.children]?i.children:null,o=null!=a?null:i.children;if(null!=a)return n+g(a);if(null!=o){var s=this.mountChildren(o,t,e);return n+s.join("")}}return n},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,r){i(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,r)},_updateDOMProperties:function(t,e){var n,i,a,o=this._currentElement.props;for(n in t)if(!o.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===w){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else b.hasOwnProperty(n)?_(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&T.deletePropertyByID(this._rootNodeID,n);for(n in o){var c=o[n],l=n===w?this._previousStyleCopy:t[n];if(o.hasOwnProperty(n)&&c!==l)if(n===w)if(c?c=this._previousStyleCopy=m({},c):this._previousStyleCopy=null,l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(a=a||{},a[i]=c[i])}else a=c;else b.hasOwnProperty(n)?r(this._rootNodeID,n,c,e):(u.isStandardName[n]||u.isCustomAttribute(n))&&T.updatePropertyByID(this._rootNodeID,n,c)}a&&T.updateStylesByID(this._rootNodeID,a)},_updateDOMChildren:function(t,e,n){var i=this._currentElement.props,r=E[typeof t.children]?t.children:null,a=E[typeof i.children]?i.children:null,o=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,u=null!=r?null:t.children,c=null!=a?null:i.children,l=null!=r||null!=o,h=null!=a||null!=s;null!=u&&null==c?this.updateChildren(null,e,n):l&&!h&&this.updateTextContent(""),null!=a?r!==a&&this.updateTextContent(""+a):null!=s?o!==s&&T.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,e,n)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),h.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(o,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(o.prototype,o.Mixin,d.Mixin),o.injection={injectIDOperations:function(t){o.BackendIDOperations=T=t}},e.exports=o},{"./CSSPropertyOperations":179,"./DOMProperty":184,"./DOMPropertyOperations":185,"./Object.assign":202,"./ReactBrowserEventEmitter":206,"./ReactComponentBrowserEnvironment":213,"./ReactMount":250,"./ReactMultiChild":251,"./ReactPerf":255,"./escapeTextContentForBrowser":305,"./invariant":324,"./isEventSupported":325,"./keyOf":331,"./warning":345}],222:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),a=t("./ReactBrowserComponentMixin"),o=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("form"),c=o.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[a,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});e.exports=c},{"./EventConstants":189,"./LocalEventTrapMixin":200,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236}],223:[function(t,e,n){"use strict";var i=t("./CSSPropertyOperations"),r=t("./DOMChildrenOperations"),a=t("./DOMPropertyOperations"),o=t("./ReactMount"),s=t("./ReactPerf"),u=t("./invariant"),c=t("./setInnerHTML"),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(t,e,n){var i=o.getNode(t);u(!l.hasOwnProperty(e)),null!=n?a.setValueForProperty(i,e,n):a.deleteValueForProperty(i,e)},deletePropertyByID:function(t,e,n){var i=o.getNode(t);u(!l.hasOwnProperty(e)),a.deleteValueForProperty(i,e,n)},updateStylesByID:function(t,e){var n=o.getNode(t);i.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=o.getNode(t);c(n,e)},updateTextContentByID:function(t,e){var n=o.getNode(t);r.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=o.getNode(t);r.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=o.getNode(t[n].parentID);r.processUpdates(t,e)}};s.measureMethods(h,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=h},{"./CSSPropertyOperations":179,"./DOMChildrenOperations":183,"./DOMPropertyOperations":185,"./ReactMount":250,"./ReactPerf":255,"./invariant":324,"./setInnerHTML":338}],224:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),a=t("./ReactBrowserComponentMixin"),o=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("iframe"),c=o.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[a,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load")}});e.exports=c},{"./EventConstants":189,"./LocalEventTrapMixin":200,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236}],225:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),a=t("./ReactBrowserComponentMixin"),o=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("img"),c=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[a,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});e.exports=c},{"./EventConstants":189,"./LocalEventTrapMixin":200,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236}],226:[function(t,e,n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),a=t("./DOMPropertyOperations"),o=t("./LinkedValueUtils"),s=t("./ReactBrowserComponentMixin"),u=t("./ReactClass"),c=t("./ReactElement"),l=t("./ReactMount"),h=t("./ReactUpdates"),p=t("./Object.assign"),d=t("./invariant"),f=c.createFactory("input"),m={},g=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[r,o.Mixin,s],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=p({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=o.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=o.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,f(t,this.props.children)},componentDidMount:function(){var t=l.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=l.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var i=this.getDOMNode();null!=this.props.checked&&a.setValueForProperty(i,"checked",this.props.checked||!1);var r=o.getValue(this);null!=r&&a.setValueForProperty(i,"value",""+r)},_handleChange:function(t){var e,n=o.getOnChange(this);n&&(e=n.call(this,t)),h.asap(i,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var a=this.getDOMNode(),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),c=0,p=u.length;p>c;c++){var f=u[c];if(f!==a&&f.form===a.form){var g=l.getID(f);d(g);var v=m[g];d(v),h.asap(i,v)}}}return e}});e.exports=g},{"./AutoFocusMixin":175,"./DOMPropertyOperations":185,"./LinkedValueUtils":199,"./Object.assign":202,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236,"./ReactMount":250,"./ReactUpdates":273,"./invariant":324}],227:[function(t,e,n){"use strict";var i=t("./ReactBrowserComponentMixin"),r=t("./ReactClass"),a=t("./ReactElement"),o=(t("./warning"),a.createFactory("option")),s=r.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[i],componentWillMount:function(){},render:function(){return o(this.props,this.props.children)}});e.exports=s},{"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236,"./warning":345}],228:[function(t,e,n){"use strict";function i(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=s.getValue(this);null!=t&&this.isMounted()&&a(this,t)}}function r(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function a(t,e){var n,i,r,a=t.getDOMNode().options;if(t.props.multiple){for(n={},i=0,r=e.length;r>i;i++)n[""+e[i]]=!0;for(i=0,r=a.length;r>i;i++){var o=n.hasOwnProperty(a[i].value);a[i].selected!==o&&(a[i].selected=o)}}else{for(n=""+e,i=0,r=a.length;r>i;i++)if(a[i].value===n)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}var o=t("./AutoFocusMixin"),s=t("./LinkedValueUtils"),u=t("./ReactBrowserComponentMixin"),c=t("./ReactClass"),l=t("./ReactElement"),h=t("./ReactUpdates"),p=t("./Object.assign"),d=l.createFactory("select"),f=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[o,s.Mixin,u],propTypes:{defaultValue:r,value:r},render:function(){var t=p({},this.props);return t.onChange=this._handleChange,t.value=null,d(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=s.getValue(this);null!=t?a(this,t):null!=this.props.defaultValue&&a(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=s.getValue(this);null!=e?(this._pendingUpdate=!1,a(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?a(this,this.props.defaultValue):a(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,h.asap(i,this),e}});e.exports=f},{"./AutoFocusMixin":175,"./LinkedValueUtils":199,"./Object.assign":202,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236,"./ReactUpdates":273}],229:[function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var a=r.text.length,o=a+i;return{start:a,end:o}}function a(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,a=e.focusNode,o=e.focusOffset,s=e.getRangeAt(0),u=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=u?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(t),l.setEnd(s.startContainer,s.startOffset);var h=i(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p=h?0:l.toString().length,d=p+c,f=document.createRange();f.setStart(n,r),f.setEnd(a,o);var m=f.collapsed;return{start:m?d:p,end:m?p:d}}function o(t,e){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),i=t[l()].length,r=Math.min(e.start,i),a="undefined"==typeof e.end?r:Math.min(e.end,i);if(!n.extend&&r>a){var o=a;a=r,r=o}var s=c(t,r),u=c(t,a);
if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),r>a?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=t("./ExecutionEnvironment"),c=t("./getNodeForCharacterOffset"),l=t("./getTextContentAccessor"),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?r:a,setOffsets:h?o:s};e.exports=p},{"./ExecutionEnvironment":195,"./getNodeForCharacterOffset":317,"./getTextContentAccessor":319}],230:[function(t,e,n){"use strict";var i=t("./DOMPropertyOperations"),r=t("./ReactComponentBrowserEnvironment"),a=t("./ReactDOMComponent"),o=t("./Object.assign"),s=t("./escapeTextContentForBrowser"),u=function(t){};o(u.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var r=s(this._stringText);return e.renderToStaticMarkup?r:"<span "+i.createMarkupForID(t)+">"+r+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,a.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=u},{"./DOMPropertyOperations":185,"./Object.assign":202,"./ReactComponentBrowserEnvironment":213,"./ReactDOMComponent":221,"./escapeTextContentForBrowser":305}],231:[function(t,e,n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),a=t("./DOMPropertyOperations"),o=t("./LinkedValueUtils"),s=t("./ReactBrowserComponentMixin"),u=t("./ReactClass"),c=t("./ReactElement"),l=t("./ReactUpdates"),h=t("./Object.assign"),p=t("./invariant"),d=(t("./warning"),c.createFactory("textarea")),f=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[r,o.Mixin,s],getInitialState:function(){var t=this.props.defaultValue,e=this.props.children;null!=e&&(p(null==t),Array.isArray(e)&&(p(e.length<=1),e=e[0]),t=""+e),null==t&&(t="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:t)}},render:function(){var t=h({},this.props);return p(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,d(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var i=o.getValue(this);if(null!=i){var r=this.getDOMNode();a.setValueForProperty(r,"value",""+i)}},_handleChange:function(t){var e,n=o.getOnChange(this);return n&&(e=n.call(this,t)),l.asap(i,this),e}});e.exports=f},{"./AutoFocusMixin":175,"./DOMPropertyOperations":185,"./LinkedValueUtils":199,"./Object.assign":202,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactElement":236,"./ReactUpdates":273,"./invariant":324,"./warning":345}],232:[function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var r=t("./ReactUpdates"),a=t("./Transaction"),o=t("./Object.assign"),s=t("./emptyFunction"),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:r.flushBatchedUpdates.bind(r)},l=[c,u];o(i.prototype,a.Mixin,{getTransactionWrappers:function(){return l}});var h=new i,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?t(e,n,i,r):h.perform(t,null,e,n,i,r)}};e.exports=p},{"./Object.assign":202,"./ReactUpdates":273,"./Transaction":290,"./emptyFunction":303}],233:[function(t,e,n){"use strict";function i(t){return f.createClass({tagName:t.toUpperCase(),render:function(){return new A(t,null,null,null,null,this.props)}})}function r(){L.EventEmitter.injectReactEventListener(k),L.EventPluginHub.injectEventPluginOrder(u),L.EventPluginHub.injectInstanceHandle(P),L.EventPluginHub.injectMount(N),L.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:O,EnterLeaveEventPlugin:c,ChangeEventPlugin:o,MobileSafariClickEventPlugin:p,SelectEventPlugin:R,BeforeInputEventPlugin:a}),L.NativeComponent.injectGenericComponentClass(v),L.NativeComponent.injectTextComponentClass(S),L.NativeComponent.injectAutoWrapper(i),L.Class.injectMixin(d),L.NativeComponent.injectComponentClasses({button:y,form:_,iframe:E,img:x,input:w,option:C,select:T,textarea:M,html:F("html"),head:F("head"),body:F("body")}),L.DOMProperty.injectDOMPropertyConfig(h),L.DOMProperty.injectDOMPropertyConfig(B),L.EmptyComponent.injectEmptyComponent("noscript"),L.Updates.injectReconcileTransaction(D),L.Updates.injectBatchingStrategy(g),L.RootIndex.injectCreateReactRootIndex(l.canUseDOM?s.createReactRootIndex:I.createReactRootIndex),L.Component.injectEnvironment(m),L.DOMComponent.injectIDOperations(b)}var a=t("./BeforeInputEventPlugin"),o=t("./ChangeEventPlugin"),s=t("./ClientReactRootIndex"),u=t("./DefaultEventPluginOrder"),c=t("./EnterLeaveEventPlugin"),l=t("./ExecutionEnvironment"),h=t("./HTMLDOMPropertyConfig"),p=t("./MobileSafariClickEventPlugin"),d=t("./ReactBrowserComponentMixin"),f=t("./ReactClass"),m=t("./ReactComponentBrowserEnvironment"),g=t("./ReactDefaultBatchingStrategy"),v=t("./ReactDOMComponent"),y=t("./ReactDOMButton"),_=t("./ReactDOMForm"),x=t("./ReactDOMImg"),b=t("./ReactDOMIDOperations"),E=t("./ReactDOMIframe"),w=t("./ReactDOMInput"),C=t("./ReactDOMOption"),T=t("./ReactDOMSelect"),M=t("./ReactDOMTextarea"),S=t("./ReactDOMTextComponent"),A=t("./ReactElement"),k=t("./ReactEventListener"),L=t("./ReactInjection"),P=t("./ReactInstanceHandles"),N=t("./ReactMount"),D=t("./ReactReconcileTransaction"),R=t("./SelectEventPlugin"),I=t("./ServerReactRootIndex"),O=t("./SimpleEventPlugin"),B=t("./SVGDOMPropertyConfig"),F=t("./createFullPageComponent");e.exports={inject:r}},{"./BeforeInputEventPlugin":176,"./ChangeEventPlugin":181,"./ClientReactRootIndex":182,"./DefaultEventPluginOrder":187,"./EnterLeaveEventPlugin":188,"./ExecutionEnvironment":195,"./HTMLDOMPropertyConfig":197,"./MobileSafariClickEventPlugin":201,"./ReactBrowserComponentMixin":205,"./ReactClass":211,"./ReactComponentBrowserEnvironment":213,"./ReactDOMButton":220,"./ReactDOMComponent":221,"./ReactDOMForm":222,"./ReactDOMIDOperations":223,"./ReactDOMIframe":224,"./ReactDOMImg":225,"./ReactDOMInput":226,"./ReactDOMOption":227,"./ReactDOMSelect":228,"./ReactDOMTextComponent":230,"./ReactDOMTextarea":231,"./ReactDefaultBatchingStrategy":232,"./ReactDefaultPerf":234,"./ReactElement":236,"./ReactEventListener":241,"./ReactInjection":243,"./ReactInstanceHandles":245,"./ReactMount":250,"./ReactReconcileTransaction":261,"./SVGDOMPropertyConfig":275,"./SelectEventPlugin":276,"./ServerReactRootIndex":277,"./SimpleEventPlugin":278,"./createFullPageComponent":299}],234:[function(t,e,n){"use strict";function i(t){return Math.floor(100*t)/100}function r(t,e,n){t[e]=(t[e]||0)+n}var a=t("./DOMProperty"),o=t("./ReactDefaultPerfAnalysis"),s=t("./ReactMount"),u=t("./ReactPerf"),c=t("./performanceNow"),l={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){l._injected||u.injection.injectMeasure(l.measure),l._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return l._allMeasurements},printExclusive:function(t){t=t||l._allMeasurements;var e=o.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":i(t.inclusive),"Exclusive mount time (ms)":i(t.exclusive),"Exclusive render time (ms)":i(t.render),"Mount time per instance (ms)":i(t.exclusive/t.count),"Render time per instance (ms)":i(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||l._allMeasurements;var e=o.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":i(t.time),Instances:t.count}})),console.log("Total time:",o.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=o.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||l._allMeasurements,console.table(l.getMeasurementsSummaryMap(t)),console.log("Total time:",o.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||l._allMeasurements;var e=o.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[a.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",o.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,i){var r=l._allMeasurements[l._allMeasurements.length-1].writes;r[t]=r[t]||[],r[t].push({type:e,time:n,args:i})},measure:function(t,e,n){return function(){for(var i=[],a=0,o=arguments.length;o>a;a++)i.push(arguments[a]);var u,h,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return l._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=c(),h=n.apply(this,i),l._allMeasurements[l._allMeasurements.length-1].totalTime=c()-p,h;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(p=c(),h=n.apply(this,i),u=c()-p,"_mountImageIntoNode"===e){var d=s.getID(i[1]);l._recordWrite(d,e,u,i[0])}else"dangerouslyProcessChildrenUpdates"===e?i[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=i[1][t.markupIndex]),l._recordWrite(t.parentID,t.type,u,e)}):l._recordWrite(i[0],e,u,Array.prototype.slice.call(i,1));return h}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,i);if("string"==typeof this._currentElement.type)return n.apply(this,i);var f="mountComponent"===e?i[0]:this._rootNodeID,m="_renderValidatedComponent"===e,g="mountComponent"===e,v=l._mountStack,y=l._allMeasurements[l._allMeasurements.length-1];if(m?r(y.counts,f,1):g&&v.push(0),p=c(),h=n.apply(this,i),u=c()-p,m)r(y.render,f,u);else if(g){var _=v.pop();v[v.length-1]+=u,r(y.exclusive,f,u-_),r(y.inclusive,f,u)}else r(y.inclusive,f,u);return y.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};e.exports=l},{"./DOMProperty":184,"./ReactDefaultPerfAnalysis":235,"./ReactMount":250,"./ReactPerf":255,"./performanceNow":336}],235:[function(t,e,n){function i(t){for(var e=0,n=0;n<t.length;n++){var i=t[n];e+=i.totalTime}return e}function r(t){for(var e=[],n=0;n<t.length;n++){var i,r=t[n];for(i in r.writes)r.writes[i].forEach(function(t){e.push({id:i,type:l[t.type]||t.type,args:t.args})})}return e}function a(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i],a=u({},r.exclusive,r.inclusive);for(var o in a)e=r.displayNames[o].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},r.render[o]&&(n[e].render+=r.render[o]),r.exclusive[o]&&(n[e].exclusive+=r.exclusive[o]),r.inclusive[o]&&(n[e].inclusive+=r.inclusive[o]),r.counts[o]&&(n[e].count+=r.counts[o])}var s=[];for(e in n)n[e].exclusive>=c&&s.push(n[e]);return s.sort(function(t,e){return e.exclusive-t.exclusive}),s}function o(t,e){for(var n,i={},r=0;r<t.length;r++){var a,o=t[r],l=u({},o.exclusive,o.inclusive);e&&(a=s(o));for(var h in l)if(!e||a[h]){var p=o.displayNames[h];n=p.owner+" > "+p.current,i[n]=i[n]||{componentName:n,time:0,count:0},o.inclusive[h]&&(i[n].time+=o.inclusive[h]),o.counts[h]&&(i[n].count+=o.counts[h])}}var d=[];for(n in i)i[n].time>=c&&d.push(i[n]);return d.sort(function(t,e){return e.time-t.time}),d}function s(t){var e={},n=Object.keys(t.writes),i=u({},t.exclusive,t.inclusive);for(var r in i){for(var a=!1,o=0;o<n.length;o++)if(0===n[o].indexOf(r)){a=!0;break}!a&&t.counts[r]>0&&(e[r]=!0)}return e}var u=t("./Object.assign"),c=1.2,l={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},h={getExclusiveSummary:a,getInclusiveSummary:o,getDOMSummary:r,getTotalTime:i};e.exports=h},{"./Object.assign":202}],236:[function(t,e,n){"use strict";var i=t("./ReactContext"),r=t("./ReactCurrentOwner"),a=t("./Object.assign"),o=(t("./warning"),{key:!0,ref:!0}),s=function(t,e,n,i,r,a){this.type=t,this.key=e,this.ref=n,this._owner=i,this._context=r,this.props=a};s.prototype={_isReactElement:!0},s.createElement=function(t,e,n){var a,u={},c=null,l=null;if(null!=e){l=void 0===e.ref?null:e.ref,c=void 0===e.key?null:""+e.key;for(a in e)e.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(u[a]=e[a])}var h=arguments.length-2;if(1===h)u.children=n;else if(h>1){for(var p=Array(h),d=0;h>d;d++)p[d]=arguments[d+2];u.children=p}if(t&&t.defaultProps){var f=t.defaultProps;for(a in f)"undefined"==typeof u[a]&&(u[a]=f[a])}return new s(t,c,l,r.current,i.current,u)},s.createFactory=function(t){var e=s.createElement.bind(null,t);return e.type=t,e},s.cloneAndReplaceProps=function(t,e){var n=new s(t.type,t.key,t.ref,t._owner,t._context,e);return n},s.cloneElement=function(t,e,n){var i,u=a({},t.props),c=t.key,l=t.ref,h=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,h=r.current),void 0!==e.key&&(c=""+e.key);for(i in e)e.hasOwnProperty(i)&&!o.hasOwnProperty(i)&&(u[i]=e[i])}var p=arguments.length-2;if(1===p)u.children=n;else if(p>1){for(var d=Array(p),f=0;p>f;f++)d[f]=arguments[f+2];u.children=d}return new s(t.type,c,l,h,t._context,u)},s.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},e.exports=s},{"./Object.assign":202,"./ReactContext":217,"./ReactCurrentOwner":218,"./warning":345}],237:[function(t,e,n){"use strict";function i(){if(y.current){var t=y.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(t){var e=t&&t.getPublicInstance();if(!e)return void 0;var n=e.constructor;return n?n.displayName||n.name||void 0:void 0}function a(){var t=y.current;return t&&r(t)||void 0}function o(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,u('Each child in an array or iterator should have a unique "key" prop.',t,e))}function s(t,e,n){C.test(t)&&u("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function u(t,e,n){var i=a(),o="string"==typeof n?n:n.displayName||n.name,s=i||o,u=E[t]||(E[t]={});if(!u.hasOwnProperty(s)){u[s]=!0;var c="";if(e&&e._owner&&e._owner!==y.current){var l=r(e._owner);c=" It was passed a child from "+l+"."}}}function c(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];m.isValidElement(i)&&o(i,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var r=x(t);if(r){if(r!==t.entries)for(var a,u=r.call(t);!(a=u.next()).done;)m.isValidElement(a.value)&&o(a.value,e)}else if("object"==typeof t){var c=g.extractIfFragment(t);for(var l in c)c.hasOwnProperty(l)&&s(l,c[l],e)}}}function l(t,e,n,r){for(var a in e)if(e.hasOwnProperty(a)){var o;try{b("function"==typeof e[a]),o=e[a](n,a,t,r)}catch(s){o=s}if(o instanceof Error&&!(o.message in w)){w[o.message]=!0;i(this)}}}function h(t,e){var n=e.type,i="string"==typeof n?n:n.displayName,r=e._owner?e._owner.getPublicInstance().constructor.displayName:null,a=t+"|"+i+"|"+r;if(!T.hasOwnProperty(a)){T[a]=!0;var o="";i&&(o=" <"+i+" />");var s="";r&&(s=" The element was created by "+r+".")}}function p(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function d(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var i in n)n.hasOwnProperty(i)&&(e.hasOwnProperty(i)&&p(e[i],n[i])||(h(i,t),e[i]=n[i]))}}function f(t){if(null!=t.type){var e=_.getComponentClassForElement(t),n=e.displayName||e.name;e.propTypes&&l(n,e.propTypes,t.props,v.prop),"function"==typeof e.getDefaultProps}}var m=t("./ReactElement"),g=t("./ReactFragment"),v=t("./ReactPropTypeLocations"),y=(t("./ReactPropTypeLocationNames"),t("./ReactCurrentOwner")),_=t("./ReactNativeComponent"),x=t("./getIteratorFn"),b=t("./invariant"),E=(t("./warning"),{}),w={},C=/^\d+$/,T={},M={checkAndWarnForMutatedProps:d,createElement:function(t,e,n){var i=m.createElement.apply(this,arguments);if(null==i)return i;for(var r=2;r<arguments.length;r++)c(arguments[r],t);return f(i),i},createFactory:function(t){var e=M.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var i=m.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)c(arguments[r],i.type);return f(i),i}};e.exports=M},{"./ReactCurrentOwner":218,"./ReactElement":236,"./ReactFragment":242,"./ReactNativeComponent":253,"./ReactPropTypeLocationNames":257,"./ReactPropTypeLocations":258,"./getIteratorFn":315,"./invariant":324,"./warning":345}],238:[function(t,e,n){"use strict";function i(t){l[t]=!0}function r(t){delete l[t]}function a(t){return!!l[t]}var o,s=t("./ReactElement"),u=t("./ReactInstanceMap"),c=t("./invariant"),l={},h={injectEmptyComponent:function(t){o=s.createFactory(t)}},p=function(){};p.prototype.componentDidMount=function(){var t=u.get(this);t&&i(t._rootNodeID)},p.prototype.componentWillUnmount=function(){var t=u.get(this);t&&r(t._rootNodeID)},p.prototype.render=function(){return c(o),o()};var d=s.createElement(p),f={emptyElement:d,injection:h,isNullComponentID:a};e.exports=f},{"./ReactElement":236,"./ReactInstanceMap":246,"./invariant":324}],239:[function(t,e,n){"use strict";var i={guard:function(t,e){return t}};e.exports=i},{}],240:[function(t,e,n){"use strict";function i(t){r.enqueueEvents(t),r.processEventQueue()}var r=t("./EventPluginHub"),a={handleTopLevel:function(t,e,n,a){var o=r.extractEvents(t,e,n,a);i(o)}};e.exports=a},{"./EventPluginHub":191}],241:[function(t,e,n){"use strict";function i(t){var e=h.getID(t),n=l.getReactRootIDFromNodeID(e),i=h.findReactContainerForID(n),r=h.getFirstReactDOM(i);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function a(t){for(var e=h.getFirstReactDOM(f(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=i(n);for(var r=0,a=t.ancestors.length;a>r;r++){e=t.ancestors[r];var o=h.getID(e)||"";g._handleTopLevel(t.topLevelType,e,o,t.nativeEvent)}}function o(t){var e=m(window);t(e)}var s=t("./EventListener"),u=t("./ExecutionEnvironment"),c=t("./PooledClass"),l=t("./ReactInstanceHandles"),h=t("./ReactMount"),p=t("./ReactUpdates"),d=t("./Object.assign"),f=t("./getEventTarget"),m=t("./getUnboundedScrollPosition");d(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?s.listen(i,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?s.capture(i,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=o.bind(null,t);s.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{p.batchedUpdates(a,n)}finally{r.release(n)}}}};e.exports=g},{"./EventListener":190,"./ExecutionEnvironment":195,"./Object.assign":202,"./PooledClass":203,"./ReactInstanceHandles":245,"./ReactMount":250,"./ReactUpdates":273,"./getEventTarget":314,"./getUnboundedScrollPosition":320}],242:[function(t,e,n){"use strict";var i=(t("./ReactElement"),t("./warning"),{create:function(t){return t},extract:function(t){return t},extractIfFragment:function(t){return t}});e.exports=i},{"./ReactElement":236,"./warning":345}],243:[function(t,e,n){"use strict";var i=t("./DOMProperty"),r=t("./EventPluginHub"),a=t("./ReactComponentEnvironment"),o=t("./ReactClass"),s=t("./ReactEmptyComponent"),u=t("./ReactBrowserEventEmitter"),c=t("./ReactNativeComponent"),l=t("./ReactDOMComponent"),h=t("./ReactPerf"),p=t("./ReactRootIndex"),d=t("./ReactUpdates"),f={Component:a.injection,Class:o.injection,DOMComponent:l.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:h.injection,RootIndex:p.injection,Updates:d.injection};e.exports=f},{"./DOMProperty":184,"./EventPluginHub":191,"./ReactBrowserEventEmitter":206,"./ReactClass":211,"./ReactComponentEnvironment":214,"./ReactDOMComponent":221,"./ReactEmptyComponent":238,"./ReactNativeComponent":253,"./ReactPerf":255,"./ReactRootIndex":264,"./ReactUpdates":273}],244:[function(t,e,n){"use strict";function i(t){return a(document.documentElement,t)}var r=t("./ReactDOMSelection"),a=t("./containsNode"),o=t("./focusNode"),s=t("./getActiveElement"),u={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,r),o(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"==typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var a=t.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",i-n),a.select()}else r.setOffsets(t,e)}};e.exports=u},{"./ReactDOMSelection":229,"./containsNode":297,"./focusNode":308,"./getActiveElement":310}],245:[function(t,e,n){"use strict";function i(t){return d+t.toString(36)}function r(t,e){return t.charAt(e)===d||e===t.length}function a(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function o(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function s(t){return t?t.substr(0,t.lastIndexOf(d)):""}function u(t,e){if(p(a(t)&&a(e)),p(o(t,e)),t===e)return t;var n,i=t.length+f;for(n=i;n<e.length&&!r(e,n);n++);return e.substr(0,n)}function c(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var i=0,o=0;n>=o;o++)if(r(t,o)&&r(e,o))i=o;else if(t.charAt(o)!==e.charAt(o))break;var s=t.substr(0,i);return p(a(s)),s}function l(t,e,n,i,r,a){t=t||"",e=e||"",p(t!==e);var c=o(e,t);p(c||o(t,e));for(var l=0,h=c?s:u,d=t;;d=h(d,e)){var f;if(r&&d===t||a&&d===e||(f=n(d,c,i)),f===!1||d===e)break;p(l++<m)}}var h=t("./ReactRootIndex"),p=t("./invariant"),d=".",f=d.length,m=100,g={createReactRootID:function(){return i(h.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,i,r){var a=c(t,e);a!==t&&l(t,a,n,i,!1,!0),a!==e&&l(a,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(l("",t,e,n,!0,!1),l(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){l("",t,e,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:u,isAncestorIDOf:o,SEPARATOR:d};e.exports=g},{"./ReactRootIndex":264,"./invariant":324}],246:[function(t,e,n){"use strict";var i={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=i},{}],247:[function(t,e,n){"use strict";var i={currentlyMountingInstance:null,currentlyUnmountingInstance:null};e.exports=i},{}],248:[function(t,e,n){"use strict";function i(t,e){this.value=t,this.requestChange=e}function r(t){var e={value:"undefined"==typeof t?a.PropTypes.any.isRequired:t.isRequired,requestChange:a.PropTypes.func.isRequired};return a.PropTypes.shape(e)}var a=t("./React");i.PropTypes={link:r},e.exports=i},{"./React":204}],249:[function(t,e,n){"use strict";var i=t("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return t.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var a=i(t);return a===n}};e.exports=r},{"./adler32":293}],250:[function(t,e,n){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){var e=k(t);return e&&W.getID(e)}function a(t){var e=o(t);if(e)if(O.hasOwnProperty(e)){var n=O[e];n!==t&&(P(!l(n,e)),O[e]=t)}else O[e]=t;return e}function o(t){return t&&t.getAttribute&&t.getAttribute(I)||""}function s(t,e){var n=o(t);n!==e&&delete O[n],t.setAttribute(I,e),O[e]=t}function u(t){return O.hasOwnProperty(t)&&l(O[t],t)||(O[t]=W.findReactNodeByID(t)),O[t]}function c(t){var e=b.get(t)._rootNodeID;return _.isNullComponentID(e)?null:(O.hasOwnProperty(e)&&l(O[e],e)||(O[e]=W.findReactNodeByID(e)),O[e])}function l(t,e){if(t){P(o(t)===e);var n=W.findReactContainerForID(e);if(n&&A(n,t))return!0}return!1}function h(t){delete O[t]}function p(t){var e=O[t];return e&&l(e,t)?void(H=e):!1}function d(t){H=null,x.traverseAncestors(t,p);var e=H;return H=null,e}function f(t,e,n,i,r){var a=C.mountComponent(t,e,i,S);t._isTopLevel=!0,W._mountImageIntoNode(a,n,r)}function m(t,e,n,i){var r=M.ReactReconcileTransaction.getPooled();r.perform(f,null,t,e,n,r,i),M.ReactReconcileTransaction.release(r)}var g=t("./DOMProperty"),v=t("./ReactBrowserEventEmitter"),y=(t("./ReactCurrentOwner"),t("./ReactElement")),_=(t("./ReactElementValidator"),t("./ReactEmptyComponent")),x=t("./ReactInstanceHandles"),b=t("./ReactInstanceMap"),E=t("./ReactMarkupChecksum"),w=t("./ReactPerf"),C=t("./ReactReconciler"),T=t("./ReactUpdateQueue"),M=t("./ReactUpdates"),S=t("./emptyObject"),A=t("./containsNode"),k=t("./getReactRootElementInContainer"),L=t("./instantiateReactComponent"),P=t("./invariant"),N=t("./setInnerHTML"),D=t("./shouldUpdateReactComponent"),R=(t("./warning"),x.SEPARATOR),I=g.ID_ATTRIBUTE_NAME,O={},B=1,F=9,U={},z={},j=[],H=null,W={_instancesByReactRootID:U,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,i){return W.scrollMonitor(n,function(){T.enqueueElementInternal(t,e),i&&T.enqueueCallbackInternal(t,i)}),t},_registerComponent:function(t,e){P(e&&(e.nodeType===B||e.nodeType===F)),v.ensureScrollValueMonitoring();var n=W.registerContainer(e);return U[n]=t,n},_renderNewRootComponent:function(t,e,n){var i=L(t,null),r=W._registerComponent(i,e);return M.batchedUpdates(m,i,r,e,n),i},render:function(t,e,n){P(y.isValidElement(t));var i=U[r(e)];if(i){var a=i._currentElement;if(D(a,t))return W._updateRootComponent(i,t,e,n).getPublicInstance();W.unmountComponentAtNode(e)}var o=k(e),s=o&&W.isRenderedByReact(o),u=s&&!i,c=W._renderNewRootComponent(t,e,u).getPublicInstance();return n&&n.call(c),c},constructAndRenderComponent:function(t,e,n){var i=y.createElement(t,e);return W.render(i,n)},constructAndRenderComponentByID:function(t,e,n){var i=document.getElementById(n);return P(i),W.constructAndRenderComponent(t,e,i)},registerContainer:function(t){var e=r(t);return e&&(e=x.getReactRootIDFromNodeID(e)),e||(e=x.createReactRootID()),z[e]=t,e},unmountComponentAtNode:function(t){P(t&&(t.nodeType===B||t.nodeType===F));var e=r(t),n=U[e];return n?(W.unmountComponentFromNode(n,t),delete U[e],delete z[e],!0):!1},unmountComponentFromNode:function(t,e){for(C.unmountComponent(t),e.nodeType===F&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var e=x.getReactRootIDFromNodeID(t),n=z[e];return n},findReactNodeByID:function(t){var e=W.findReactContainerForID(t);return W.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=W.getID(t);return e?e.charAt(0)===R:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(W.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,e){var n=j,i=0,r=d(e)||t;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var a,o=n[i++];o;){var s=W.getID(o);s?e===s?a=o:x.isAncestorIDOf(s,e)&&(n.length=i=0,n.push(o.firstChild)):n.push(o.firstChild),o=o.nextSibling}if(a)return n.length=0,a}n.length=0,P(!1)},_mountImageIntoNode:function(t,e,n){if(P(e&&(e.nodeType===B||e.nodeType===F)),n){var r=k(e);if(E.canReuseMarkup(t,r))return;var a=r.getAttribute(E.CHECKSUM_ATTR_NAME);r.removeAttribute(E.CHECKSUM_ATTR_NAME);var o=r.outerHTML;r.setAttribute(E.CHECKSUM_ATTR_NAME,a);var s=i(t,o);" (client) "+t.substring(s-20,s+20)+"\n (server) "+o.substring(s-20,s+20);P(e.nodeType!==F)}P(e.nodeType!==F),N(e,t)},getReactRootID:r,getID:a,setID:s,getNode:u,getNodeFromInstance:c,purgeID:h};w.measureMethods(W,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=W},{"./DOMProperty":184,"./ReactBrowserEventEmitter":206,"./ReactCurrentOwner":218,"./ReactElement":236,"./ReactElementValidator":237,"./ReactEmptyComponent":238,"./ReactInstanceHandles":245,"./ReactInstanceMap":246,"./ReactMarkupChecksum":249,"./ReactPerf":255,"./ReactReconciler":262,"./ReactUpdateQueue":272,"./ReactUpdates":273,"./containsNode":297,"./emptyObject":304,"./getReactRootElementInContainer":318,"./instantiateReactComponent":323,"./invariant":324,"./setInnerHTML":338,"./shouldUpdateReactComponent":341,"./warning":345}],251:[function(t,e,n){"use strict";function i(t,e,n){f.push({parentID:t,parentNode:null,type:l.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function r(t,e,n){f.push({parentID:t,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function a(t,e){f.push({parentID:t,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function o(t,e){f.push({parentID:t,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function s(){f.length&&(c.processChildrenUpdates(f,m),u())}function u(){f.length=0,m.length=0}var c=t("./ReactComponentEnvironment"),l=t("./ReactMultiChildUpdateTypes"),h=t("./ReactReconciler"),p=t("./ReactChildReconciler"),d=0,f=[],m=[],g={Mixin:{mountChildren:function(t,e,n){var i=p.instantiateChildren(t,e,n);this._renderedChildren=i;var r=[],a=0;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o],u=this._rootNodeID+o,c=h.mountComponent(s,u,e,n);s._mountIndex=a,r.push(c),a++}return r},updateTextContent:function(t){d++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(t),e=!1}finally{d--,d||(e?u():s())}},updateChildren:function(t,e,n){d++;var i=!0;try{this._updateChildren(t,e,n),i=!1}finally{d--,d||(i?u():s())}},_updateChildren:function(t,e,n){var i=this._renderedChildren,r=p.updateChildren(i,t,e,n);if(this._renderedChildren=r,r||i){var a,o=0,s=0;for(a in r)if(r.hasOwnProperty(a)){var u=i&&i[a],c=r[a];u===c?(this.moveChild(u,s,o),o=Math.max(u._mountIndex,o),u._mountIndex=s):(u&&(o=Math.max(u._mountIndex,o),this._unmountChildByName(u,a)),this._mountChildByNameAtIndex(c,a,s,e,n)),s++}for(a in i)!i.hasOwnProperty(a)||r&&r.hasOwnProperty(a)||this._unmountChildByName(i[a],a)}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){i(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){a(this._rootNodeID,t._mountIndex)},setTextContent:function(t){o(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,i,r){var a=this._rootNodeID+e,o=h.mountComponent(t,a,i,r);t._mountIndex=n,this.createChild(t,o)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};e.exports=g},{"./ReactChildReconciler":209,"./ReactComponentEnvironment":214,"./ReactMultiChildUpdateTypes":252,"./ReactReconciler":262}],252:[function(t,e,n){
"use strict";var i=t("./keyMirror"),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},{"./keyMirror":330}],253:[function(t,e,n){"use strict";function i(t){if("function"==typeof t.type)return t.type;var e=t.type,n=h[e];return null==n&&(h[e]=n=c(e)),n}function r(t){return u(l),new l(t.type,t.props)}function a(t){return new p(t)}function o(t){return t instanceof p}var s=t("./Object.assign"),u=t("./invariant"),c=null,l=null,h={},p=null,d={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){s(h,t)},injectAutoWrapper:function(t){c=t}},f={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:a,isTextComponent:o,injection:d};e.exports=f},{"./Object.assign":202,"./invariant":324}],254:[function(t,e,n){"use strict";var i=t("./invariant"),r={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i(r.isValidOwner(n)),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i(r.isValidOwner(n)),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};e.exports=r},{"./invariant":324}],255:[function(t,e,n){"use strict";function i(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){r.storedMeasure=t}}};e.exports=r},{}],256:[function(t,e,n){"use strict";function i(t){return function(e,n,i){e.hasOwnProperty(n)?e[n]=t(e[n],i):e[n]=i}}function r(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=c[n];i&&c.hasOwnProperty(n)?i(t,n,e[n]):t.hasOwnProperty(n)||(t[n]=e[n])}return t}var a=t("./Object.assign"),o=t("./emptyFunction"),s=t("./joinClasses"),u=i(function(t,e){return a({},e,t)}),c={children:o,className:i(s),style:u},l={mergeProps:function(t,e){return r(a({},t),e)}};e.exports=l},{"./Object.assign":202,"./emptyFunction":303,"./joinClasses":329}],257:[function(t,e,n){"use strict";var i={};e.exports=i},{}],258:[function(t,e,n){"use strict";var i=t("./keyMirror"),r=i({prop:null,context:null,childContext:null});e.exports=r},{"./keyMirror":330}],259:[function(t,e,n){"use strict";function i(t){function e(e,n,i,r,a){if(r=r||b,null==n[i]){var o=_[a];return e?new Error("Required "+o+" `"+i+"` was not specified in "+("`"+r+"`.")):null}return t(n,i,r,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,i,r){var a=e[n],o=m(a);if(o!==t){var s=_[r],u=g(a);return new Error("Invalid "+s+" `"+n+"` of type `"+u+"` "+("supplied to `"+i+"`, expected `"+t+"`."))}return null}return i(e)}function a(){return i(x.thatReturns(null))}function o(t){function e(e,n,i,r){var a=e[n];if(!Array.isArray(a)){var o=_[r],s=m(a);return new Error("Invalid "+o+" `"+n+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=t(a,u,i,r);if(c instanceof Error)return c}return null}return i(e)}function s(){function t(t,e,n,i){if(!v.isValidElement(t[e])){var r=_[i];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return i(t)}function u(t){function e(e,n,i,r){if(!(e[n]instanceof t)){var a=_[r],o=t.name||b;return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+i+"`, expected instance of `"+o+"`."))}return null}return i(e)}function c(t){function e(e,n,i,r){for(var a=e[n],o=0;o<t.length;o++)if(a===t[o])return null;var s=_[r],u=JSON.stringify(t);return new Error("Invalid "+s+" `"+n+"` of value `"+a+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return i(e)}function l(t){function e(e,n,i,r){var a=e[n],o=m(a);if("object"!==o){var s=_[r];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+o+"` supplied to `"+i+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=t(a,u,i,r);if(c instanceof Error)return c}return null}return i(e)}function h(t){function e(e,n,i,r){for(var a=0;a<t.length;a++){var o=t[a];if(null==o(e,n,i,r))return null}var s=_[r];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+i+"`."))}return i(e)}function p(){function t(t,e,n,i){if(!f(t[e])){var r=_[i];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function d(t){function e(e,n,i,r){var a=e[n],o=m(a);if("object"!==o){var s=_[r];return new Error("Invalid "+s+" `"+n+"` of type `"+o+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in t){var c=t[u];if(c){var l=c(a,u,i,r);if(l)return l}}return null}return i(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||v.isValidElement(t))return!0;t=y.extractIfFragment(t);for(var e in t)if(!f(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=t("./ReactElement"),y=t("./ReactFragment"),_=t("./ReactPropTypeLocationNames"),x=t("./emptyFunction"),b="<<anonymous>>",E=s(),w=p(),C={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:a(),arrayOf:o,element:E,instanceOf:u,node:w,objectOf:l,oneOf:c,oneOfType:h,shape:d};e.exports=C},{"./ReactElement":236,"./ReactFragment":242,"./ReactPropTypeLocationNames":257,"./emptyFunction":303}],260:[function(t,e,n){"use strict";function i(){this.listenersToPut=[]}var r=t("./PooledClass"),a=t("./ReactBrowserEventEmitter"),o=t("./Object.assign");o(i.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];a.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},{"./Object.assign":202,"./PooledClass":203,"./ReactBrowserEventEmitter":206}],261:[function(t,e,n){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=u.getPooled()}var r=t("./CallbackQueue"),a=t("./PooledClass"),o=t("./ReactBrowserEventEmitter"),s=t("./ReactInputSelection"),u=t("./ReactPutListenerQueue"),c=t("./Transaction"),l=t("./Object.assign"),h={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var t=o.isEnabled();return o.setEnabled(!1),t},close:function(t){o.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,h,p,d],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),this.putListenerQueue=null}};l(i.prototype,c.Mixin,g),a.addPoolingTo(i),e.exports=i},{"./CallbackQueue":180,"./Object.assign":202,"./PooledClass":203,"./ReactBrowserEventEmitter":206,"./ReactInputSelection":244,"./ReactPutListenerQueue":260,"./Transaction":290}],262:[function(t,e,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=t("./ReactRef"),a=(t("./ReactElementValidator"),{mountComponent:function(t,e,n,r){var a=t.mountComponent(e,n,r);return n.getReactMountReady().enqueue(i,t),a},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,a){var o=t._currentElement;if(e!==o||null==e._owner){var s=r.shouldUpdateRefs(o,e);s&&r.detachRefs(t,o),t.receiveComponent(e,n,a),s&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}});e.exports=a},{"./ReactElementValidator":237,"./ReactRef":263}],263:[function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):a.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):a.removeComponentAsRefFrom(e,t,n)}var a=t("./ReactOwner"),o={};o.attachRefs=function(t,e){var n=e.ref;null!=n&&i(n,t,e._owner)},o.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},o.detachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},e.exports=o},{"./ReactOwner":254}],264:[function(t,e,n){"use strict";var i={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:i};e.exports=r},{}],265:[function(t,e,n){"use strict";function i(t){h(a.isValidElement(t));var e;try{var n=o.createReactRootID();return e=u.getPooled(!1),e.perform(function(){var i=l(t,null),r=i.mountComponent(n,e,c);return s.addChecksumToMarkup(r)},null)}finally{u.release(e)}}function r(t){h(a.isValidElement(t));var e;try{var n=o.createReactRootID();return e=u.getPooled(!0),e.perform(function(){var i=l(t,null);return i.mountComponent(n,e,c)},null)}finally{u.release(e)}}var a=t("./ReactElement"),o=t("./ReactInstanceHandles"),s=t("./ReactMarkupChecksum"),u=t("./ReactServerRenderingTransaction"),c=t("./emptyObject"),l=t("./instantiateReactComponent"),h=t("./invariant");e.exports={renderToString:i,renderToStaticMarkup:r}},{"./ReactElement":236,"./ReactInstanceHandles":245,"./ReactMarkupChecksum":249,"./ReactServerRenderingTransaction":266,"./emptyObject":304,"./instantiateReactComponent":323,"./invariant":324}],266:[function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=a.getPooled(null),this.putListenerQueue=o.getPooled()}var r=t("./PooledClass"),a=t("./CallbackQueue"),o=t("./ReactPutListenerQueue"),s=t("./Transaction"),u=t("./Object.assign"),c=t("./emptyFunction"),l={initialize:function(){this.reactMountReady.reset()},close:c},h={initialize:function(){this.putListenerQueue.reset()},close:c},p=[h,l],d={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};u(i.prototype,s.Mixin,d),r.addPoolingTo(i),e.exports=i},{"./CallbackQueue":180,"./Object.assign":202,"./PooledClass":203,"./ReactPutListenerQueue":260,"./Transaction":290,"./emptyFunction":303}],267:[function(t,e,n){"use strict";function i(t,e){var n={};return function(i){n[e]=i,t.setState(n)}}var r={createStateSetter:function(t,e){return function(n,i,r,a,o,s){var u=e.call(t,n,i,r,a,o,s);u&&t.setState(u)}},createStateKeySetter:function(t,e){var n=t.__keySetters||(t.__keySetters={});return n[e]||(n[e]=i(t,e))}};r.Mixin={createStateSetter:function(t){return r.createStateSetter(this,t)},createStateKeySetter:function(t){return r.createStateKeySetter(this,t)}},e.exports=r},{}],268:[function(t,e,n){"use strict";function i(t){}function r(t){return function(e,n){var r;w.isDOMComponent(e)?r=e.getDOMNode():e.tagName&&(r=e);var a=new i;a.target=r;var o=new _(d.eventNameDispatchConfigs[t],v.getID(r),a);x(o,n),c.accumulateTwoPhaseDispatches(o),y.batchedUpdates(function(){u.enqueueEvents(o),u.processEventQueue()})}}function a(){w.Simulate={};var t;for(t in d.eventNameDispatchConfigs)w.Simulate[t]=r(t)}function o(t){return function(e,n){var r=new i(t);x(r,n),w.isDOMComponent(e)?w.simulateNativeEventOnDOMComponent(t,e,r):e.tagName&&w.simulateNativeEventOnNode(t,e,r)}}var s=t("./EventConstants"),u=t("./EventPluginHub"),c=t("./EventPropagators"),l=t("./React"),h=t("./ReactElement"),p=t("./ReactEmptyComponent"),d=t("./ReactBrowserEventEmitter"),f=t("./ReactCompositeComponent"),m=t("./ReactInstanceHandles"),g=t("./ReactInstanceMap"),v=t("./ReactMount"),y=t("./ReactUpdates"),_=t("./SyntheticEvent"),x=t("./Object.assign"),b=t("./emptyObject"),E=s.topLevelTypes,w={renderIntoDocument:function(t){var e=document.createElement("div");return l.render(t,e)},isElement:function(t){return h.isValidElement(t)},isElementOfType:function(t,e){return h.isValidElement(t)&&t.type===e},isDOMComponent:function(t){return!!(t&&t.tagName&&t.getDOMNode)},isDOMComponentElement:function(t){return!!(t&&h.isValidElement(t)&&t.tagName)},isCompositeComponent:function(t){return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentWithType:function(t,e){return!(!w.isCompositeComponent(t)||t.constructor!==e)},isCompositeComponentElement:function(t){if(!h.isValidElement(t))return!1;var e=t.type.prototype;return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentElementWithType:function(t,e){return!(!w.isCompositeComponentElement(t)||t.constructor!==e)},getRenderedChildOfCompositeComponent:function(t){if(!w.isCompositeComponent(t))return null;var e=g.get(t);return e._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(t,e){if(!t)return[];var n=e(t)?[t]:[];if(w.isDOMComponent(t)){var i,r=g.get(t),a=r._renderedComponent._renderedChildren;for(i in a)a.hasOwnProperty(i)&&a[i].getPublicInstance&&(n=n.concat(w.findAllInRenderedTree(a[i].getPublicInstance(),e)))}else w.isCompositeComponent(t)&&(n=n.concat(w.findAllInRenderedTree(w.getRenderedChildOfCompositeComponent(t),e)));return n},scryRenderedDOMComponentsWithClass:function(t,e){return w.findAllInRenderedTree(t,function(t){var n=t.props.className;return w.isDOMComponent(t)&&n&&-1!==(" "+n+" ").indexOf(" "+e+" ")})},findRenderedDOMComponentWithClass:function(t,e){var n=w.scryRenderedDOMComponentsWithClass(t,e);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+e);return n[0]},scryRenderedDOMComponentsWithTag:function(t,e){return w.findAllInRenderedTree(t,function(t){return w.isDOMComponent(t)&&t.tagName===e.toUpperCase()})},findRenderedDOMComponentWithTag:function(t,e){var n=w.scryRenderedDOMComponentsWithTag(t,e);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+e);return n[0]},scryRenderedComponentsWithType:function(t,e){return w.findAllInRenderedTree(t,function(t){return w.isCompositeComponentWithType(t,e)})},findRenderedComponentWithType:function(t,e){var n=w.scryRenderedComponentsWithType(t,e);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+e);return n[0]},mockComponent:function(t,e){return e=e||t.mockTagName||"div",t.prototype.render.mockImplementation(function(){return l.createElement(e,null,this.props.children)}),this},simulateNativeEventOnNode:function(t,e,n){n.target=e,d.ReactEventListener.dispatchEvent(t,n)},simulateNativeEventOnDOMComponent:function(t,e,n){w.simulateNativeEventOnNode(t,e.getDOMNode(),n)},nativeTouchData:function(t,e){return{touches:[{pageX:t,pageY:e}]}},createRenderer:function(){return new C},Simulate:null,SimulateNative:{}},C=function(){this._instance=null};C.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var T=function(t){this._renderedOutput=t,this._currentElement=null===t||t===!1?p.emptyElement:t};T.prototype={mountComponent:function(){},receiveComponent:function(t){this._renderedOutput=t,this._currentElement=null===t||t===!1?p.emptyElement:t},unmountComponent:function(){}};var M=function(){};x(M.prototype,f.Mixin,{_instantiateReactComponent:function(t){return new T(t)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:f.Mixin._renderValidatedComponentWithoutOwnerOrContext}),C.prototype.render=function(t,e){e||(e=b);var n=y.ReactReconcileTransaction.getPooled();this._render(t,n,e),y.ReactReconcileTransaction.release(n)},C.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},C.prototype._render=function(t,e,n){if(this._instance)this._instance.receiveComponent(t,e,n);else{var i=m.createReactRootID(),r=new M(t.type);r.construct(t),r.mountComponent(i,e,n),this._instance=r}};var S=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){S.apply(this,arguments),a()};var A=u.injection.injectEventPluginsByName;u.injection.injectEventPluginsByName=function(){A.apply(this,arguments),a()},a();var k;for(k in E){var L=0===k.indexOf("top")?k.charAt(3).toLowerCase()+k.substr(4):k;w.SimulateNative[L]=o(k)}e.exports=w},{"./EventConstants":189,"./EventPluginHub":191,"./EventPropagators":194,"./Object.assign":202,"./React":204,"./ReactBrowserEventEmitter":206,"./ReactCompositeComponent":216,"./ReactElement":236,"./ReactEmptyComponent":238,"./ReactInstanceHandles":245,"./ReactInstanceMap":246,"./ReactMount":250,"./ReactUpdates":273,"./SyntheticEvent":282,"./emptyObject":304}],269:[function(t,e,n){"use strict";var i=t("./ReactChildren"),r=t("./ReactFragment"),a={getChildMapping:function(t){return t?r.extract(i.map(t,function(t){return t})):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var i={},r=[];for(var a in t)e.hasOwnProperty(a)?r.length&&(i[a]=r,r=[]):r.push(a);var o,s={};for(var u in e){if(i.hasOwnProperty(u))for(o=0;o<i[u].length;o++){var c=i[u][o];s[i[u][o]]=n(c)}s[u]=n(u)}for(o=0;o<r.length;o++)s[r[o]]=n(r[o]);return s}};e.exports=a},{"./ReactChildren":210,"./ReactFragment":242}],270:[function(t,e,n){"use strict";function i(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var i=s[n];for(var r in i)if(r in e){u.push(i[r]);break}}}function r(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}var o=t("./ExecutionEnvironment"),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];o.canUseDOM&&i();var c={addEndEventListener:function(t,e){return 0===u.length?void window.setTimeout(e,0):void u.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==u.length&&u.forEach(function(n){a(t,n,e)})}};e.exports=c},{"./ExecutionEnvironment":195}],271:[function(t,e,n){"use strict";var i=t("./React"),r=t("./ReactTransitionChildMapping"),a=t("./Object.assign"),o=t("./cloneWithProps"),s=t("./emptyFunction"),u=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e=r.getChildMapping(t.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,e)});var i;for(i in e){var a=n&&n.hasOwnProperty(i);!e[i]||a||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var o=e&&e.hasOwnProperty(i);!n[i]||o||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(t))this.performEnter(t);else{var i=a({},this.state.children);delete i[t],this.setState({children:i})}},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(o(this.props.childFactory(n),{ref:e,key:e}))}return i.createElement(this.props.component,this.props,t)}});e.exports=u},{"./Object.assign":202,"./React":204,"./ReactTransitionChildMapping":269,"./cloneWithProps":296,"./emptyFunction":303}],272:[function(t,e,n){"use strict";function i(t){t!==a.currentlyMountingInstance&&c.enqueueUpdate(t)}function r(t,e){h(null==o.current);var n=u.get(t);return n?n===a.currentlyUnmountingInstance?null:n:null}var a=t("./ReactLifeCycle"),o=t("./ReactCurrentOwner"),s=t("./ReactElement"),u=t("./ReactInstanceMap"),c=t("./ReactUpdates"),l=t("./Object.assign"),h=t("./invariant"),p=(t("./warning"),{enqueueCallback:function(t,e){h("function"==typeof e);var n=r(t);return n&&n!==a.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void i(n)):null},enqueueCallbackInternal:function(t,e){h("function"==typeof e),t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=r(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=r(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=r(t,"setState");if(n){var a=n._pendingStateQueue||(n._pendingStateQueue=[]);a.push(e),i(n)}},enqueueSetProps:function(t,e){var n=r(t,"setProps");if(n){h(n._isTopLevel);var a=n._pendingElement||n._currentElement,o=l({},a.props,e);n._pendingElement=s.cloneAndReplaceProps(a,o),i(n)}},enqueueReplaceProps:function(t,e){var n=r(t,"replaceProps");if(n){h(n._isTopLevel);var a=n._pendingElement||n._currentElement;n._pendingElement=s.cloneAndReplaceProps(a,e),i(n)}},enqueueElementInternal:function(t,e){t._pendingElement=e,i(t)}});e.exports=p},{"./Object.assign":202,"./ReactCurrentOwner":218,"./ReactElement":236,"./ReactInstanceMap":246,"./ReactLifeCycle":247,"./ReactUpdates":273,"./invariant":324,"./warning":345}],273:[function(t,e,n){"use strict";function i(){g(M.ReactReconcileTransaction&&x)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled()}function a(t,e,n,r,a){i(),x.batchedUpdates(t,e,n,r,a)}function o(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;g(e===v.length),v.sort(o);for(var n=0;e>n;n++){var i=v[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,d.performUpdateIfNecessary(i,t.reconcileTransaction),r)for(var a=0;a<r.length;a++)t.callbackQueue.enqueue(r[a],i.getPublicInstance())}}function u(t){return i(),x.isBatchingUpdates?void v.push(t):void x.batchedUpdates(u,t)}function c(t,e){g(x.isBatchingUpdates),y.enqueue(t,e),_=!0}var l=t("./CallbackQueue"),h=t("./PooledClass"),p=(t("./ReactCurrentOwner"),t("./ReactPerf")),d=t("./ReactReconciler"),f=t("./Transaction"),m=t("./Object.assign"),g=t("./invariant"),v=(t("./warning"),[]),y=l.getPooled(),_=!1,x=null,b={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[b,E];m(r.prototype,f.Mixin,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(r);var C=function(){for(;v.length||_;){if(v.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(_){_=!1;var e=y;y=l.getPooled(),e.notifyAll(),l.release(e)}}};C=p.measure("ReactUpdates","flushBatchedUpdates",C);var T={injectReconcileTransaction:function(t){g(t),M.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){g(t),g("function"==typeof t.batchedUpdates),g("boolean"==typeof t.isBatchingUpdates),x=t}},M={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:u,flushBatchedUpdates:C,injection:T,asap:c};e.exports=M},{"./CallbackQueue":180,"./Object.assign":202,"./PooledClass":203,"./ReactCurrentOwner":218,"./ReactPerf":255,"./ReactReconciler":262,"./Transaction":290,"./invariant":324,"./warning":345}],274:[function(t,e,n){"use strict";var i=t("./LinkedStateMixin"),r=t("./React"),a=t("./ReactComponentWithPureRenderMixin"),o=t("./ReactCSSTransitionGroup"),s=t("./ReactFragment"),u=t("./ReactTransitionGroup"),c=t("./ReactUpdates"),l=t("./cx"),h=t("./cloneWithProps"),p=t("./update");r.addons={CSSTransitionGroup:o,LinkedStateMixin:i,PureRenderMixin:a,TransitionGroup:u,batchedUpdates:c.batchedUpdates,classSet:l,cloneWithProps:h,createFragment:s.create,update:p},e.exports=r},{"./LinkedStateMixin":198,"./React":204,"./ReactCSSTransitionGroup":207,"./ReactComponentWithPureRenderMixin":215,"./ReactDefaultPerf":234,"./ReactFragment":242,"./ReactTestUtils":268,"./ReactTransitionGroup":271,"./ReactUpdates":273,"./cloneWithProps":296,"./cx":301,"./update":344}],275:[function(t,e,n){"use strict";var i=t("./DOMProperty"),r=i.injection.MUST_USE_ATTRIBUTE,a={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=a},{"./DOMProperty":184}],276:[function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&s.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t){if(y||null==m||m!==c())return null;var e=i(m);if(!v||!p(v,e)){v=e;var n=u.getPooled(f.select,g,t);return n.type="select",n.target=m,o.accumulateTwoPhaseDispatches(n),n}}var a=t("./EventConstants"),o=t("./EventPropagators"),s=t("./ReactInputSelection"),u=t("./SyntheticEvent"),c=t("./getActiveElement"),l=t("./isTextInputElement"),h=t("./keyOf"),p=t("./shallowEqual"),d=a.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,g=null,v=null,y=!1,_={eventTypes:f,extractEvents:function(t,e,n,i){switch(t){case d.topFocus:(l(e)||"true"===e.contentEditable)&&(m=e,g=n,v=null);break;case d.topBlur:m=null,g=null,v=null;break;case d.topMouseDown:y=!0;break;case d.topContextMenu:case d.topMouseUp:return y=!1,r(i);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return r(i)}}};e.exports=_},{"./EventConstants":189,"./EventPropagators":194,"./ReactInputSelection":244,"./SyntheticEvent":282,"./getActiveElement":310,"./isTextInputElement":327,"./keyOf":331,"./shallowEqual":340}],277:[function(t,e,n){"use strict";var i=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*i)}};e.exports=r},{}],278:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./EventPluginUtils"),a=t("./EventPropagators"),o=t("./SyntheticClipboardEvent"),s=t("./SyntheticEvent"),u=t("./SyntheticFocusEvent"),c=t("./SyntheticKeyboardEvent"),l=t("./SyntheticMouseEvent"),h=t("./SyntheticDragEvent"),p=t("./SyntheticTouchEvent"),d=t("./SyntheticUIEvent"),f=t("./SyntheticWheelEvent"),m=t("./getEventCharCode"),g=t("./invariant"),v=t("./keyOf"),y=(t("./warning"),i.topLevelTypes),_={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{
bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},x={topBlur:_.blur,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topReset:_.reset,topScroll:_.scroll,topSubmit:_.submit,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topWheel:_.wheel};for(var b in x)x[b].dependencies=[b];var E={eventTypes:_,executeDispatch:function(t,e,n){var i=r.executeDispatch(t,e,n);i===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,e,n,i){var r=x[t];if(!r)return null;var v;switch(t){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:v=s;break;case y.topKeyPress:if(0===m(i))return null;case y.topKeyDown:case y.topKeyUp:v=c;break;case y.topBlur:case y.topFocus:v=u;break;case y.topClick:if(2===i.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:v=l;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:v=h;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:v=p;break;case y.topScroll:v=d;break;case y.topWheel:v=f;break;case y.topCopy:case y.topCut:case y.topPaste:v=o}g(v);var _=v.getPooled(r,n,i);return a.accumulateTwoPhaseDispatches(_),_}};e.exports=E},{"./EventConstants":189,"./EventPluginUtils":193,"./EventPropagators":194,"./SyntheticClipboardEvent":279,"./SyntheticDragEvent":281,"./SyntheticEvent":282,"./SyntheticFocusEvent":283,"./SyntheticKeyboardEvent":285,"./SyntheticMouseEvent":286,"./SyntheticTouchEvent":287,"./SyntheticUIEvent":288,"./SyntheticWheelEvent":289,"./getEventCharCode":311,"./invariant":324,"./keyOf":331,"./warning":345}],279:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),a={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,a),e.exports=i},{"./SyntheticEvent":282}],280:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),a={data:null};r.augmentClass(i,a),e.exports=i},{"./SyntheticEvent":282}],281:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),a={dataTransfer:null};r.augmentClass(i,a),e.exports=i},{"./SyntheticMouseEvent":286}],282:[function(t,e,n){"use strict";function i(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a?this[r]=a(n):this[r]=n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=t("./PooledClass"),a=t("./Object.assign"),o=t("./emptyFunction"),s=t("./getEventTarget"),u={type:null,target:s,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};a(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=u,i.augmentClass=function(t,e){var n=this,i=Object.create(n.prototype);a(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=a({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.threeArgumentPooler)},r.addPoolingTo(i,r.threeArgumentPooler),e.exports=i},{"./Object.assign":202,"./PooledClass":203,"./emptyFunction":303,"./getEventTarget":314}],283:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),a={relatedTarget:null};r.augmentClass(i,a),e.exports=i},{"./SyntheticUIEvent":288}],284:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),a={data:null};r.augmentClass(i,a),e.exports=i},{"./SyntheticEvent":282}],285:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),a=t("./getEventCharCode"),o=t("./getEventKey"),s=t("./getEventModifierState"),u={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?a(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?a(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(i,u),e.exports=i},{"./SyntheticUIEvent":288,"./getEventCharCode":311,"./getEventKey":312,"./getEventModifierState":313}],286:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),a=t("./ViewportMetrics"),o=t("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+a.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+a.currentScrollTop}};r.augmentClass(i,s),e.exports=i},{"./SyntheticUIEvent":288,"./ViewportMetrics":291,"./getEventModifierState":313}],287:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),a=t("./getEventModifierState"),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};r.augmentClass(i,o),e.exports=i},{"./SyntheticUIEvent":288,"./getEventModifierState":313}],288:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),a=t("./getEventTarget"),o={view:function(t){if(t.view)return t.view;var e=a(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,o),e.exports=i},{"./SyntheticEvent":282,"./getEventTarget":314}],289:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),a={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,a),e.exports=i},{"./SyntheticMouseEvent":286}],290:[function(t,e,n){"use strict";var i=t("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,a,o,s,u){i(!this.isInTransaction());var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=t.call(e,n,r,a,o,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=a.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){i(this.isInTransaction());for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,o=e[n],s=this.wrapperInitData[n];try{r=!0,s!==a.OBSERVED_ERROR&&o.close&&o.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},a={Mixin:r,OBSERVED_ERROR:{}};e.exports=a},{"./invariant":324}],291:[function(t,e,n){"use strict";var i={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){i.currentScrollLeft=t.x,i.currentScrollTop=t.y}};e.exports=i},{}],292:[function(t,e,n){"use strict";function i(t,e){if(r(null!=e),null==t)return e;var n=Array.isArray(t),i=Array.isArray(e);return n&&i?(t.push.apply(t,e),t):n?(t.push(e),t):i?[t].concat(e):[t,e]}var r=t("./invariant");e.exports=i},{"./invariant":324}],293:[function(t,e,n){"use strict";function i(t){for(var e=1,n=0,i=0;i<t.length;i++)e=(e+t.charCodeAt(i))%r,n=(n+e)%r;return e|n<<16}var r=65521;e.exports=i},{}],294:[function(t,e,n){function i(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;e.exports=i},{}],295:[function(t,e,n){"use strict";function i(t){return r(t.replace(a,"ms-"))}var r=t("./camelize"),a=/^-ms-/;e.exports=i},{"./camelize":294}],296:[function(t,e,n){"use strict";function i(t,e){var n=a.mergeProps(e,t.props);return!n.hasOwnProperty(s)&&t.props.hasOwnProperty(s)&&(n.children=t.props.children),r.createElement(t.type,n)}var r=t("./ReactElement"),a=t("./ReactPropTransferer"),o=t("./keyOf"),s=(t("./warning"),o({children:null}));e.exports=i},{"./ReactElement":236,"./ReactPropTransferer":256,"./keyOf":331,"./warning":345}],297:[function(t,e,n){function i(t,e){return t&&e?t===e?!0:r(t)?!1:r(e)?i(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var r=t("./isTextNode");e.exports=i},{"./isTextNode":328}],298:[function(t,e,n){function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return i(t)?Array.isArray(t)?t.slice():a(t):[t]}var a=t("./toArray");e.exports=r},{"./toArray":342}],299:[function(t,e,n){"use strict";function i(t){var e=a.createFactory(t),n=r.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){o(!1)},render:function(){return e(this.props)}});return n}var r=t("./ReactClass"),a=t("./ReactElement"),o=t("./invariant");e.exports=i},{"./ReactClass":211,"./ReactElement":236,"./invariant":324}],300:[function(t,e,n){function i(t){var e=t.match(l);return e&&e[1].toLowerCase()}function r(t,e){var n=c;u(!!c);var r=i(t),a=r&&s(r);if(a){n.innerHTML=a[1]+t+a[2];for(var l=a[0];l--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(u(e),o(h).forEach(e));for(var p=o(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var a=t("./ExecutionEnvironment"),o=t("./createArrayFromMixed"),s=t("./getMarkupWrap"),u=t("./invariant"),c=a.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=r},{"./ExecutionEnvironment":195,"./createArrayFromMixed":298,"./getMarkupWrap":316,"./invariant":324}],301:[function(t,e,n){"use strict";function i(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).join(" "):Array.prototype.join.call(arguments," ")}t("./warning");e.exports=i},{"./warning":345}],302:[function(t,e,n){"use strict";function i(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var i=isNaN(e);return i||0===e||a.hasOwnProperty(t)&&a[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=t("./CSSProperty"),a=r.isUnitlessNumber;e.exports=i},{"./CSSProperty":178}],303:[function(t,e,n){function i(t){return function(){return t}}function r(){}r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],304:[function(t,e,n){"use strict";var i={};e.exports=i},{}],305:[function(t,e,n){"use strict";function i(t){return a[t]}function r(t){return(""+t).replace(o,i)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=r},{}],306:[function(t,e,n){"use strict";function i(t){return null==t?null:s(t)?t:r.has(t)?a.getNodeFromInstance(t):(o(null==t.render||"function"!=typeof t.render),void o(!1))}var r=(t("./ReactCurrentOwner"),t("./ReactInstanceMap")),a=t("./ReactMount"),o=t("./invariant"),s=t("./isNode");t("./warning");e.exports=i},{"./ReactCurrentOwner":218,"./ReactInstanceMap":246,"./ReactMount":250,"./invariant":324,"./isNode":326,"./warning":345}],307:[function(t,e,n){"use strict";function i(t,e,n){var i=t,r=!i.hasOwnProperty(n);r&&null!=e&&(i[n]=e)}function r(t){if(null==t)return t;var e={};return a(t,i,e),e}var a=t("./traverseAllChildren");t("./warning");e.exports=r},{"./traverseAllChildren":343,"./warning":345}],308:[function(t,e,n){"use strict";function i(t){try{t.focus()}catch(e){}}e.exports=i},{}],309:[function(t,e,n){"use strict";var i=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};e.exports=i},{}],310:[function(t,e,n){function i(){try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=i},{}],311:[function(t,e,n){"use strict";function i(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=i},{}],312:[function(t,e,n){"use strict";function i(t){if(t.key){var e=a[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?o[t.keyCode]||"Unidentified":""}var r=t("./getEventCharCode"),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},{"./getEventCharCode":311}],313:[function(t,e,n){"use strict";function i(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=a[t];return i?!!n[i]:!1}function r(t){return i}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},{}],314:[function(t,e,n){"use strict";function i(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}e.exports=i},{}],315:[function(t,e,n){"use strict";function i(t){var e=t&&(r&&t[r]||t[a]);return"function"==typeof e?e:void 0}var r="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";e.exports=i},{}],316:[function(t,e,n){function i(t){return a(!!o),p.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?o.innerHTML="<link />":o.innerHTML="<"+t+"></"+t+">",s[t]=!o.firstChild),s[t]?p[t]:null}var r=t("./ExecutionEnvironment"),a=t("./invariant"),o=r.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l,circle:h,clipPath:h,defs:h,ellipse:h,g:h,line:h,linearGradient:h,path:h,polygon:h,polyline:h,radialGradient:h,rect:h,stop:h,text:h};e.exports=i},{"./ExecutionEnvironment":195,"./invariant":324}],317:[function(t,e,n){"use strict";function i(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function a(t,e){for(var n=i(t),a=0,o=0;n;){if(3===n.nodeType){if(o=a+n.textContent.length,e>=a&&o>=e)return{node:n,offset:e-a};a=o}n=i(r(n))}}e.exports=a},{}],318:[function(t,e,n){"use strict";function i(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;e.exports=i},{}],319:[function(t,e,n){"use strict";function i(){return!a&&r.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var r=t("./ExecutionEnvironment"),a=null;e.exports=i},{"./ExecutionEnvironment":195}],320:[function(t,e,n){"use strict";function i(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=i},{}],321:[function(t,e,n){function i(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=i},{}],322:[function(t,e,n){"use strict";function i(t){return r(t).replace(a,"-ms-")}var r=t("./hyphenate"),a=/^ms-/;e.exports=i},{"./hyphenate":321}],323:[function(t,e,n){"use strict";function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t,e){var n;if((null===t||t===!1)&&(t=o.emptyElement),"object"==typeof t){var r=t;n=e===r.type&&"string"==typeof r.type?s.createInternalComponent(r):i(r.type)?new r.type(r):new l}else"string"==typeof t||"number"==typeof t?n=s.createInstanceForText(t):c(!1);return n.construct(t),n._mountIndex=0,n._mountImage=null,n}var a=t("./ReactCompositeComponent"),o=t("./ReactEmptyComponent"),s=t("./ReactNativeComponent"),u=t("./Object.assign"),c=t("./invariant"),l=(t("./warning"),function(){});u(l.prototype,a.Mixin,{_instantiateReactComponent:r}),e.exports=r},{"./Object.assign":202,"./ReactCompositeComponent":216,"./ReactEmptyComponent":238,"./ReactNativeComponent":253,"./invariant":324,"./warning":345}],324:[function(t,e,n){"use strict";var i=function(t,e,n,i,r,a,o,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,o,s],l=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[l++]}))}throw u.framesToPop=1,u}};e.exports=i},{}],325:[function(t,e,n){"use strict";function i(t,e){if(!a.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var o=document.createElement("div");o.setAttribute(n,"return;"),i="function"==typeof o[n]}return!i&&r&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,a=t("./ExecutionEnvironment");a.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i},{"./ExecutionEnvironment":195}],326:[function(t,e,n){function i(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=i},{}],327:[function(t,e,n){"use strict";function i(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=i},{}],328:[function(t,e,n){function i(t){return r(t)&&3==t.nodeType}var r=t("./isNode");e.exports=i},{"./isNode":326}],329:[function(t,e,n){"use strict";function i(t){t||(t="");var e,n=arguments.length;if(n>1)for(var i=1;n>i;i++)e=arguments[i],e&&(t=(t?t+" ":"")+e);return t}e.exports=i},{}],330:[function(t,e,n){"use strict";var i=t("./invariant"),r=function(t){var e,n={};i(t instanceof Object&&!Array.isArray(t));for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=r},{"./invariant":324}],331:[function(t,e,n){var i=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=i},{}],332:[function(t,e,n){"use strict";function i(t,e,n){if(!t)return null;var i={};for(var a in t)r.call(t,a)&&(i[a]=e.call(n,t[a],a,t));return i}var r=Object.prototype.hasOwnProperty;e.exports=i},{}],333:[function(t,e,n){"use strict";function i(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=i},{}],334:[function(t,e,n){"use strict";function i(t){return a(r.isValidElement(t)),t}var r=t("./ReactElement"),a=t("./invariant");e.exports=i},{"./ReactElement":236,"./invariant":324}],335:[function(t,e,n){"use strict";var i,r=t("./ExecutionEnvironment");r.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),e.exports=i||{}},{"./ExecutionEnvironment":195}],336:[function(t,e,n){var i=t("./performance");i&&i.now||(i=Date);var r=i.now.bind(i);e.exports=r},{"./performance":335}],337:[function(t,e,n){"use strict";function i(t){return'"'+r(t)+'"'}var r=t("./escapeTextContentForBrowser");e.exports=i},{"./escapeTextContentForBrowser":305}],338:[function(t,e,n){"use strict";var i=t("./ExecutionEnvironment"),r=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),i.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(o=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&a.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}e.exports=o},{"./ExecutionEnvironment":195}],339:[function(t,e,n){"use strict";var i=t("./ExecutionEnvironment"),r=t("./escapeTextContentForBrowser"),a=t("./setInnerHTML"),o=function(t,e){t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(o=function(t,e){a(t,r(e))})),e.exports=o},{"./ExecutionEnvironment":195,"./escapeTextContentForBrowser":305,"./setInnerHTML":338}],340:[function(t,e,n){"use strict";function i(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}e.exports=i},{}],341:[function(t,e,n){"use strict";function i(t,e){if(null!=t&&null!=e){var n=typeof t,i=typeof e;if("string"===n||"number"===n)return"string"===i||"number"===i;if("object"===i&&t.type===e.type&&t.key===e.key){var r=t._owner===e._owner;return r}}return!1}t("./warning");e.exports=i},{"./warning":345}],342:[function(t,e,n){function i(t){var e=t.length;if(r(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),r("number"==typeof e),r(0===e||e-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var i=Array(e),a=0;e>a;a++)i[a]=t[a];return i}var r=t("./invariant");e.exports=i},{"./invariant":324}],343:[function(t,e,n){"use strict";function i(t){return g[t]}function r(t,e){return t&&null!=t.key?o(t.key):e.toString(36)}function a(t){return(""+t).replace(v,i)}function o(t){return"$"+a(t)}function s(t,e,n,i,a){var u=typeof t;if(("undefined"===u||"boolean"===u)&&(t=null),null===t||"string"===u||"number"===u||c.isValidElement(t))return i(a,t,""===e?f+r(t,0):e,n),1;var h,g,v,y=0;if(Array.isArray(t))for(var _=0;_<t.length;_++)h=t[_],g=(""!==e?e+m:f)+r(h,_),v=n+y,y+=s(h,g,v,i,a);else{var x=p(t);if(x){var b,E=x.call(t);if(x!==t.entries)for(var w=0;!(b=E.next()).done;)h=b.value,g=(""!==e?e+m:f)+r(h,w++),v=n+y,y+=s(h,g,v,i,a);else for(;!(b=E.next()).done;){var C=b.value;C&&(h=C[1],g=(""!==e?e+m:f)+o(C[0])+m+r(h,0),v=n+y,y+=s(h,g,v,i,a))}}else if("object"===u){d(1!==t.nodeType);var T=l.extract(t);for(var M in T)T.hasOwnProperty(M)&&(h=T[M],g=(""!==e?e+m:f)+o(M)+m+r(h,0),v=n+y,y+=s(h,g,v,i,a))}}return y}function u(t,e,n){return null==t?0:s(t,"",0,e,n)}var c=t("./ReactElement"),l=t("./ReactFragment"),h=t("./ReactInstanceHandles"),p=t("./getIteratorFn"),d=t("./invariant"),f=(t("./warning"),h.SEPARATOR),m=":",g={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;e.exports=u},{"./ReactElement":236,"./ReactFragment":242,"./ReactInstanceHandles":245,"./getIteratorFn":315,"./invariant":324,"./warning":345}],344:[function(t,e,n){"use strict";function i(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?o(new t.constructor,t):t}function r(t,e,n){u(Array.isArray(t));var i=e[n];u(Array.isArray(i))}function a(t,e){if(u("object"==typeof e),c.call(e,d))return u(1===Object.keys(e).length),e[d];var n=i(t);if(c.call(e,f)){var s=e[f];u(s&&"object"==typeof s),u(n&&"object"==typeof n),o(n,e[f])}c.call(e,l)&&(r(t,e,l),e[l].forEach(function(t){n.push(t)})),c.call(e,h)&&(r(t,e,h),e[h].forEach(function(t){n.unshift(t)})),c.call(e,p)&&(u(Array.isArray(t)),u(Array.isArray(e[p])),e[p].forEach(function(t){u(Array.isArray(t)),n.splice.apply(n,t)})),c.call(e,m)&&(u("function"==typeof e[m]),n=e[m](n));for(var g in e)v.hasOwnProperty(g)&&v[g]||(n[g]=a(t[g],e[g]));return n}var o=t("./Object.assign"),s=t("./keyOf"),u=t("./invariant"),c={}.hasOwnProperty,l=s({$push:null}),h=s({$unshift:null}),p=s({$splice:null}),d=s({$set:null}),f=s({$merge:null}),m=s({$apply:null}),g=[l,h,p,d,f,m],v={};g.forEach(function(t){v[t]=!0}),e.exports=a},{"./Object.assign":202,"./invariant":324,"./keyOf":331}],345:[function(t,e,n){"use strict";var i=t("./emptyFunction"),r=i;e.exports=r},{"./emptyFunction":303}],346:[function(t,e,n){e.exports=t("./lib/React")},{"./lib/React":204}],347:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":348}],348:[function(t,e,n){function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),a=i.source,c=i.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(s("ignoring socket cache for %s",a),n=o(a,e)):(u[c]||(s("new io instance for %s",a),u[c]=o(a,e)),n=u[c]),n.socket(i.path)}var r=t("./url"),a=t("socket.io-parser"),o=t("./manager"),s=t("debug")("socket.io-client");e.exports=n=i;var u=n.managers={};n.protocol=a.protocol,n.connect=i,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":349,"./socket":351,"./url":352,debug:356,"socket.io-parser":390}],349:[function(t,e,n){function i(t,e){return this instanceof i?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(t,e)}var r=(t("./url"),t("engine.io-client")),a=t("./socket"),o=t("component-emitter"),s=t("socket.io-parser"),u=t("./on"),c=t("component-bind"),l=(t("object-component"),t("debug")("socket.io-client:manager")),h=t("indexof"),p=t("backo2");e.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},i.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},o(i.prototype),i.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},i.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},i.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=u(e,"open",function(){n.onopen(),t&&t()}),a=u(e,"error",function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;l("connect attempt will timeout after %d",o);var s=setTimeout(function(){l("connect attempt timed out after %d",o),i.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(i),this.subs.push(a),this},i.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",c(this,"ondata"))),this.subs.push(u(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(u(t,"error",c(this,"onerror"))),this.subs.push(u(t,"close",c(this,"onclose")))},i.prototype.ondata=function(t){this.decoder.add(t)},i.prototype.ondecoded=function(t){this.emit("packet",t)},i.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},i.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new a(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~h(n.connected,e)||n.connected.push(e)})}return e},i.prototype.destroy=function(t){var e=h(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},i.prototype.packet=function(t){l("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){
var t=this.packetBuffer.shift();this.packet(t)}},i.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(t){l("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":350,"./socket":351,"./url":352,backo2:353,"component-bind":354,"component-emitter":355,debug:356,"engine.io-client":357,indexof:386,"object-component":387,"socket.io-parser":390}],350:[function(t,e,n){function i(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=i},{}],351:[function(t,e,n){function i(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=t("socket.io-parser"),a=t("component-emitter"),o=t("to-array"),s=t("./on"),u=t("component-bind"),c=t("debug")("socket.io-client:socket"),l=t("has-binary");e.exports=n=i;var h={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=a.prototype.emit;a(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",u(this,"onopen")),s(t,"packet",u(this,"onpacket")),s(t,"close",u(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(h.hasOwnProperty(t))return p.apply(this,arguments),this;var e=o(arguments),n=r.EVENT;l(e)&&(n=r.BINARY_EVENT);var i={type:n,data:e};return"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},i.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(t);break;case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:this.onack(t);break;case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var a=l(i)?r.BINARY_ACK:r.ACK;e.packet({type:a,id:t,data:i})}}},i.prototype.onack=function(t){c("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":350,"component-bind":354,"component-emitter":355,debug:356,"has-binary":384,"socket.io-parser":390,"to-array":394}],352:[function(t,e,n){(function(n){function i(t,e){var i=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(a("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),a("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(e&&e.port==i.port?"":":"+i.port),i}var r=t("parseuri"),a=t("debug")("socket.io-client:url");e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:356,parseuri:388}],353:[function(t,e,n){function i(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}},{}],354:[function(t,e,n){var i=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}},{}],355:[function(t,e,n){function i(t){return t?r(t):void 0}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,r=n.length;r>i;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],356:[function(t,e,n){function i(t){return i.enabled(t)?function(e){e=r(e);var n=new Date,a=n-(i[t]||n);i[t]=n,e=t+" "+e+" +"+i.humanize(a),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}e.exports=i,i.names=[],i.skips=[],i.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),r=n.length,a=0;r>a;a++)t=n[a].replace("*",".*?"),"-"===t[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$"))},i.disable=function(){i.enable("")},i.humanize=function(t){var e=1e3,n=6e4,i=60*n;return t>=i?(t/i).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},i.enabled=function(t){for(var e=0,n=i.skips.length;n>e;e++)if(i.skips[e].test(t))return!1;for(var e=0,n=i.names.length;n>e;e++)if(i.names[e].test(t))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(a){}},{}],357:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":358}],358:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":359,"engine.io-parser":371}],359:[function(t,e,n){(function(n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=l(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var r=e.host.split(":");e.hostname=r.shift(),r.length?e.port=r.pop():e.port||(e.port=this.secure?"443":"80")}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=e.rejectUnauthorized||null,this.open()}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=t("./transports"),o=t("component-emitter"),s=t("debug")("engine.io-client:socket"),u=t("indexof"),c=t("engine.io-parser"),l=t("parseuri"),h=t("parsejson"),p=t("parseqs");e.exports=i,i.priorWebsocketSuccess=!1,o(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=t("./transport"),i.transports=t("./transports"),i.parser=t("engine.io-parser"),i.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=r(this.query);e.EIO=c.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new a[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},i.prototype.open=function(){var t;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},i.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},i.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;h=h||e}h||(s('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!h)if("pong"==e.type&&"probe"==e.data){if(s('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",l),!l)return;i.priorWebsocketSuccess="websocket"==l.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){h||"closed"!=p.readyState&&(s("changing transport and sending upgrade packet"),c(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){h||(h=!0,c(),l.close(),l=null)}function r(e){var i=new Error("probe error: "+e);i.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",i)}function a(){r("transport closed")}function o(){r("socket closed")}function u(t){l&&t.name!=l.name&&(s('"%s" works - aborting "%s"',t.name,l.name),n())}function c(){l.removeListener("open",e),l.removeListener("error",r),l.removeListener("close",a),p.removeListener("close",o),p.removeListener("upgrading",u)}s('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),h=!1,p=this;i.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",r),l.once("close",a),this.once("close",o),this.once("upgrading",u),l.open()},i.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},i.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(h(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},i.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},i.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:t,data:e};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()}},i.prototype.close=function(){function t(){i.onClose("forced close"),s("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),t()}function n(){i.once("upgrade",e),i.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},i.prototype.onError=function(t){s("socket error %j",t),i.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},i.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},i.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;i>n;n++)~u(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":360,"./transports":361,"component-emitter":355,debug:368,"engine.io-parser":371,indexof:386,parsejson:380,parseqs:381,parseuri:382}],360:[function(t,e,n){function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var r=t("engine.io-parser"),a=t("component-emitter");e.exports=i,a(i.prototype),i.timestamps=0,i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":355,"engine.io-parser":371}],361:[function(t,e,n){(function(e){function i(t){var n,i=!1,s=!1,u=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80),i=t.hostname!=location.hostname||l!=t.port,s=t.secure!=c}if(t.xdomain=i,t.xscheme=s,n=new r(t),"open"in n&&!t.forceJSONP)return new a(t);if(!u)throw new Error("JSONP disabled");return new o(t)}var r=t("xmlhttprequest"),a=t("./polling-xhr"),o=t("./polling-jsonp"),s=t("./websocket");n.polling=i,n.websocket=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":362,"./polling-xhr":363,"./websocket":365,xmlhttprequest:366}],362:[function(t,e,n){(function(n){function i(){}function r(t){a.call(this,t),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var e=this;s.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)},!1)}var a=t("./polling"),o=t("component-inherit");e.exports=r;var s,u=/\n/g,c=/\\n/g;o(r,a),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},r.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},r.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';a=document.createElement(e)}catch(t){a=document.createElement("iframe"),a.name=r.iframeId,a.src="javascript:0"}a.id=r.iframeId,r.form.appendChild(a),r.iframe=a}var r=this;if(!this.form){var a,o=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=l,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}this.form.action=this.uri(),i(),t=t.replace(c,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":364,"component-inherit":367}],363:[function(t,e,n){(function(n){function i(){}function r(t){if(u.call(this,t),n.location){var e="https:"==location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!=n.location.hostname||i!=t.port,this.xs=t.secure!=e}}function a(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function o(){for(var t in a.requests)a.requests.hasOwnProperty(t)&&a.requests[t].abort()}var s=t("xmlhttprequest"),u=t("./polling"),c=t("component-emitter"),l=t("component-inherit"),h=t("debug")("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=a,l(r,u),r.prototype.supportsBinary=!0,r.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new a(t)},r.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},r.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},c(a.prototype),a.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new s(t),i=this;try{if(h("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?i.onLoad():setTimeout(function(){i.onError(e.status)},0))},h("xhr data %s",this.data),e.send(this.data)}catch(r){return void setTimeout(function(){i.onError(r)},0)}n.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},a.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},a.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,t)try{this.xhr.abort()}catch(e){}n.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},a.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},n.document&&(a.requestsCount=0,a.requests={},n.attachEvent?n.attachEvent("onunload",o):n.addEventListener&&n.addEventListener("beforeunload",o,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":364,"component-emitter":355,"component-inherit":367,debug:368,xmlhttprequest:366}],364:[function(t,e,n){function i(t){var e=t&&t.forceBase64;(!c||e)&&(this.supportsBinary=!1),r.call(this,t)}var r=t("../transport"),a=t("parseqs"),o=t("engine.io-parser"),s=t("component-inherit"),u=t("debug")("engine.io-client:polling");e.exports=i;var c=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();s(i,r),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(t){function e(){u("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(u("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){u("pre-pause polling complete"),--i||e()})),this.writable||(u("we are currently writing - waiting to pause"),i++,this.once("drain",function(){u("pre-pause writing complete"),--i||e()}))}else e()},i.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(t){var e=this;u("polling got data %s",t);var n=function(t,n,i){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};o.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},i.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=a.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":360,"component-inherit":367,debug:368,"engine.io-parser":371,parseqs:381,xmlhttprequest:366}],365:[function(t,e,n){function i(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),r.call(this,t)}var r=t("../transport"),a=t("engine.io-parser"),o=t("parseqs"),s=t("component-inherit"),u=t("debug")("engine.io-client:websocket"),c=t("ws");e.exports=i,s(i,r),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new c(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(t){var e=this;setTimeout(function(){r.prototype.onData.call(e,t)},0)}),i.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,r=t.length;r>i;i++)a.encodePacket(t[i],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){u("websocket closed before onclose event")}});setTimeout(e,0)},i.prototype.onClose=function(){r.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},i.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===i.prototype.name)}},{"../transport":360,"component-inherit":367,debug:368,"engine.io-parser":371,parseqs:381,ws:383}],366:[function(t,e,n){var i=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(a){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}},{"has-cors":378}],367:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],368:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));
var r=0,a=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(a=r))}),t.splice(a,0,i),t}function a(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function s(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=a,n.formatArgs=r,n.save=o,n.load=s,n.useColors=i,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":369}],369:[function(t,e,n){function i(){return n.colors[l++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,a=e-(c||e);t.diff=a,t.prev=c,t.curr=e,c=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(e,i){if("%%"===e)return e;s++;var r=n.formatters[i];if("function"==typeof r){var a=o[s];e=r.call(t,a),o.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(t,o));var u=r.log||n.log||console.log.bind(console);u.apply(t,o)}e.enabled=!1,r.enabled=!0;var a=n.enabled(t)?r:e;return a.namespace=t,a}function a(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,r=0;i>r;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function o(){n.enable("")}function s(t){var e,i;for(e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=u,n.disable=o,n.enable=a,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:370}],370:[function(t,e,n){function i(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*u;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function r(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function a(t){return o(t,l,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,s,"second")||t+" ms"}function o(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,h=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?a(t):r(t)}},{}],371:[function(t,e,n){(function(e){function i(t,e){var i="b"+n.packets[t.type]+t.data.data;return e(i)}function r(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var r=t.data,a=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=v[t.type];for(var s=0;s<a.length;s++)o[s+1]=a[s];return i(o.buffer)}function a(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){t.data=r.result,n.encodePacket(t,e,!0,i)},r.readAsArrayBuffer(t.data)}function o(t,e,i){if(!e)return n.encodeBase64Packet(t,i);if(g)return a(t,e,i);var r=new Uint8Array(1);r[0]=v[t.type];var o=new x([r.buffer,t.data]);return i(o)}function s(t,e,n){for(var i=new Array(t.length),r=p(t.length,n),a=function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})},o=0;o<t.length;o++)a(o,t[o],r)}var u=t("./keys"),c=t("has-binary"),l=t("arraybuffer.slice"),h=t("base64-arraybuffer"),p=t("after"),d=t("utf8"),f=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=f||m;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=u(v),_={type:"error",data:"parser error"},x=t("blob");n.encodePacket=function(t,n,a,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof a&&(s=a,a=null);var u=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&u instanceof ArrayBuffer)return r(t,n,s);if(x&&u instanceof e.Blob)return o(t,n,s);if(u&&u.base64)return i(t,s);var c=v[t.type];return void 0!==t.data&&(c+=a?d.encode(String(t.data)):String(t.data)),s(""+c)},n.encodeBase64Packet=function(t,i){var r="b"+n.packets[t.type];if(x&&t.data instanceof x){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];i(r+t)},a.readAsDataURL(t.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(s){for(var u=new Uint8Array(t.data),c=new Array(u.length),l=0;l<u.length;l++)c[l]=u[l];o=String.fromCharCode.apply(null,c)}return r+=e.btoa(o),i(r)},n.decodePacket=function(t,e,i){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(i)try{t=d.decode(t)}catch(r){return _}var a=t.charAt(0);return Number(a)==a&&y[a]?t.length>1?{type:y[a],data:t.substring(1)}:{type:y[a]}:_}var o=new Uint8Array(t),a=o[0],s=l(t,1);return x&&"blob"===e&&(s=new x([s])),{type:y[a],data:s}},n.decodeBase64Packet=function(t,n){var i=y[t.charAt(0)];if(!e.ArrayBuffer)return{type:i,data:{base64:!0,data:t.substr(1)}};var r=h.decode(t.substr(1));return"blob"===n&&x&&(r=new x([r])),{type:i,data:r}},n.encodePayload=function(t,e,i){function r(t){return t.length+":"+t}function a(t,i){n.encodePacket(t,o?e:!1,!0,function(t){i(null,r(t))})}"function"==typeof e&&(i=e,e=null);var o=c(t);return e&&o?x&&!g?n.encodePayloadAsBlob(t,i):n.encodePayloadAsArrayBuffer(t,i):t.length?void s(t,a,function(t,e){return i(e.join(""))}):i("0:")},n.decodePayload=function(t,e,i){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,i);"function"==typeof e&&(i=e,e=null);var r;if(""==t)return i(_,0,1);for(var a,o,s="",u=0,c=t.length;c>u;u++){var l=t.charAt(u);if(":"!=l)s+=l;else{if(""==s||s!=(a=Number(s)))return i(_,0,1);if(o=t.substr(u+1,a),s!=o.length)return i(_,0,1);if(o.length){if(r=n.decodePacket(o,e,!0),_.type==r.type&&_.data==r.data)return i(_,0,1);var h=i(r,u+a,c);if(!1===h)return}u+=a,s=""}}return""!=s?i(_,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void s(t,i,function(t,n){var i=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),r=new Uint8Array(i),a=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);n=i.buffer}e?r[a++]=0:r[a++]=1;for(var s=n.byteLength.toString(),o=0;o<s.length;o++)r[a++]=parseInt(s[o]);r[a++]=255;for(var i=new Uint8Array(n),o=0;o<i.length;o++)r[a++]=i[o]}),e(r.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,n[0]=0}for(var a=t instanceof ArrayBuffer?t.byteLength:t.size,o=a.toString(),s=new Uint8Array(o.length+1),r=0;r<o.length;r++)s[r]=parseInt(o[r]);if(s[o.length]=255,x){var u=new x([n.buffer,s.buffer,t]);e(null,u)}})}s(t,i,function(t,n){return e(new x(n))})},n.decodePayloadAsBinary=function(t,e,i){"function"==typeof e&&(i=e,e=null);for(var r=t,a=[],o=!1;r.byteLength>0;){for(var s=new Uint8Array(r),u=0===s[0],c="",h=1;255!=s[h];h++){if(c.length>310){o=!0;break}c+=s[h]}if(o)return i(_,0,1);r=l(r,2+c.length),c=parseInt(c);var p=l(r,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(d){var f=new Uint8Array(p);p="";for(var h=0;h<f.length;h++)p+=String.fromCharCode(f[h])}a.push(p),r=l(r,c)}var m=a.length;a.forEach(function(t,r){i(n.decodePacket(t,e,!0),r,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":372,after:373,"arraybuffer.slice":374,"base64-arraybuffer":375,blob:376,"has-binary":384,utf8:377}],372:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},{}],373:[function(t,e,n){function i(t,e,n){function i(t,r){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(a=!0,e(t),e=n):0!==i.count||a||e(null,r)}var a=!1;return n=n||r,i.count=t,0===t?e():i}function r(){}e.exports=i},{}],374:[function(t,e,n){e.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(0>e&&(e+=i),0>n&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),a=new Uint8Array(n-e),o=e,s=0;n>o;o++,s++)a[s]=r[o];return a.buffer}},{}],375:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,i=new Uint8Array(e),r=i.length,a="";for(n=0;r>n;n+=3)a+=t[i[n]>>2],a+=t[(3&i[n])<<4|i[n+1]>>4],a+=t[(15&i[n+1])<<2|i[n+2]>>6],a+=t[63&i[n+2]];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},n.decode=function(e){var n,i,r,a,o,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),h=new Uint8Array(l);for(n=0;u>n;n+=4)i=t.indexOf(e[n]),r=t.indexOf(e[n+1]),a=t.indexOf(e[n+2]),o=t.indexOf(e[n+3]),h[c++]=i<<2|r>>4,h[c++]=(15&r)<<4|a>>2,h[c++]=(3&a)<<6|63&o;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],376:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}t[e]=i}}}function i(t,e){e=e||{};var i=new a;n(t);for(var r=0;r<t.length;r++)i.append(t[r]);return e.type?i.getBlob(e.type):i.getBlob()}function r(t,e){return n(t),new Blob(t,e||{})}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),s=o&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),u=a&&a.prototype.append&&a.prototype.getBlob;e.exports=function(){return o?s?t.Blob:r:u?i:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],377:[function(t,e,n){(function(t){!function(i){function r(t){for(var e,n,i=[],r=0,a=t.length;a>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&a>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function a(t){for(var e,n=t.length,i=-1,r="";++i<n;)e=t[i],e>65535&&(e-=65536,r+=_(e>>>10&1023|55296),e=56320|1023&e),r+=_(e);return r}function o(t){if(t>=55296&&57343>=t)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function s(t,e){return _(t>>e&63|128)}function u(t){if(0==(4294967168&t))return _(t);var e="";return 0==(4294965248&t)?e=_(t>>6&31|192):0==(4294901760&t)?(o(t),e=_(t>>12&15|224),e+=s(t,6)):0==(4292870144&t)&&(e=_(t>>18&7|240),e+=s(t,12),e+=s(t,6)),e+=_(63&t|128)}function c(t){for(var e,n=r(t),i=n.length,a=-1,o="";++a<i;)e=n[a],o+=u(e);return o}function l(){if(y>=v)throw Error("Invalid byte index");var t=255&g[y];if(y++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(){var t,e,n,i,r;if(y>v)throw Error("Invalid byte index");if(y==v)return!1;if(t=255&g[y],y++,0==(128&t))return t;if(192==(224&t)){var e=l();if(r=(31&t)<<6|e,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=l(),n=l(),r=(15&t)<<12|e<<6|n,r>=2048)return o(r),r;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=l(),n=l(),i=l(),r=(15&t)<<18|e<<12|n<<6|i,r>=65536&&1114111>=r))return r;throw Error("Invalid UTF-8 detected")}function p(t){g=r(t),v=g.length,y=0;for(var e,n=[];(e=h())!==!1;)n.push(e);return a(n)}var d="object"==typeof n&&n,f="object"==typeof e&&e&&e.exports==d&&e,m="object"==typeof t&&t;(m.global===m||m.window===m)&&(i=m);var g,v,y,_=String.fromCharCode,x={version:"2.0.0",encode:c,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return x});else if(d&&!d.nodeType)if(f)f.exports=x;else{var b={},E=b.hasOwnProperty;for(var w in x)E.call(x,w)&&(d[w]=x[w])}else i.utf8=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],378:[function(t,e,n){var i=t("global");try{e.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(r){e.exports=!1}},{global:379}],379:[function(t,e,n){e.exports=function(){return this}()},{}],380:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,a=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(o,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(r,"]").replace(a,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],381:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;r>i;i++){var a=n[i].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}},{}],382:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),a=t.indexOf("]");-1!=n&&-1!=a&&(t=t.substring(0,n)+t.substring(n,a).replace(/:/g,";")+t.substring(a,t.length));for(var o=i.exec(t||""),s={},u=14;u--;)s[r[u]]=o[u]||"";return-1!=n&&-1!=a&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],383:[function(t,e,n){function i(t,e,n){var i;return i=e?new a(t,e):new a(t)}var r=function(){return this}(),a=r.WebSocket||r.MozWebSocket;e.exports=a?i:null,a&&(i.prototype=a.prototype)},{}],384:[function(t,e,n){(function(n){function i(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(r(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0}return!1}return e(t)}var r=t("isarray");e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:385}],385:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],386:[function(t,e,n){var i=[].indexOf;e.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],387:[function(t,e,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],388:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=i.exec(t||""),n={},a=14;a--;)n[r[a]]=e[a]||"";return n}},{}],389:[function(t,e,n){(function(e){var i=t("isarray"),r=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(r(t)){var a={_placeholder:!0,num:n.length};return n.push(t),a}if(i(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s]);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var u in t)o[u]=e(t[u]);return o}return t}var n=[],a=t.data,o=t;return o.data=e(a),o.attachments=n.length,{packet:o,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var r=e[t.num];return r}if(i(t)){for(var a=0;a<t.length;a++)t[a]=n(t[a]);return t}if(t&&"object"==typeof t){for(var o in t)t[o]=n(t[o]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function a(t,u,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){o++;var l=new FileReader;l.onload=function(){c?c[u]=this.result:s=this.result,--o||n(s)},l.readAsArrayBuffer(t)}else if(i(t))for(var h=0;h<t.length;h++)a(t[h],h,t);else if(t&&"object"==typeof t&&!r(t))for(var p in t)a(t[p],p,t)}var o=0,s=t;a(s),o||n(s)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":391,isarray:392}],390:[function(t,e,n){function i(){}function r(t){var e="",i=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,e+=t.nsp),null!=t.id&&(i&&(e+=",",i=!1),e+=t.id),null!=t.data&&(i&&(e+=","),e+=h.stringify(t.data)),l("encoded %j as %s",t,e),e}function a(t,e){function n(t){var n=d.deconstructPacket(t),i=r(n.packet),a=n.buffers;a.unshift(i),e(a)}d.removeBlobs(t,n)}function o(){this.reconstructor=null}function s(t){var e={},i=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return c();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var r="";"-"!=t.charAt(++i)&&(r+=t.charAt(i),i!=t.length););if(r!=Number(r)||"-"!=t.charAt(i))throw new Error("Illegal attachments");e.attachments=Number(r)}if("/"==t.charAt(i+1))for(e.nsp="";++i;){var a=t.charAt(i);if(","==a)break;if(e.nsp+=a,i==t.length)break}else e.nsp="/";var o=t.charAt(i+1);if(""!==o&&Number(o)==o){for(e.id="";++i;){var a=t.charAt(i);if(null==a||Number(a)!=a){--i;break}if(e.id+=t.charAt(i),i==t.length)break}e.id=Number(e.id)}if(t.charAt(++i))try{e.data=h.parse(t.substr(i))}catch(s){return c()}return l("decoded %s as %j",t,e),e}function u(t){this.reconPack=t,this.buffers=[]}function c(t){return{type:n.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),h=t("json3"),p=(t("isarray"),t("component-emitter")),d=t("./binary"),f=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=o,i.prototype.encode=function(t,e){if(l("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)a(t,e);else{var i=r(t);e([i])}},p(o.prototype),o.prototype.add=function(t){var e;if("string"==typeof t)e=s(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new u(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!f(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":389,"./is-buffer":391,"component-emitter":355,debug:356,isarray:392,json3:393}],391:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],392:[function(t,e,n){arguments[4][385][0].apply(n,arguments)},{dup:385}],393:[function(t,e,n){!function(t){function e(t){if(e[t]!==a)return e[t];var n;if("bug-string-char-index"==t)n="a"!="a"[0];else if("json"==t)n=e("json-stringify")&&e("json-parse");else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var s=c.stringify,u="function"==typeof s&&l;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(o)===a&&s(a)===a&&s()===a&&"1"===s(i)&&"[1]"==s([i])&&"[null]"==s([a])&&"null"==s(null)&&"[null,null,null]"==s([a,o,null])&&s({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===s(null,i)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new Date(-1))}catch(h){u=!1}}n=u}if("json-parse"==t){var p=c.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){i=p(r);var d=5==i.a.length&&1===i.a[0];if(d){try{d=!p('"	"')}catch(h){}if(d)try{d=1!==p("01")}catch(h){}if(d)try{d=1!==p("1.")}catch(h){}}}}catch(h){d=!1}n=d}}return e[t]=!!n}var i,r,a,o={}.toString,s="function"==typeof define&&define.amd,u="object"==typeof JSON&&JSON,c="object"==typeof n&&n&&!n.nodeType&&n;c&&u?(c.stringify=u.stringify,c.parse=u.parse):c=t.JSON=u||{};var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(h){}if(!e("json")){var p="[object Function]",d="[object Date]",f="[object Number]",m="[object String]",g="[object Array]",v="[object Boolean]",y=e("bug-string-char-index");if(!l)var _=Math.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],b=function(t,e){return x[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};(i={}.hasOwnProperty)||(i=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=o?i=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,i=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,i.call(this,t)});var E={"boolean":1,number:1,string:1,undefined:1},w=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!E[n]};if(r=function(t,e){var n,a,s,u=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n;for(s in a)i.call(a,s)&&u++;return n=a=null,u?r=2==u?function(t,e){var n,r={},a=o.call(t)==p;for(n in t)a&&"prototype"==n||i.call(r,n)||!(r[n]=1)||!i.call(t,n)||e(n)}:function(t,e){var n,r,a=o.call(t)==p;for(n in t)a&&"prototype"==n||!i.call(t,n)||(r="constructor"===n)||e(n);(r||i.call(t,n="constructor"))&&e(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],r=function(t,e){var n,r,s=o.call(t)==p,u=!s&&"function"!=typeof t.constructor&&w(t,"hasOwnProperty")?t.hasOwnProperty:i;for(n in t)s&&"prototype"==n||!u.call(t,n)||e(n);for(r=a.length;n=a[--r];u.call(t,n)&&e(n));}),r(t,e)},!e("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",M=function(t,e){return(T+(e||0)).slice(-t)},S="\\u00",A=function(t){var e,n='"',i=0,r=t.length,a=r>10&&y;for(a&&(e=t.split(""));r>i;i++){var o=t.charCodeAt(i);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[o];break;default:if(32>o){n+=S+M(2,o.toString(16));break}n+=a?e[i]:y?t.charAt(i):t[i]}}return n+'"'},k=function(t,e,n,s,u,c,l){var h,p,y,x,E,w,C,T,S,L,P,N,D,R,I,O;try{h=e[t]}catch(B){}if("object"==typeof h&&h)if(p=o.call(h),p!=d||i.call(h,"toJSON"))"function"==typeof h.toJSON&&(p!=f&&p!=m&&p!=g||i.call(h,"toJSON"))&&(h=h.toJSON(t));else if(h>-1/0&&1/0>h){if(b){for(E=_(h/864e5),y=_(E/365.2425)+1970-1;b(y+1,0)<=E;y++);for(x=_((E-b(y,0))/30.42);b(y,x+1)<=E;x++);E=1+E-b(y,x),w=(h%864e5+864e5)%864e5,C=_(w/36e5)%24,T=_(w/6e4)%60,S=_(w/1e3)%60,L=w%1e3}else y=h.getUTCFullYear(),x=h.getUTCMonth(),E=h.getUTCDate(),C=h.getUTCHours(),T=h.getUTCMinutes(),S=h.getUTCSeconds(),L=h.getUTCMilliseconds();h=(0>=y||y>=1e4?(0>y?"-":"+")+M(6,0>y?-y:y):M(4,y))+"-"+M(2,x+1)+"-"+M(2,E)+"T"+M(2,C)+":"+M(2,T)+":"+M(2,S)+"."+M(3,L)+"Z"}else h=null;if(n&&(h=n.call(e,t,h)),null===h)return"null";if(p=o.call(h),p==v)return""+h;if(p==f)return h>-1/0&&1/0>h?""+h:"null";if(p==m)return A(""+h);if("object"==typeof h){for(R=l.length;R--;)if(l[R]===h)throw TypeError();if(l.push(h),P=[],I=c,c+=u,p==g){for(D=0,R=h.length;R>D;D++)N=k(D,h,n,s,u,c,l),P.push(N===a?"null":N);O=P.length?u?"[\n"+c+P.join(",\n"+c)+"\n"+I+"]":"["+P.join(",")+"]":"[]"}else r(s||h,function(t){var e=k(t,h,n,s,u,c,l);e!==a&&P.push(A(t)+":"+(u?" ":"")+e)}),O=P.length?u?"{\n"+c+P.join(",\n"+c)+"\n"+I+"}":"{"+P.join(",")+"}":"{}";return l.pop(),O}};c.stringify=function(t,e,n){var i,r,a,s;if("function"==typeof e||"object"==typeof e&&e)if((s=o.call(e))==p)r=e;else if(s==g){a={};for(var u,c=0,l=e.length;l>c;u=e[c++],s=o.call(u),(s==m||s==f)&&(a[u]=1));}if(n)if((s=o.call(n))==f){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==m&&(i=n.length<=10?n:n.slice(0,10));return k("",(u={},u[""]=t,u),r,a,i,"",[])}}if(!e("json-parse")){var L,P,N=String.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},R=function(){throw L=P=null,SyntaxError()},I=function(){for(var t,e,n,i,r,a=P,o=a.length;o>L;)switch(r=a.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=y?a.charAt(L):a[L],L++,t;case 34:for(t="@",L++;o>L;)if(r=a.charCodeAt(L),32>r)R();else if(92==r)switch(r=a.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[r],L++;break;case 117:for(e=++L,n=L+4;n>L;L++)r=a.charCodeAt(L),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||R();t+=N("0x"+a.slice(e,L));break;default:R()}else{if(34==r)break;for(r=a.charCodeAt(L),e=L;r>=32&&92!=r&&34!=r;)r=a.charCodeAt(++L);t+=a.slice(e,L)}if(34==a.charCodeAt(L))return L++,t;R();default:if(e=L,45==r&&(i=!0,r=a.charCodeAt(++L)),r>=48&&57>=r){for(48==r&&(r=a.charCodeAt(L+1),r>=48&&57>=r)&&R(),i=!1;o>L&&(r=a.charCodeAt(L),r>=48&&57>=r);L++);if(46==a.charCodeAt(L)){for(n=++L;o>n&&(r=a.charCodeAt(n),r>=48&&57>=r);n++);n==L&&R(),L=n}if(r=a.charCodeAt(L),101==r||69==r){for(r=a.charCodeAt(++L),(43==r||45==r)&&L++,n=L;o>n&&(r=a.charCodeAt(n),r>=48&&57>=r);n++);n==L&&R(),L=n}return+a.slice(e,L)}if(i&&R(),"true"==a.slice(L,L+4))return L+=4,!0;if("false"==a.slice(L,L+5))return L+=5,!1;if("null"==a.slice(L,L+4))return L+=4,null;R()}return"$"},O=function(t){var e,n;if("$"==t&&R(),"string"==typeof t){if("@"==(y?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=I(),"]"!=t;n||(n=!0))n&&(","==t?(t=I(),"]"==t&&R()):R()),","==t&&R(),e.push(O(t));return e}if("{"==t){for(e={};t=I(),"}"!=t;n||(n=!0))n&&(","==t?(t=I(),"}"==t&&R()):R()),(","==t||"string"!=typeof t||"@"!=(y?t.charAt(0):t[0])||":"!=I())&&R(),e[t.slice(1)]=O(I());return e}R()}return t},B=function(t,e,n){var i=F(t,e,n);i===a?delete t[e]:t[e]=i},F=function(t,e,n){var i,a=t[e];if("object"==typeof a&&a)if(o.call(a)==g)for(i=a.length;i--;)B(a,i,n);else r(a,function(t){B(a,t,n)});return n.call(t,e,a)};c.parse=function(t,e){var n,i;return L=0,P=""+t,n=O(I()),"$"!=I()&&R(),L=P=null,e&&o.call(e)==p?F((i={},i[""]=n,i),"",e):n}}}s&&define(function(){return c})}(this)},{}],394:[function(t,e,n){function i(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}e.exports=i},{}],395:[function(t,e,n){function i(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function a(t){return t===Object(t)}function o(t){if(!a(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){for(var e,n,i={},r=t.split("&"),a=0,o=r.length;o>a;++a)n=r[a],e=n.split("="),i[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return i}function u(t){var e,n,i,r,a=t.split(/\r?\n/),o={};a.pop();for(var s=0,u=a.length;u>s;++s)n=a[s],e=n.indexOf(":"),i=n.slice(0,e).toLowerCase(),r=v(n.slice(e+1)),o[i]=r;return o}function c(t){return t.split(/ *; */).shift()}function l(t){return g(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var n=this;m.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var r=new Error(e.statusText||"Unsuccessful HTTP response");r.original=t,r.response=e,r.status=e.status,n.callback(r,e)})}function d(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var f,m=t("emitter"),g=t("reduce");f="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,d.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var v="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=o,d.parseString=s,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=l(e);for(var i in n)this[i]=n[i]},h.prototype.parse=function(t){return this.parser=t,this},h.prototype.parseBody=function(t){var e=this.parser||d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);
return r.status=this.status,r.method=e,r.url=n,r},d.Response=h,m(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(a(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new f.FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,n){return this._formData||(this._formData=new f.FormData),this._formData.append(t,e,n),this},p.prototype.send=function(t){var e=a(t),n=this.getHeader("Content-Type");if(e&&a(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||r(t)?this:(n||this.type("json"),this)},p.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,n=this.xhr=d.getXHR(),a=this._query.join("&"),o=this._timeout,s=this._formData||this._data;this._callback=t||i,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(i){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(c){}if(o&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},o)),a&&(a=d.serializeObject(a),this.url+=~this.url.indexOf("?")?"&"+a:"?"+a),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!r(s)){var l=this.getHeader("Content-Type"),h=d.serialize[l?l.split(";")[0]:""];h&&(s=h(s))}for(var p in this.header)null!=this.header[p]&&n.setRequestHeader(p,this.header[p]);return this.emit("request",this),n.send(s),this},p.prototype.then=function(t,e){return this.end(function(n,i){n?e(n):t(i)})},d.Request=p,d.get=function(t,e,n){var i=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},d.head=function(t,e,n){var i=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var i=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.post=function(t,e,n){var i=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.put=function(t,e,n){var i=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},e.exports=d},{emitter:396,reduce:397}],396:[function(t,e,n){arguments[4][355][0].apply(n,arguments)},{dup:355}],397:[function(t,e,n){e.exports=function(t,e,n){for(var i=0,r=t.length,a=3==arguments.length?n:t[i++];r>i;)a=e.call(null,a,t[i],++i,t);return a}},{}],398:[function(t,e,i){!function(){function t(t,e){function n(e){var n,i=t.arcs[0>e?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],0>e?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[0>t?~t:t]=1}),s.push(i)}}var r={},a={},o={},s=[],u=-1;return e.forEach(function(n,i){var r,a=t.arcs[0>n?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=o[s])if(delete o[e.end],e.push(t),e.end=u,i=a[u]){delete a[i.start];var c=i===e?e:e.concat(i);a[c.start=e.start]=o[c.end=i.end]=c}else a[e.start]=o[e.end]=e;else if(e=a[u])if(delete a[e.start],e.unshift(t),e.start=s,i=o[s]){delete o[i.end];var l=i===e?e:i.concat(e);a[l.start=i.start]=o[l.end=e.end]=l}else a[e.start]=o[e.end]=e;else e=[t],a[e.start=s]=o[e.end=u]=e}),i(o,a),i(a,o),e.forEach(function(t){r[0>t?~t:t]||s.push([t])}),s}function i(e,n,i){function r(t){var e=0>t?~t:t;(l[e]||(l[e]=[])).push({i:t,g:c})}function a(t){t.forEach(r)}function o(t){t.forEach(a)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in h&&(c=t,h[t.type](t.arcs))}var u=[];if(arguments.length>1){var c,l=[],h={LineString:a,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};s(n),l.forEach(arguments.length<3?function(t){u.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&u.push(t[0].i)})}else for(var p=0,d=e.arcs.length;d>p;++p)u.push(p);return{type:"MultiLineString",arcs:t(e,u)}}function r(e,i){function r(t){t.forEach(function(e){e.forEach(function(e){(o[e=0>e?~e:e]||(o[e]=[])).push(t)})}),u.push(t)}function a(t){return p(s(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var o={},u=[],c=[];return i.forEach(function(t){"Polygon"===t.type?r(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(r)}),u.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,c.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),u.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:c.map(function(i){var r=[];if(i.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[0>t?~t:t].length<2&&r.push(t)})})}),r=t(e,r),(n=r.length)>1)for(var s,u=a(i[0][0]),c=0;c<n;++c)if(u===a(r[c])){s=r[0],r[0]=r[c],r[c]=s;break}return r})}}function a(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return o(t,e)})}:o(t,e)}function o(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:s(t,e)};return null==e.id&&delete n.id,n}function s(t,e){function n(t,e){e.length&&e.pop();for(var n,i=l[0>t?~t:t],r=0,a=i.length;a>r;++r)e.push(n=i[r].slice()),c(n,r);0>t&&u(e,a)}function i(t){return t=t.slice(),c(t,0),t}function r(t){for(var e=[],i=0,r=t.length;r>i;++i)n(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function a(t){for(var e=r(t);e.length<4;)e.push(e[0].slice());return e}function o(t){return t.map(a)}function s(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(s)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=g(t.transform),l=t.arcs,h={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return r(t.arcs)},MultiLineString:function(t){return t.arcs.map(r)},Polygon:function(t){return o(t.arcs)},MultiPolygon:function(t){return t.arcs.map(o)}};return s(e)}function u(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function c(t,e){for(var n=0,i=t.length;i>n;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function l(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in o&&o[t.type](t.arcs,e)}var r={},a=t.map(function(){return[]}),o={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var s in r)for(var u=r[s],l=u.length,h=0;l>h;++h)for(var p=h+1;l>p;++p){var d,f=u[h],m=u[p];(d=a[f])[s=c(d,m)]!==m&&d.splice(s,0,m),(d=a[m])[s=c(d,f)]!==f&&d.splice(s,0,f)}return a}function h(t,e){function n(t){a.remove(t),t[1][2]=e(t),a.push(t)}var i=g(t.transform),r=v(t.transform),a=m();return e||(e=d),t.arcs.forEach(function(t){for(var o,s,u=[],c=0,l=0,h=t.length;h>l;++l)s=t[l],i(t[l]=[s[0],s[1],1/0],l);for(var l=1,h=t.length-1;h>l;++l)o=t.slice(l-1,l+2),o[1][2]=e(o),u.push(o),a.push(o);for(var l=0,h=u.length;h>l;++l)o=u[l],o.previous=u[l-1],o.next=u[l+1];for(;o=a.pop();){var p=o.previous,d=o.next;o[1][2]<c?o[1][2]=c:c=o[1][2],p&&(p.next=d,p[2]=o[2],n(p)),d&&(d.previous=p,d[0]=o[0],n(d))}t.forEach(r)}),t}function p(t){for(var e,n=-1,i=t.length,r=t[i-1],a=0;++n<i;)e=r,r=t[n],a+=e[0]*r[1]-e[1]*r[0];return.5*a}function d(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function f(t,e){return t[1][2]-e[1][2]}function m(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(f(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,a=n-1,o=e,s=i[o];if(r>a&&f(i[a],s)<0&&(s=i[o=a]),r>n&&f(i[n],s)<0&&(s=i[o=n]),o===e)break;i[s._=e]=s,i[t._=e=o]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(0>=r)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var a,o=n._;if(i[o]===n)return o!==--r&&(a=i[r],(f(a,n)<0?t:e)(i[a._=o]=a,o)),o},n}function g(t){if(!t)return y;var e,n,i=t.scale[0],r=t.scale[1],a=t.translate[0],o=t.translate[1];return function(t,s){s||(e=n=0),t[0]=(e+=t[0])*i+a,t[1]=(n+=t[1])*r+o}}function v(t){if(!t)return y;var e,n,i=t.scale[0],r=t.scale[1],a=t.translate[0],o=t.translate[1];return function(t,s){s||(e=n=0);var u=(t[0]-a)/i|0,c=(t[1]-o)/r|0;t[0]=u-e,t[1]=c-n,e=u,n=c}}function y(){}var _={version:"1.6.19",mesh:function(t){return s(t,i.apply(this,arguments))},meshArcs:i,merge:function(t){return s(t,r.apply(this,arguments))},mergeArcs:r,feature:a,neighbors:l,presimplify:h};"function"==typeof define&&define.amd?define(_):"object"==typeof e&&e.exports?e.exports=_:this.topojson=_}()},{}],399:[function(t,e,n){(function(){function t(t){function e(e,n,i,r,a,o){for(;a>=0&&o>a;a+=t){var s=r?r[a]:a;i=n(i,e[s],s,e)}return i}return function(n,i,r,a){i=b(i,a,4);var o=!A(n)&&x.keys(n),s=(o||n).length,u=t>0?0:s-1;return arguments.length<3&&(r=n[o?o[u]:u],u+=t),e(n,i,r,o,u,s)}}function i(t){return function(e,n,i){n=E(n,i);for(var r=S(e),a=t>0?0:r-1;a>=0&&r>a;a+=t)if(n(e[a],a,e))return a;return-1}}function r(t,e,n){return function(i,r,a){var o=0,s=S(i);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(i,r),i[a]===r?a:-1;if(r!==r)return a=e(p.call(i,o,s),x.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&s>a;a+=t)if(i[a]===r)return a;return-1}}function a(t,e){var n=D.length,i=t.constructor,r=x.isFunction(i)&&i.prototype||c,a="constructor";for(x.has(t,a)&&!x.contains(e,a)&&e.push(a);n--;)a=D[n],a in t&&t[a]!==r[a]&&!x.contains(e,a)&&e.push(a)}var o=this,s=o._,u=Array.prototype,c=Object.prototype,l=Function.prototype,h=u.push,p=u.slice,d=c.toString,f=c.hasOwnProperty,m=Array.isArray,g=Object.keys,v=l.bind,y=Object.create,_=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=x),n._=x):o._=x,x.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,a){return t.call(e,n,i,r,a)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?x.identity:x.isFunction(t)?b(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return E(t,e,1/0)};var w=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var a=arguments[r],o=t(a),s=o.length,u=0;s>u;u++){var c=o[u];e&&void 0!==n[c]||(n[c]=a[c])}return n}},C=function(t){if(!x.isObject(t))return{};if(y)return y(t);_.prototype=t;var e=new _;return _.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},M=Math.pow(2,53)-1,S=T("length"),A=function(t){var e=S(t);return"number"==typeof e&&e>=0&&M>=e};x.each=x.forEach=function(t,e,n){e=b(e,n);var i,r;if(A(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var a=x.keys(t);for(i=0,r=a.length;r>i;i++)e(t[a[i]],a[i],t)}return t},x.map=x.collect=function(t,e,n){e=E(e,n);for(var i=!A(t)&&x.keys(t),r=(i||t).length,a=Array(r),o=0;r>o;o++){var s=i?i[o]:o;a[o]=e(t[s],s,t)}return a},x.reduce=x.foldl=x.inject=t(1),x.reduceRight=x.foldr=t(-1),x.find=x.detect=function(t,e,n){var i;return i=A(t)?x.findIndex(t,e,n):x.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},x.filter=x.select=function(t,e,n){var i=[];return e=E(e,n),x.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},x.reject=function(t,e,n){return x.filter(t,x.negate(E(e)),n)},x.every=x.all=function(t,e,n){e=E(e,n);for(var i=!A(t)&&x.keys(t),r=(i||t).length,a=0;r>a;a++){var o=i?i[a]:a;if(!e(t[o],o,t))return!1}return!0},x.some=x.any=function(t,e,n){e=E(e,n);for(var i=!A(t)&&x.keys(t),r=(i||t).length,a=0;r>a;a++){var o=i?i[a]:a;if(e(t[o],o,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,i){return A(t)||(t=x.values(t)),("number"!=typeof n||i)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=p.call(arguments,2),i=x.isFunction(e);return x.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var i,r,a=-(1/0),o=-(1/0);if(null==e&&null!=t){t=A(t)?t:x.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],i>a&&(a=i)}else e=E(e,n),x.each(t,function(t,n,i){r=e(t,n,i),(r>o||r===-(1/0)&&a===-(1/0))&&(a=t,o=r)});return a},x.min=function(t,e,n){var i,r,a=1/0,o=1/0;if(null==e&&null!=t){t=A(t)?t:x.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],a>i&&(a=i)}else e=E(e,n),x.each(t,function(t,n,i){r=e(t,n,i),(o>r||r===1/0&&a===1/0)&&(a=t,o=r)});return a},x.shuffle=function(t){for(var e,n=A(t)?t:x.values(t),i=n.length,r=Array(i),a=0;i>a;a++)e=x.random(0,a),e!==a&&(r[a]=r[e]),r[e]=n[a];return r},x.sample=function(t,e,n){return null==e||n?(A(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=E(e,n),x.pluck(x.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(t){return function(e,n,i){var r={};return n=E(n,i),x.each(e,function(i,a){var o=n(i,a,e);t(r,i,o)}),r}};x.groupBy=k(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=k(function(t,e,n){t[n]=e}),x.countBy=k(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):A(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:A(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=E(e,n);var i=[],r=[];return x.each(t,function(t,n,a){(e(t,n,a)?i:r).push(t)}),[i,r]},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var L=function(t,e,n,i){for(var r=[],a=0,o=i||0,s=S(t);s>o;o++){var u=t[o];if(A(u)&&(x.isArray(u)||x.isArguments(u))){e||(u=L(u,e,n));var c=0,l=u.length;for(r.length+=l;l>c;)r[a++]=u[c++]}else n||(r[a++]=u)}return r};x.flatten=function(t,e){return L(t,e,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,e,n,i){x.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=E(n,i));for(var r=[],a=[],o=0,s=S(t);s>o;o++){var u=t[o],c=n?n(u,o,t):u;e?(o&&a===c||r.push(u),a=c):n?x.contains(a,c)||(a.push(c),r.push(u)):x.contains(r,u)||r.push(u)}return r},x.union=function(){return x.uniq(L(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);r>i;i++){var a=t[i];if(!x.contains(e,a)){for(var o=1;n>o&&x.contains(arguments[o],a);o++);o===n&&e.push(a)}}return e},x.difference=function(t){var e=L(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,S).length||0,n=Array(e),i=0;e>i;i++)n[i]=x.pluck(t,i);return n},x.object=function(t,e){for(var n={},i=0,r=S(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.findIndex=i(1),x.findLastIndex=i(-1),x.sortedIndex=function(t,e,n,i){n=E(n,i,1);for(var r=n(e),a=0,o=S(t);o>a;){var s=Math.floor((a+o)/2);n(t[s])<r?a=s+1:o=s}return a},x.indexOf=r(1,x.findIndex,x.sortedIndex),x.lastIndexOf=r(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),a=0;i>a;a++,t+=n)r[a]=t;return r};var P=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var a=C(t.prototype),o=t.apply(a,r);return x.isObject(o)?o:a};x.bind=function(t,e){if(v&&t.bind===v)return v.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return P(t,i,e,this,n.concat(p.call(arguments)))};return i},x.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,a=Array(r),o=0;r>o;o++)a[o]=e[o]===x?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return P(t,n,this,this,a)};return n},x.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(i){var r=n.cache,a=""+(e?e.apply(this,arguments):i);return x.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return n.cache={},n},x.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:x.now(),o=null,a=t.apply(i,r),o||(i=r=null)};return function(){var c=x.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return i=this,r=arguments,0>=l||l>e?(o&&(clearTimeout(o),o=null),s=c,a=t.apply(i,r),o||(i=r=null)):o||n.trailing===!1||(o=setTimeout(u,l)),a}},x.debounce=function(t,e,n){var i,r,a,o,s,u=function(){var c=x.now()-o;e>c&&c>=0?i=setTimeout(u,e-c):(i=null,n||(s=t.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=x.now();var c=n&&!i;return i||(i=setTimeout(u,e)),c&&(s=t.apply(a,r),a=r=null),s}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},x.once=x.partial(x.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return N&&a(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&a(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},x.mapObject=function(t,e,n){e=E(e,n);for(var i,r=x.keys(t),a=r.length,o={},s=0;a>s;s++)i=r[s],o[i]=e(t[i],i,t);return o},x.pairs=function(t){for(var e=x.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},x.invert=function(t){for(var e={},n=x.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=w(x.allKeys),x.extendOwn=x.assign=w(x.keys),x.findKey=function(t,e,n){e=E(e,n);for(var i,r=x.keys(t),a=0,o=r.length;o>a;a++)if(i=r[a],e(t[i],i,t))return i},x.pick=function(t,e,n){var i,r,a={},o=t;if(null==o)return a;x.isFunction(e)?(r=x.allKeys(o),i=b(e,n)):(r=L(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var s=0,u=r.length;u>s;s++){var c=r[s],l=o[c];i(l,c,o)&&(a[c]=l)}return a},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var i=x.map(L(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(i,e)}}return x.pick(t,e,n)},x.defaults=w(x.allKeys,!0),x.create=function(t,e){var n=C(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),a=0;i>a;a++){var o=n[a];if(e[o]!==r[o]||!(o in r))return!1}return!0};var R=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],n,i))return!1}else{var c,l=x.keys(t);if(u=l.length,x.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!x.has(e,c)||!R(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};x.isEqual=function(t,e){return R(t,e)},x.isEmpty=function(t){return null==t?!0:A(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=m||function(t){return"[object Array]"===d.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&f.call(t,e)},x.noConflict=function(){return o._=s,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=T,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=x.invert(I),B=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};x.escape=B(I),x.unescape=B(O),x.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),x.isFunction(i)?i.call(t):i};var F=0;x.uniqueId=function(t){var e=++F+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+z[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(i,function(e,n,i,o,s){return a+=t.slice(r,s).replace(j,H),r=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(s){throw s.source=a,s}var u=function(t){return o.call(this,t,x)},c=e.variable||"obj";return u.source="function("+c+"){\n"+a+"}",u},x.chain=function(t){var e=x(t);return e._chain=!0,e};var W=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),W(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),x.each(["concat","join","slice"],function(t){var e=u[t];x.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}]},{},[1]);